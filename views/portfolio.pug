extends layout.pug
block content 
    .col-12.px-0.pt-4
        .row.justify-content-center.mx-0.py-3
            span.page-title Portfolio
            .w-100.pt-3
                .row.justify-content-center
                    .page-title-underline
        
        //- .row
        //-     .column
        //-         img.hover-shadow(src='./assets/img/portfolio/1.webp', onclick='openModal();currentSlide(1)')
        //-     .column
        //-         img.hover-shadow(src='./assets/img/portfolio/2.webp', onclick='openModal();currentSlide(2)')
        //-     .column
        //-         img.hover-shadow(src='./assets/img/portfolio/3.webp', onclick='openModal();currentSlide(3)')
        //-     .column
        //-         img.hover-shadow(src='./assets/img/portfolio/4.webp', onclick='openModal();currentSlide(4)')
        //- // The Modal/Lightbox
        //- #myModal.modal
        //-     span.close.cursor(onclick='closeModal()') &times;
        //-     .modal-content
        //-         .mySlides
        //-             .numbertext 1 / 4
        //-             img(src='./assets/img/portfolio/1.webp', style='width:100%')
        //-         .mySlides
        //-             .numbertext 2 / 4
        //-             img(src='./assets/img/portfolio/2.webp', style='width:100%')
        //-         .mySlides
        //-             .numbertext 3 / 4
        //-             img(src='./assets/img/portfolio/3.webp', style='width:100%')
        //-         .mySlides
        //-             .numbertext 4 / 4
        //-             img(src='./assets/img/portfolio/4.webp', style='width:100%')
        //-         // Next/previous controls
        //-         a.prev(onclick='plusSlides(-1)') &#x276E;
        //-         a.next(onclick='plusSlides(1)') &#x276F;
        .row.justify-content-center.mx-0.py-3.w-100
            .col-12.col-sm-10.px-0.w-100
                .row.mx-0.w-100
                    .grid.w-100
                        .grid-sizer
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(1)", src='./assets/img/portfolio/1.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(2)",src='./assets/img/portfolio/2.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(3)",src='./assets/img/portfolio/3.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(4)",src='./assets/img/portfolio/4.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(5)",src='./assets/img/portfolio/5.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(6)",src='./assets/img/portfolio/6.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(7)",src='./assets/img/portfolio/7.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(8)",src='./assets/img/portfolio/8.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(9)",src='./assets/img/portfolio/9.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(10)",src='./assets/img/portfolio/10.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(11)",src='./assets/img/portfolio/11.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(12)",src='./assets/img/portfolio/12.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(13)",src='./assets/img/portfolio/13.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(14)",src='./assets/img/portfolio/14.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(15)",src='./assets/img/portfolio/15.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(16)",src='./assets/img/portfolio/16.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(17)",src='./assets/img/portfolio/17.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(18)",src='./assets/img/portfolio/18.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(19)",src='./assets/img/portfolio/19.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(20)",src='./assets/img/portfolio/20.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(21)",src='./assets/img/portfolio/21.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(22)",src='./assets/img/portfolio/22.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(23)",src='./assets/img/portfolio/23.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(24)",src='./assets/img/portfolio/24.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(25)",src='./assets/img/portfolio/25.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(26)",src='./assets/img/portfolio/26.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(27)",src='./assets/img/portfolio/27.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(28)",src='./assets/img/portfolio/28.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(29)",src='./assets/img/portfolio/29.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(30)",src='./assets/img/portfolio/30.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(31)",src='./assets/img/portfolio/31.webp')
                        .grid-item
                            img.hover-shadow.cursor-pointer(onclick="openModal();currentSlide(32)",src='./assets/img/portfolio/32.webp')
                        //- .grid-item
                            img(src='./assets/img/portfolio/33.webp')
                        //- .grid-item
                            img(src='./assets/img/portfolio/34.webp')
    #picturesModal.modal.fade.mx-0.px-0(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal-dialog-centered(role='document',style="min-width:fit-content;min-height:fit-content; width: fit-content;")
            .modal-content.px-0(style="width: fit-content;")
                .modal-body.p-0.position-relative(style="width: fit-content;")
                    // Next/previous controls
                    a.prev(onclick='plusSlides(-1)') &#x276E;
                    a.next(onclick='plusSlides(1)') &#x276F;
                    span.numbertext 1 / 32
                    img.slides(src='./assets/img/portfolio/1.webp')
                    img.slides.d-none(src='./assets/img/portfolio/2.webp')
                    img.slides.d-none(src='./assets/img/portfolio/3.webp')
                    img.slides.d-none(src='./assets/img/portfolio/4.webp')
                    img.slides.d-none(src='./assets/img/portfolio/5.webp')
                    img.slides.d-none(src='./assets/img/portfolio/6.webp')
                    img.slides.d-none(src='./assets/img/portfolio/7.webp')
                    img.slides.d-none(src='./assets/img/portfolio/8.webp')
                    img.slides.d-none(src='./assets/img/portfolio/9.webp')
                    img.slides.d-none(src='./assets/img/portfolio/10.webp')
                    img.slides.d-none(src='./assets/img/portfolio/11.webp')
                    img.slides.d-none(src='./assets/img/portfolio/12.webp')
                    img.slides.d-none(src='./assets/img/portfolio/13.webp')
                    img.slides.d-none(src='./assets/img/portfolio/14.webp')
                    img.slides.d-none(src='./assets/img/portfolio/15.webp')
                    img.slides.d-none(src='./assets/img/portfolio/16.webp')
                    img.slides.d-none(src='./assets/img/portfolio/17.webp')
                    img.slides.d-none(src='./assets/img/portfolio/18.webp')
                    img.slides.d-none(src='./assets/img/portfolio/19.webp')
                    img.slides.d-none(src='./assets/img/portfolio/20.webp')
                    img.slides.d-none(src='./assets/img/portfolio/21.webp')
                    img.slides.d-none(src='./assets/img/portfolio/22.webp')
                    img.slides.d-none(src='./assets/img/portfolio/23.webp')
                    img.slides.d-none(src='./assets/img/portfolio/24.webp')
                    img.slides.d-none(src='./assets/img/portfolio/25.webp')
                    img.slides.d-none(src='./assets/img/portfolio/26.webp')
                    img.slides.d-none(src='./assets/img/portfolio/27.webp')
                    img.slides.d-none(src='./assets/img/portfolio/28.webp')
                    img.slides.d-none(src='./assets/img/portfolio/29.webp')
                    img.slides.d-none(src='./assets/img/portfolio/30.webp')
                    img.slides.d-none(src='./assets/img/portfolio/31.webp')
                    img.slides.d-none(src='./assets/img/portfolio/32.webp')

append scripts 
        script(src='https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js')
        script.
            var keyboardControls=false;
            function openModal(){
                $('#picturesModal').modal('show');
                keyboardControls=true;
            }
            function closeModal(){
                $('#picturesModal').modal('hide');
                keyboardControls=false;
            }
            var slideIndex = 1;
            function currentSlide(n) {
            showSlides(slideIndex = n);
            }
            function plusSlides(n) {
                showSlides(slideIndex += n);
            }
            function showSlides(n) {
                var i;
                var slides = document.getElementsByClassName("slides");
                var numbertext = document.querySelector(".numbertext");
                if (n > slides.length) {slideIndex = 1}
                if (n < 1) {slideIndex = slides.length}
                for (i = 0; i < slides.length; i++) {
                    slides[i].classList.add("d-none");
                }
                slides[slideIndex-1].classList.remove("d-none");
                numbertext.innerHTML=slideIndex+" / 32";
            }
            window.addEventListener("keyup", function (event) {
                // Number 13 is the "Enter" key on the keyboard
                if (event.keyCode === 37) {
                    plusSlides(-1)
                }
                if (event.keyCode === 39) {
                    plusSlides(1)
                }
            })
        script.
            window.addEventListener('DOMContentLoaded', (event) => {
                var grid = document.querySelector('.grid');

                var msnry = new Masonry( grid, {
                itemSelector: '.grid-item',
                columnWidth: '.grid-sizer',
                percentPosition: true,
                gutter: 10,
                });

                imagesLoaded( grid ).on( 'progress', function() {
                msnry.layout();
                });
            });