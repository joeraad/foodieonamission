doctype html
html
    head
        meta(charset='utf-8')
        title Personal Library
        meta(name='description', content='Responsive, Bootstrap, BS4')
        meta(name='viewport', content='width=device-width, initial-scale=1, maximum-scale=1')
        // style
        // build:css /assets/css/site.min.css
        link(rel='preconnect', href='https://fonts.gstatic.com')
        link(href='https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap', rel='stylesheet')
        link(href='https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap', rel='stylesheet')
        link(href='https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap', rel='stylesheet')

        link(rel='stylesheet', href='https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css', type='text/css')
        link(rel='stylesheet' href='./assets/bower_components/bootstrap/dist/css/bootstrap.css')
        link(rel='stylesheet', href='/assets/css/bootstrap.css', type='text/css')
        link(rel='stylesheet', href='/assets/css/i-con.css', type='text/css')
        link(rel='stylesheet', href='/assets/css/theme.css', type='text/css')
        link(rel='stylesheet', href='/assets/css/style.css', type='text/css')
        link(rel='stylesheet', href='/assets/css/tooltips.css', type='text/css')
        link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/flickity/2.2.1/flickity.css', type='text/css')
        link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.17/css/bootstrap-select.min.css')
        link(rel='stylesheet', href='/assets/js/plugins/owlcarousel/dist/assets/owl.carousel.min.css')
        link(rel='stylesheet', href='/assets/js/plugins/owlcarousel/dist/assets/owl.theme.default.min.css')
        link(rel='stylesheet', href='/assets/css/uppy.min.css', type='text/css')
        link(rel='stylesheet', href='/assets/css/newDesign.css', type='text/css')
        //- meta(property='og:site_name', content='BlackBox')
        //- meta(property='og:url', content='https://privatebeta.onrender.com/personalLibrary/')
        //- meta(property='og:title', content="Blackbox - Personal Library")
        //- meta(property='og:description', content='Personal Library')
        //- meta(property='og:image', content='')
        //- meta(property='og:type', content='website')
        //- meta(name='viewport', content='width=device-width, initial-scale=1')
        
        if user
            if user.workspaceColors
                style.
                    .bg-body {
                        background-color:  !{user.workspaceColors.body} !important;
                    }
                    .bg-sideNav{
                        background-color:  !{user.workspaceColors.sideNav} !important;
                    }
                    .bg-header{
                        background-color:  !{user.workspaceColors.header} !important;
                    }
                    .bg-buttons{
                        background-color:  !{user.workspaceColors.buttons} !important;
                        color: !{user.workspaceColors.buttonsText} !important;
                    }
                    
                    .bg-buttons span{
                        color:!{user.workspaceColors.buttonsText} !important;
                    }
                    .bg-buttons p{
                        color:!{user.workspaceColors.buttonsText} !important;
                    }
                    
                    .bg-buttons:hover span{
                        color:!{user.workspaceColors.buttonsText} !important;
                    }
                    .bg-buttons:active p{
                        color:!{user.workspaceColors.buttonsText} !important;
                    }
                    .bg-buttons:hover{
                        background-color: !{user.workspaceColors.buttonsHover} !important;
                        color:!{user.workspaceColors.buttonsText} !important;
                    }
                    .bg-buttons:active{
                        background-color: !{user.workspaceColors.buttonsActive} !important;
                        color:!{user.workspaceColors.buttonsText} !important;
                    }
                    .bg-buttons-contrast{
                        background-color: !{user.workspaceColors.buttonsContrast} !important;
                        color:!{user.workspaceColors.buttonsTextContrast} !important;
                    }
                    .bg-buttons-contrast span{
                        color:!{user.workspaceColors.buttonsTextContrast} !important;
                    }
                    .bg-buttons-contrast p{
                        color:!{user.workspaceColors.buttonsTextContrast} !important;
                    }
                    .bg-buttons-contrast:hover{
                        background-color: !{user.workspaceColors.buttonsHoverContrast} !important;
                        color:!{user.workspaceColors.buttonsTextContrast} !important;
                    }
                    .bg-buttons-contrast:active{
                        background-color: !{user.workspaceColors.buttonsActiveContrast} !important;
                        color:!{user.workspaceColors.buttonsTextContrast} !important;
                    }
                    .bg-buttons-contrast:hover span{
                        color:!{user.workspaceColors.buttonsTextContrast} !important;
                    }
                    .bg-buttons-contrast:active p{
                        color:!{user.workspaceColors.buttonsTextContrast} !important;
                    }
                    .text-color-main{
                        color:!{user.workspaceColors.text} !important;
                    }
                    .text-color-contrast{
                        color:!{user.workspaceColors.textContrast} !important;
                    }
                    .text-color-sideNav{
                        color:!{user.workspaceColors.textSidenav} !important;
                    }
                    .text-color-sideNav-hover{
                        color:!{user.workspaceColors.textSidenavHover} !important;
                    }
                    .text-color-sideNav:hover{
                        color:!{user.workspaceColors.textSidenavHover} !important;
                    }
                    .sideNav-borderHover{
                        border-left-color: !{user.workspaceColors.sideNavBorderHover} !important;
                    }
                    .sideNav-hoverColor:hover{
                        background-color: !{user.workspaceColors.sideNavHover} !important;
                    }
                    .text-color-header{
                        color:!{user.workspaceColors.textHeader} !important;
                    }
                    .t{

                    }
            else
                style.
                    .bg-body {
                        background-color:  #fff !important;
                    }
                    .bg-sideNav{
                        background-color:  #fff !important;
                    }
                    .bg-header{
                        background-color:  #fff !important;
                    }
                    .bg-buttons{
                        background-color:  #fff !important;
                        color: #393856 !important;
                    }
                    
                    .bg-buttons span{
                        color:#393856 !important;
                    }
                    .bg-buttons p{
                        color:#393856!important;
                    }
                    
                    .bg-buttons:hover span{
                        color:#393856 !important;
                    }
                    .bg-buttons:active p{
                        color:#393856 !important;
                    }
                    .bg-buttons:hover{
                        background-color: #EBEBEE !important;
                        color:#393856 !important;
                    }
                    .bg-buttons:active{
                        background-color: #C3C3CC !important;
                        color:#393856 !important;
                    }
                    .bg-buttons-contrast{
                        background-color: #2681f2 !important;
                        color:#f7f7f8 !important;
                    }
                    .bg-buttons-contrast span{
                        color:#f7f7f8 !important;
                    }
                    .bg-buttons-contrast p{
                        color:#f7f7f8 !important;
                    }
                    .bg-buttons-contrast:hover{
                        background-color: #0e71eb !important;
                        color:#f7f7f8 !important;
                    }
                    .bg-buttons-contrast:active{
                        background-color: #0e71eb !important;
                        color:#f7f7f8 !important;
                    }
                    .bg-buttons-contrast:hover span{
                        color:#f7f7f8 !important;
                    }
                    .bg-buttons-contrast:active p{
                        color:#f7f7f8 !important;
                    }
                    .text-color-main{
                        color:#393856 !important;
                    }
                    .text-color-contrast{
                        color:#fff !important;
                    }
                    .text-color-sideNav{
                        color:#bfbfc6 !important;
                    }
                    .text-color-sideNav-hover{
                        color:#393856 !important;
                    }
                    .text-color-sideNav:hover{
                        color:#393856 !important;
                    }
                    .sideNav-borderHover{
                        border-left-color: #0073b1 !important;
                    }
                    .sideNav-hoverColor:hover{
                        background-color: #e5effa !important;
                    }
                    .text-color-header{
                        color:#393856 !important;
                    }
        else
            if sharedFrom
                if sharedFrom.workspaceColors
                    style.
                        .bg-body {
                            background-color:  !{sharedFrom.workspaceColors.body} !important;
                        }
                        .bg-sideNav{
                            background-color:  !{sharedFrom.workspaceColors.sideNav} !important;
                        }
                        .bg-header{
                            background-color:  !{sharedFrom.workspaceColors.header} !important;
                        }
                        .bg-buttons{
                            background-color:  !{sharedFrom.workspaceColors.buttons} !important;
                            color: !{sharedFrom.workspaceColors.buttonsText} !important;
                        }
                        
                        .bg-buttons span{
                            color:!{sharedFrom.workspaceColors.buttonsText} !important;
                        }
                        .bg-buttons p{
                            color:!{sharedFrom.workspaceColors.buttonsText} !important;
                        }
                        
                        .bg-buttons:hover span{
                            color:!{sharedFrom.workspaceColors.buttonsText} !important;
                        }
                        .bg-buttons:active p{
                            color:!{sharedFrom.workspaceColors.buttonsText} !important;
                        }
                        .bg-buttons:hover{
                            background-color: !{sharedFrom.workspaceColors.buttonsHover} !important;
                            color:!{sharedFrom.workspaceColors.buttonsText} !important;
                        }
                        .bg-buttons:active{
                            background-color: !{sharedFrom.workspaceColors.buttonsActive} !important;
                            color:!{sharedFrom.workspaceColors.buttonsText} !important;
                        }
                        .bg-buttons-contrast{
                            background-color: !{sharedFrom.workspaceColors.buttonsContrast} !important;
                            color:!{sharedFrom.workspaceColors.buttonsTextContrast} !important;
                        }
                        .bg-buttons-contrast span{
                            color:!{sharedFrom.workspaceColors.buttonsTextContrast} !important;
                        }
                        .bg-buttons-contrast p{
                            color:!{sharedFrom.workspaceColors.buttonsTextContrast} !important;
                        }
                        .bg-buttons-contrast:hover{
                            background-color: !{sharedFrom.workspaceColors.buttonsHoverContrast} !important;
                            color:!{sharedFrom.workspaceColors.buttonsTextContrast} !important;
                        }
                        .bg-buttons-contrast:active{
                            background-color: !{sharedFrom.workspaceColors.buttonsActiveContrast} !important;
                            color:!{sharedFrom.workspaceColors.buttonsTextContrast} !important;
                        }
                        .bg-buttons-contrast:hover span{
                            color:!{sharedFrom.workspaceColors.buttonsTextContrast} !important;
                        }
                        .bg-buttons-contrast:active p{
                            color:!{sharedFrom.workspaceColors.buttonsTextContrast} !important;
                        }
                        .text-color-main{
                            color:!{sharedFrom.workspaceColors.text} !important;
                        }
                        .text-color-contrast{
                            color:!{sharedFrom.workspaceColors.textContrast} !important;
                        }
                        .text-color-sideNav{
                            color:!{sharedFrom.workspaceColors.textSidenav} !important;
                        }
                        .text-color-sideNav-hover{
                            color:!{sharedFrom.workspaceColors.textSidenavHover} !important;
                        }
                        .text-color-sideNav:hover{
                            color:!{sharedFrom.workspaceColors.textSidenavHover} !important;
                        }
                        .sideNav-borderHover{
                            border-left-color: !{sharedFrom.workspaceColors.sideNavBorderHover} !important;
                        }
                        .sideNav-hoverColor:hover{
                            background-color: !{sharedFrom.workspaceColors.sideNavHover} !important;
                        }
                        .text-color-header{
                            color:!{sharedFrom.workspaceColors.textHeader} !important;
                        }
                        .t{

                        }
                else
                    style.
                        .bg-body {
                            background-color:  #fff !important;
                        }
                        .bg-sideNav{
                            background-color:  #fff !important;
                        }
                        .bg-header{
                            background-color:  #fff !important;
                        }
                        .bg-buttons{
                            background-color:  #fff !important;
                            color: #393856 !important;
                        }
                        
                        .bg-buttons span{
                            color:#393856 !important;
                        }
                        .bg-buttons p{
                            color:#393856!important;
                        }
                        
                        .bg-buttons:hover span{
                            color:#393856 !important;
                        }
                        .bg-buttons:active p{
                            color:#393856 !important;
                        }
                        .bg-buttons:hover{
                            background-color: #EBEBEE !important;
                            color:#393856 !important;
                        }
                        .bg-buttons:active{
                            background-color: #C3C3CC !important;
                            color:#393856 !important;
                        }
                        .bg-buttons-contrast{
                            background-color: #2681f2 !important;
                            color:#f7f7f8 !important;
                        }
                        .bg-buttons-contrast span{
                            color:#f7f7f8 !important;
                        }
                        .bg-buttons-contrast p{
                            color:#f7f7f8 !important;
                        }
                        .bg-buttons-contrast:hover{
                            background-color: #0e71eb !important;
                            color:#f7f7f8 !important;
                        }
                        .bg-buttons-contrast:active{
                            background-color: #0e71eb !important;
                            color:#f7f7f8 !important;
                        }
                        .bg-buttons-contrast:hover span{
                            color:#f7f7f8 !important;
                        }
                        .bg-buttons-contrast:active p{
                            color:#f7f7f8 !important;
                        }
                        .text-color-main{
                            color:#393856 !important;
                        }
                        .text-color-contrast{
                            color:#fff !important;
                        }
                        .text-color-sideNav{
                            color:#bfbfc6 !important;
                        }
                        .text-color-sideNav-hover{
                            color:#393856 !important;
                        }
                        .text-color-sideNav:hover{
                            color:#393856 !important;
                        }
                        .sideNav-borderHover{
                            border-left-color: #0073b1 !important;
                        }
                        .sideNav-hoverColor:hover{
                            background-color: #e5effa !important;
                        }
                        .text-color-header{
                            color:#393856 !important;
                        }
            else
                style.
                    .bg-body {
                        background-color:  #fff !important;
                    }
                    .bg-sideNav{
                        background-color:  #fff !important;
                    }
                    .bg-header{
                        background-color:  #fff !important;
                    }
                    .bg-buttons{
                        background-color:  #fff !important;
                        color: #393856 !important;
                    }
                    
                    .bg-buttons span{
                        color:#393856 !important;
                    }
                    .bg-buttons p{
                        color:#393856!important;
                    }
                    
                    .bg-buttons:hover span{
                        color:#393856 !important;
                    }
                    .bg-buttons:active p{
                        color:#393856 !important;
                    }
                    .bg-buttons:hover{
                        background-color: #EBEBEE !important;
                        color:#393856 !important;
                    }
                    .bg-buttons:active{
                        background-color: #C3C3CC !important;
                        color:#393856 !important;
                    }
                    .bg-buttons-contrast{
                        background-color: #2681f2 !important;
                        color:#f7f7f8 !important;
                    }
                    .bg-buttons-contrast span{
                        color:#f7f7f8 !important;
                    }
                    .bg-buttons-contrast p{
                        color:#f7f7f8 !important;
                    }
                    .bg-buttons-contrast:hover{
                        background-color: #0e71eb !important;
                        color:#f7f7f8 !important;
                    }
                    .bg-buttons-contrast:active{
                        background-color: #0e71eb !important;
                        color:#f7f7f8 !important;
                    }
                    .bg-buttons-contrast:hover span{
                        color:#f7f7f8 !important;
                    }
                    .bg-buttons-contrast:active p{
                        color:#f7f7f8 !important;
                    }
                    .text-color-main{
                        color:#393856 !important;
                    }
                    .text-color-contrast{
                        color:#fff !important;
                    }
                    .text-color-sideNav{
                        color:#bfbfc6 !important;
                    }
                    .text-color-sideNav-hover{
                        color:#393856 !important;
                    }
                    .text-color-sideNav:hover{
                        color:#393856 !important;
                    }
                    .sideNav-borderHover{
                        border-left-color: #0073b1 !important;
                    }
                    .sideNav-hoverColor:hover{
                        background-color: #e5effa !important;
                    }
                    .text-color-header{
                        color:#393856 !important;
                    }
                
    body.layout-column.hide-scroll.bg-body
        #main.layout-row.flex.position-relative
            
            //- if(!user)
                #visitorBanner.position-fixed.row.mx-0.py-1.upgradeToPremiumBanner.w-100(style="bottom:0; z-index:99999; ")
                    .col-12
                        .row.justify-content-between.align-items-center.px-2
                            .col-auto
                                p.mb-0.banner-textLeft UNLOCK THE 
                                p.mb-0.banner-textLeft POWER OF BLACKBOX
                            .col-auto
                                p.mb-0.banner-textCenter START NOW WITH BLACKBOX
                            div
                                .row.mx-0
                                    a.btn.btn-signin-banner.mx-2.d-inline-flex.px-5(href="/users/signin")
                                        span Sign in
                                    a.btn.btn-signup-banner.mx-2.d-inline-flex.px-5(href="/users/signup")
                                        span Sign Up
            if(videoWeeklyLimitReached||documentWeeklyLimitReached)
                #upgradeToPremiumBanner.position-fixed.row.mx-0.py-1.upgradeToPremiumBanner.w-100(style="bottom:0; z-index:99999; ")
                    .col-12
                        .row.justify-content-between.align-items-center.px-2
                            .col-auto
                                p.mb-0.banner-textLeft UNLOCK THE 
                                p.mb-0.banner-textLeft POWER OF BLACKBOX
                            .col-auto
                                p.mb-0.banner-textCenter UNLIMITED ACCESS. 1$ / mo
                            div
                                .row.mx-0
                                    a.btn.btn-upgrade-banner.mx-2.d-inline-flex.px-5(href="/payment")
                                        | GET AFTER IT
            // ############ Aside START
            #aside.page-sidenav.no-shrink.no-bg(aria-hidden='true')
                #sidenav.sidenav.h-100.modal-dialog.box-shadow.font-weight-bold.text-md-left.no-border.bg-sideNav
                    // sidenav top
                    //- div.justify-items-start.position-absolute.d-lg-none(style="top:22px; right:10px;")
                        a.i-con-h-a.pl-3.ml-0.mr-sm-3.m-lg-0.mr-3(data-toggle='modal', data-target='#aside')
                            i.i-con.i-con-menu.text-muted
                    .row.mx-0.mt-1.position-absolute(style="top:19px; left:15px")
                        div.justify-items-center.align-items-center
                            if user
                                if(user.workspaceImageAzureUrl!=undefined)
                                    a(href='/').align-items-center.row.mx-0
                                        .row.align-items-center.mx-0
                                            img.avatar.d-inline-flex(src=user.workspaceImageAzureUrl, alt='...' style="max-width:160px;max-height:36px; border-radius:0px; object-fit: cover;")
                                            //- .logo.d-inline-flex.position-relative
                                                .logo.white
                                            //- span.hidden-folded.d-inline.sidenav-Title.px-1.mb-0 BlackBox
                                else
                                    a(href='/').align-items-center.row.mx-0
                                        .row.align-items-center.mx-0
                                            .logo.d-inline-flex.position-relative
                                                .logo.white
                                            span.hidden-folded.d-inline.sidenav-Title.px-1.mb-0 BlackBox
                            else
                                if sharedFrom
                                    if(sharedFrom.workspaceImageAzureUrl!=undefined)
                                        a(href='/').align-items-center.row.mx-0
                                            .row.align-items-center.mx-0
                                                img.avatar.d-inline-flex(src=sharedFrom.workspaceImageAzureUrl, alt='...' style="max-width:160px;max-height:36px; border-radius:0px; object-fit: cover;")
                                                //- .logo.d-inline-flex.position-relative
                                                    .logo.white
                                                //- span.hidden-folded.d-inline.sidenav-Title.px-1.mb-0 BlackBox
                                    else
                                        a(href='/').align-items-center.row.mx-0
                                            .row.align-items-center.mx-0
                                                .logo.d-inline-flex.position-relative
                                                    .logo.white
                                                span.hidden-folded.d-inline.sidenav-Title.px-1.mb-0 BlackBox
                                else
                                    a(href='/').align-items-center.row.mx-0
                                        .row.align-items-center.mx-0
                                            .logo.d-inline-flex.position-relative
                                                .logo.white
                                            span.hidden-folded.d-inline.sidenav-Title.px-1.mb-0 BlackBox
                    // Flex nav content
                    .row.mx-0.mt-4.mb-5
                    .flex.scrollable.hover.mt-3
                        .nav-border.b-primary.sidenav-content(data-nav='')
                            //- ul.nav.nav-side.sideNav-invite.mb-3.position-relative.mt-0
                                //- if user
                                    if (user.downloadedExtension==undefined||user.downloadedExtension==false)
                                        a.row.justify-content-center.py-0(href='#', onClick="dismissPopup('popup-invite')" )
                                            li.overflow-hidden.row.justify-content-center.align-items-center.py-2
                                                svg.mr-3(xmlns='http://www.w3.org/2000/svg' width='27' height='28' viewBox='0 0 24 24' fill='none' stroke='#fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Chrome')
                                                    circle(cx='12' cy='12' r='10')
                                                    circle(cx='12' cy='12' r='4')
                                                    line(x1='21.17' y1='8' x2='12' y2='8')
                                                    line(x1='3.95' y1='6.06' x2='8.54' y2='14')
                                                    line(x1='10.88' y1='21.94' x2='15.46' y2='14')
                                                div.text-center
                                                    p.sidenav-Text.downloadExtension.mb-0.py-0.mx-0 DOWNLOAD
                                                    p.sidenav-Text.downloadExtension.mb-0.py-0.mx-0 CHROME EXTENSION
                            
                            ul.nav.nav-side.mt-0.mb-2
                                p.sidenav-subTitle.pl-3.mb-3.text-color-sideNav-hover Libraries
                                a.row.sideNavItem.position-relative.mx-1.sideNav-hoverColor(href='/personalLibrary' )
                                    .borderLeft.position-absolute.sideNav-borderHover
                                    #sideNav-personal.d-inline-flex.mx-2.w-100.align-items-center.pl-0.py-1
                                        li#sideNav-personal-li.overflow-hidden.row.justify-content-start.w-100.align-items-center.my-0.ml-1.py-2
                                            svg.mr-1(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#9797a5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='User')
                                                path(d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2')
                                                circle(cx='12' cy='7' r='4')
                                            span.sidenav-Text.p-0.text-color-sideNav Personal
                                if user
                                    for video, i in unSortedVideos
                                        if(video.videoID==undefined)
                                            a.row.sideNavItem.position-relative.mx-1.sideNav-hoverColor(href='/videos/'+video._id+'?videoid='+video.azureFileName )
                                                .borderLeft.position-absolute.sideNav-borderHover
                                                .d-inline-flex.mx-2.w-100.align-items-center.pl-0.mx-4.py-1
                                                    li#sideNav-personal-li.overflow-hidden.row.justify-content-start.w-100.align-items-center.my-0.ml-3.py-2
                                                        span.sidenav-Text.p-0.text-color-sideNav=video.title
                                        else
                                            a.row.sideNavItem.position-relative.mx-1.sideNav-hoverColor(href='/videos/'+video._id+'?videoid='+video.videoID )
                                                .borderLeft.position-absolute.sideNav-borderHover
                                                .d-inline-flex.mx-2.w-100.align-items-center.pl-0.mx-4.py-1
                                                    li#sideNav-personal-li.overflow-hidden.row.justify-content-start.w-100.align-items-center.my-0.ml-3.py-2
                                                        span.sidenav-Text.p-0.text-color-sideNav=video.title
                                else
                                    if sharedFrom
                                        for video, i in sharedFrom.videos
                                            if(video.videoID==undefined)
                                                a.row.sideNavItem.position-relative.mx-1.sideNav-hoverColor(href='/videos/'+video._id+'?videoid='+video.azureFileName+"&from="+sharedFrom._id)
                                                    .borderLeft.position-absolute.sideNav-borderHover
                                                    .d-inline-flex.mx-2.w-100.align-items-center.pl-0.mx-4.py-1
                                                        li#sideNav-personal-li.overflow-hidden.row.justify-content-start.w-100.align-items-center.my-0.ml-3.py-2
                                                            span.sidenav-Text.p-0.text-color-sideNav=video.title
                                            else
                                                a.row.sideNavItem.position-relative.mx-1.sideNav-hoverColor(href='/videos/'+video._id+'?videoid='+video.videoID+"&from="+sharedFrom._id )
                                                    .borderLeft.position-absolute.sideNav-borderHover
                                                    .d-inline-flex.mx-2.w-100.align-items-center.pl-0.mx-4.py-1
                                                        li#sideNav-personal-li.overflow-hidden.row.justify-content-start.w-100.align-items-center.my-0.ml-3.py-2
                                                            span.sidenav-Text.p-0.text-color-sideNav=video.title
                                //- a.row.sideNavItem.position-relative.mx-1(href='/shared' )
                                //-     .borderLeft.position-absolute
                                //-     #sideNav-shared.d-inline-flex.mx-2.w-100.align-items-center.pl-0.py-1
                                //-         li#sideNav-shared-li.overflow-hidden.row.justify-content-start.w-100.align-items-center.my-0.ml-1.py-2
                                //-             svg.mr-1(xmlns='http://www.w3.org/2000/svg' width='16' height='14' viewBox='0 0 24 24' fill='none' stroke='#9797a5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Share')
                                //-                 path(d='M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8')
                                //-                 polyline(points='16 6 12 2 8 6')
                                //-                 line(x1='12' y1='2' x2='12' y2='15')
                                //-             span.sidenav-Text.p-0 Shared
                                div.row.sideNavItem.position-relative.mx-1.sideNav-hoverColor
                                    .borderLeft.position-absolute.sideNav-borderHover
                                    .row.mx-0.justify-content-between.mx-2.w-100.py-1
                                        a#sideNav-teams.flex.flex-grow.d-inline-flex.align-items-center(href='/teams' )
                                            li#sideNav-teams-li.overflow-hidden.row.justify-content-start.align-items-center.my-0.ml-1.py-2
                                                span.sidenav-Text.p-0.text-color-sideNav-hover Tags

                                if user
                                    for tag, i in tags
                                        div.row.sideNavItem.position-relative.mx-1.sideNav-hoverColor
                                            .borderLeft.position-absolute.sideNav-borderHover
                                            .row.mx-0.justify-content-between.mx-2.w-100.py-1.align-item-center
                                                a.row.sideNavItem.position-relative.mx-1.w-75(href='/tag/'+tag)
                                                    li#sideNav-personal-li.overflow-hidden.row.justify-content-start.w-100.align-items-center.my-0.ml-3.py-2
                                                        span.sidenav-Text.p-0.text-color-sideNav=tag
                                
                                div.row.sideNavItem.position-relative.mx-1.sideNav-hoverColor
                                    .borderLeft.position-absolute.sideNav-borderHover
                                    .row.mx-0.justify-content-between.mx-2.w-100.py-1
                                        a#sideNav-teams.flex.flex-grow.d-inline-flex.align-items-center(href='/teams' )
                                            li#sideNav-teams-li.overflow-hidden.row.justify-content-start.align-items-center.my-0.ml-1.py-2
                                                svg.mr-1(xmlns='http://www.w3.org/2000/svg' width='16' height='14' viewBox='0 0 24 24' fill='none' stroke='#9797a5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Users')
                                                    path(d='M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2')
                                                    circle(cx='9' cy='7' r='4')
                                                    path(d='M23 21v-2a4 4 0 0 0-3-3.87')
                                                    path(d='M16 3.13a4 4 0 0 1 0 7.75')
                                                span.sidenav-Text.p-0.text-color-sideNav-hover Teams
                                        if user
                                            a#sideNav-teams.d-inline-flex.align-items-center.pl-0(data-toggle='modal', data-target='#createTeamModal' )
                                                li#sideNav-teams-li.overflow-hidden.row.justify-content-start.align-items-center(data-toggle="tooltip" data-placement="bottom" title="Create New Team")
                                                    svg(xmlns='http://www.w3.org/2000/svg', width='18', height='16', viewbox='0 0 24 24', fill='none', stroke='#BFBFC6', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                        line(x1='12', y1='5', x2='12', y2='19')
                                                        line(x1='5', y1='12', x2='19', y2='12')
                                        else
                                            a#sideNav-teams.d-inline-flex.align-items-center.pl-0(data-toggle='modal', data-target='#loginModal' onclick="changeModalText('share')")
                                                li#sideNav-teams-li.overflow-hidden.row.justify-content-start.align-items-center(data-toggle="tooltip" data-placement="bottom" title="Create New Team")
                                                    svg(xmlns='http://www.w3.org/2000/svg', width='18', height='16', viewbox='0 0 24 24', fill='none', stroke='#BFBFC6', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                        line(x1='12', y1='5', x2='12', y2='19')
                                                        line(x1='5', y1='12', x2='19', y2='12')

                                if user
                                    for team, i in teams
                                        div.row.sideNavItem.position-relative.mx-1.sideNav-hoverColor
                                            .borderLeft.position-absolute.sideNav-borderHover
                                            .row.mx-0.justify-content-between.mx-2.w-100.py-1.align-item-center
                                                a.row.sideNavItem.position-relative.mx-1.w-75(href='/teams/'+team.teamID )
                                                    li#sideNav-personal-li.overflow-hidden.row.justify-content-start.w-100.align-items-center.my-0.ml-3.py-2
                                                        span.sidenav-Text.p-0.text-color-sideNav=team.name
                                                a#sideNav-teams.align-items-center.pl-0.showOnHover(data-toggle='modal', data-target='#teamMembersModal', onClick="selectTeamModal('"+team.teamID+"')")
                                                    li#sideNav-teams-li.overflow-hidden.row.justify-content-start.align-items-center(data-toggle="tooltip" data-placement="bottom" title="Add Members")
                                                        svg(xmlns='http://www.w3.org/2000/svg', width='20', height='20', viewbox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                            path(d='M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2')
                                                            circle(cx='8.5', cy='7', r='4')
                                                            line(x1='20', y1='8', x2='20', y2='14')
                                                            line(x1='23', y1='11', x2='17', y2='11')

                    .no-shrink
                        ul.nav.nav-side.sideNav-invite.position-relative.bg-buttons-contrast
                            if user
                                a.row.justify-content-center.mx-0.py-1(href='#', data-toggle='modal', data-target='#inviteModal' onClick="sendInvites(),dismissPopup('popup-invite')" )
                                    li.overflow-hidden.row.mx-0.justify-content-center.align-items-center.py-2
                                        svg.mr-1(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='UserPlus')
                                            path(d='M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2')
                                            circle(cx='8.5' cy='7' r='4')
                                            line(x1='20' y1='8' x2='20' y2='14')
                                            line(x1='23' y1='11' x2='17' y2='11')
                                        span.sidenav-Text.invite Invite members
                                .position-absolute.message-popup.p-3.d-none#popup-invite(style="top:-414%;")
                                    .row.mx-0.align-content-center.pt-0.pb-2
                                        img.avatar.d-inline-flex(src="https://ui-avatars.com/api/?name=R&background=2387FF&color=fff", alt='...' style="max-width:35px")
                                        span.message-popup-title.pt-2.px-2 Roger from Blackbox
                                    p.mb-0.message-popup-text.py-2 Invite your teammates to join Blackbox
                                    .row.mx-0.justify-content-end.mb-0.mt-2.position-relative
                                        svg.position-absolute( transform='rotate(180)' style='bottom:-95%; left:40%; position: absolute; width: 31px; height: 14px; overflow: visible; display: block; transform: translate(16px, 16px) rotate(180); ' width='62' height='37' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' )
                                            path(d='M 0 14 C 0 14 1.532 14 5.407 10.5 C 9.282 7 15.5 0 15.5 0 C 15.5 0 21.718 7 25.593 10.5 C 29.468 14 31 14 31 14 Z' fill='#0073B1' stroke='rgba(0, 115, 177, 0)' stroke-linecap='round' stroke-linejoin='round' name='Path')
                                        button.btn.btn-message-popup(onClick="dismissPopup('popup-invite')")
                                            span Got it!    
                            else
                                a.row.justify-content-center.mx-0.py-1(href='#', data-toggle='modal', data-target='#loginModal' onclick="changeModalText('signup')" onClick="dismissPopup('popup-invite')" )
                                    li.overflow-hidden.row.mx-0.justify-content-center.align-items-center.py-2
                                        svg.mr-1(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='UserPlus')
                                            path(d='M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2')
                                            circle(cx='8.5' cy='7' r='4')
                                            line(x1='20' y1='8' x2='20' y2='14')
                                            line(x1='23' y1='11' x2='17' y2='11')
                                        span.sidenav-Text.invite Invite members
                                .position-absolute.message-popup.p-3.d-none#popup-invite(style="top:-414%;")
                                    .row.mx-0.align-content-center.pt-0.pb-2
                                        img.avatar.d-inline-flex(src="https://ui-avatars.com/api/?name=R&background=2387FF&color=fff", alt='...' style="max-width:35px")
                                        span.message-popup-title.pt-2.px-2 Roger from Blackbox
                                    p.mb-0.message-popup-text.py-2 Invite your teammates to join Blackbox
                                    .row.mx-0.justify-content-end.mb-0.mt-2.position-relative
                                        svg.position-absolute( transform='rotate(180)' style='bottom:-95%; left:40%; position: absolute; width: 31px; height: 14px; overflow: visible; display: block; transform: translate(16px, 16px) rotate(180); ' width='62' height='37' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' )
                                            path(d='M 0 14 C 0 14 1.532 14 5.407 10.5 C 9.282 7 15.5 0 15.5 0 C 15.5 0 21.718 7 25.593 10.5 C 29.468 14 31 14 31 14 Z' fill='#0073B1' stroke='rgba(0, 115, 177, 0)' stroke-linecap='round' stroke-linejoin='round' name='Path')
                                        button.btn.btn-message-popup(onClick="dismissPopup('popup-invite')")
                                            span Got it!    
                    // sidenav bottom
                    //- .no-shrink.d-none
                        .text-sm.p-3.b-t
                            .hidden-folded
                                .row.justify-content-between.mx-0
                                    if user
                                        .text-muted
                                            a.text-muted.d-inline-flex(href="/users/logout") Logout
                                    .text-muted
                                        .onesignal-customlink-container.d-inline-flex
            // ############ Aside END

            // ############ LAYOUT START
            
            #content.flex.hide-scroll
                #videoSelectBanner.position-fixed.row.mx-0.m-3.videoSelectBanner.d-none(style="bottom:0; z-index:99999; ")
                    .col-12.px-0
                        .row.justify-content-between.align-items-center.px-2.h-100.mx-0
                            .col-auto.px-2
                                .row.align-items-center.h-100.mx-0
                                    span.videoSelectBanner-videoCount 1 video slected
                                    button.btn.btn-videoSelectBanner.no-shadow.no-border.mx-2.p-2(onClick="selectAllVideos()")
                                        | Select All
                            .col-auto.px-0
                                if user
                                    button.btn.mx-2.btn-videoSelectBanner.no-shadow.no-border.p-2(data-toggle="tooltip" data-placement="top" title="Add Tags" onClick="openTagsModal()")
                                        | Add Tags
                                    button.btn.mx-2.btn-videoSelectBanner.no-shadow.no-border.p-2(data-toggle="tooltip" data-placement="top" title="Share to team" onClick="openShareToTeam()")
                                        svg(xmlns='http://www.w3.org/2000/svg', width='17', height='17', viewbox='0 0 24 24', fill='none', stroke='#F7F7F8', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                            path(d='M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2')
                                            circle(cx='9', cy='7', r='4')
                                            path(d='M23 21v-2a4 4 0 0 0-3-3.87')
                                            path(d='M16 3.13a4 4 0 0 1 0 7.75')
                                    button.btn.mx-2.btn-videoSelectBanner.no-shadow.no-border.p-2(data-toggle="tooltip" data-placement="top" title="Copy link" onClick="copyMultipleVideos('"+(user === null ? visitorID : user._id)+"')")
                                        svg(xmlns='http://www.w3.org/2000/svg', width='17', height='17', viewbox='0 0 24 24', fill='none', stroke='#F7F7F8', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                            path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                                            line(x1='8', y1='12', x2='16', y2='12')
                                    button.btn.mx-2.btn-videoSelectBanner.no-shadow.no-border.p-2(data-toggle="tooltip" data-placement="top" title="Send by email" onClick="sendByEmailMultipleVideos('"+(user === null ? visitorID : user._id)+"')")
                                        svg(xmlns='http://www.w3.org/2000/svg', width='17', height='17', viewbox='0 0 24 24', fill='none', stroke='#F7F7F8', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                            path(d='M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z')
                                            polyline(points='22,6 12,13 2,6')
                                    button.btn.p-2.btn-videoSelectBanner.no-shadow.no-border(onClick="cancelSelectAllVideos()")
                                        | Cancel
                                else
                                    button.btn.mx-2.btn-videoSelectBanner.no-shadow.no-border.p-2(data-toggle='modal', data-target='#loginModal' onclick="changeModalText('share')")
                                        svg(data-toggle="tooltip" data-placement="top" title="Share to team" xmlns='http://www.w3.org/2000/svg', width='17', height='17', viewbox='0 0 24 24', fill='none', stroke='#F7F7F8', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                            path(d='M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2')
                                            circle(cx='9', cy='7', r='4')
                                            path(d='M23 21v-2a4 4 0 0 0-3-3.87')
                                            path(d='M16 3.13a4 4 0 0 1 0 7.75')
                                    button.btn.mx-2.btn-videoSelectBanner.no-shadow.no-border.p-2(data-toggle='modal', data-target='#loginModal' onclick="changeModalText('share')")
                                        svg(data-toggle="tooltip" data-placement="top" title="Copy link" xmlns='http://www.w3.org/2000/svg', width='17', height='17', viewbox='0 0 24 24', fill='none', stroke='#F7F7F8', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                            path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                                            line(x1='8', y1='12', x2='16', y2='12')
                                    button.btn.mx-2.btn-videoSelectBanner.no-shadow.no-border.p-2(data-toggle='modal', data-target='#loginModal' onclick="changeModalText('share')" )
                                        svg(data-toggle="tooltip" data-placement="top" title="Send by email"  xmlns='http://www.w3.org/2000/svg', width='17', height='17', viewbox='0 0 24 24', fill='none', stroke='#F7F7F8', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                            path(d='M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z')
                                            polyline(points='22,6 12,13 2,6')
                                    button.btn.p-2.btn-videoSelectBanner.no-shadow.no-border(onClick="cancelSelectAllVideos()")
                                        | Cancel

                div 
                    header.header.sticky-top.navbar.bg-header.py-3.px-2(style="margin-top: -8px;")
                        .row.w-100.h-100.mx-0.px-1
                            //- div.px-2.mr-auto
                                span.title-video=title
                            div.align-items-center
                                
                                
                                .row.mx-0.align-items-center.h-100.d-none
                                    a#sideNavToggle.i-con-h-a.pl-0.ml-3.d-block.d-lg-none(data-toggle='modal', data-target='#aside')
                                        svg(xmlns='http://www.w3.org/2000/svg', width='23', height='26', viewBox='0 0 24 24', fill='none', stroke='#bfc8d2', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='Menu')
                                            line(x1='3', y1='12', x2='21', y2='12')
                                            line(x1='3', y1='6', x2='21', y2='6')
                                            line(x1='3', y1='18', x2='21', y2='18')
                                    if(videoWeeklyLimitReached||documentWeeklyLimitReached)
                                        div.d-inline-flex.position-relative
                                            button.btn.no-bg.no-shadow.no-border.px-2(onclick="window.location.href='/payment';dismissPopup('popup-newSummary')")
                                                .row.mx-0.align-items-center
                                                    svg.mr-1(xmlns='http://www.w3.org/2000/svg', width='20', height='20', viewBox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='Plus')
                                                        line(x1='12', y1='5', x2='12', y2='19')
                                                        line(x1='5', y1='12', x2='19', y2='12')
                                                    span.d-sm-inline-flex.d-none NEW
                                            .position-absolute.message-popup.p-3.d-none#popup-newSummary(style="bottom:-550%;left:0;")
                                                .row.mx-0.align-content-center.pt-0.pb-2.w-100.position-relative
                                                    svg.position-absolute( style='top:-100%; position: absolute; width: 31px; height: 14px; overflow: visible; display: block; transform: translate(16px, 16px); ' width='62' height='37' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' )
                                                        path(d='M 0 14 C 0 14 1.532 14 5.407 10.5 C 9.282 7 15.5 0 15.5 0 C 15.5 0 21.718 7 25.593 10.5 C 29.468 14 31 14 31 14 Z' fill='#0073B1' stroke='rgba(0, 115, 177, 0)' stroke-linecap='round' stroke-linejoin='round' name='Path')
                                                    img.avatar.d-inline-flex(src="https://ui-avatars.com/api/?name=R&background=2387FF&color=fff", alt='...' style="max-width:35px")
                                                    span.message-popup-title.pt-2.px-2 Roger from Blackbox
                                                p.mb-0.message-popup-text.py-2 Click here to upload a new video/article to summarize
                                                .row.mx-0.justify-content-end.mb-0.mt-2
                                                    button.btn.btn-message-popup(onClick="dismissPopup('popup-newSummary')")
                                                        span Got it!
                                    else
                                        div.d-inline-flex.position-relative
                                            button.btn.no-bg.no-shadow.no-border.px-2(onClick="showNewSummary(),dismissPopup('popup-newSummary')").position-relative
                                                .row.mx-0.align-items-center
                                                    svg.mr-1(xmlns='http://www.w3.org/2000/svg', width='20', height='20', viewBox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='Plus')
                                                        line(x1='12', y1='5', x2='12', y2='19')
                                                        line(x1='5', y1='12', x2='19', y2='12')
                                                    span.d-sm-inline-flex.d-none NEW
                                                .blob.blob-float-top-left.blue.active.position-absolute.d-none#tourblob1
                                            .position-absolute.message-popup.p-3.d-none#popup-newSummary(style="bottom:-550%;left:0;")
                                                .row.mx-0.align-content-center.pt-0.pb-2.w-100.position-relative
                                                    svg.position-absolute( style='top:-100%; position: absolute; width: 31px; height: 14px; overflow: visible; display: block; transform: translate(16px, 16px); ' width='62' height='37' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' )
                                                        path(d='M 0 14 C 0 14 1.532 14 5.407 10.5 C 9.282 7 15.5 0 15.5 0 C 15.5 0 21.718 7 25.593 10.5 C 29.468 14 31 14 31 14 Z' fill='#0073B1' stroke='rgba(0, 115, 177, 0)' stroke-linecap='round' stroke-linejoin='round' name='Path')
                                                    img.avatar.d-inline-flex(src="https://ui-avatars.com/api/?name=R&background=2387FF&color=fff", alt='...' style="max-width:35px")
                                                    span.message-popup-title.pt-2.px-2 Roger from Blackbox
                                                p.mb-0.message-popup-text.py-2 Click here to upload a new video/article to summarize
                                                .row.mx-0.justify-content-end.mb-0.mt-2
                                                    button.btn.btn-message-popup(onClick="dismissPopup('popup-newSummary')")
                                                        span Got it!
                                    .divider-vertical-black.my-2.mx-0.mx-lg-4
                                    button.btn.no-bg.no-shadow.no-border.px-2(data-toggle='modal', data-target='#uploadModal')
                                        .row.mx-0.align-items-center
                                            svg.mr-1(xmlns='http://www.w3.org/2000/svg' width='20' height='21' viewBox='0 0 24 24' fill='none' stroke='#353535' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Download')
                                                path(d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4')
                                                polyline(points='7 10 12 15 17 10')
                                                line(x1='12' y1='15' x2='12' y2='3')
                                            span.d-sm-inline-flex.d-none IMPORT
                            div.h-100.w-100
                                .row.mx-0.align-items-center.d-flex.justify-content-between.h-100.flex-nowrap
                                    div.hide-onSearch
                                        span.title-video.text-color-header Personal Library
                                    div#newSummaryContainer.d-none.w-100
                                        .row.w-100.justify-content-start.h-100.mx-0
                                            .row.site-search-row.position-relative.mx-0.h-100.align-items-center(style="width:100%")
                                                svg.mr-2(xmlns='http://www.w3.org/2000/svg', width='17', height='17', viewbox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                    path(d='M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71')
                                                    path(d='M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71')
                                                input.w-100.site-search-input.px-2#newSummaryInput(onClick="dismissPopup('popup-summaryInfo')" onpaste="processSummaryOnPaste()",  placeholder="Paste a vimeo URL https://...")
                                                button.btn.btn-search.cancel.ml-sm-4.ml-1.px-sm-3.px-1.no-border.no-shadow(onClick="hideNewSummary()")
                                                    svg#newSummaryCloseSVG(xmlns='http://www.w3.org/2000/svg', width='23', height='18', viewBox='0 0 24 24', fill='none', stroke='#BFC8D2', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='X')
                                                        line(x1='18', y1='6', x2='6', y2='18')
                                                        line(x1='6', y1='6', x2='18', y2='18')
                                                    .text-center.d-none#spinnerNewSummary
                                                        .spinner-border(role='status' style="width:18px; height:18px;")
                                                            span.sr-only Loading...
                                                .position-absolute.message-popup.p-3.d-none#popup-summaryInfo(style="bottom:-260%;left:0;")
                                                    .row.mx-0.align-content-center.pt-0.pb-2.w-100.position-relative
                                                        svg.position-absolute( style='top:-100%; position: absolute; width: 31px; height: 14px; overflow: visible; display: block; transform: translate(16px, 16px); ' width='62' height='37' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' )
                                                            path(d='M 0 14 C 0 14 1.532 14 5.407 10.5 C 9.282 7 15.5 0 15.5 0 C 15.5 0 21.718 7 25.593 10.5 C 29.468 14 31 14 31 14 Z' fill='#0073B1' stroke='rgba(0, 115, 177, 0)' stroke-linecap='round' stroke-linejoin='round' name='Path')
                                                        img.avatar.d-inline-flex(src="https://ui-avatars.com/api/?name=R&background=2387FF&color=fff", alt='...' style="max-width:35px")
                                                        span.message-popup-title.pt-2.px-2 Roger from Blackbox
                                                    p.mb-0.message-popup-text.py-2 Paste the URL of the youtube video/ news article here
                                                    .row.mx-0.justify-content-end.mb-0.mt-2
                                                        button.btn.btn-message-popup(onClick="dismissPopup('popup-summaryInfo')")
                                                            span Got it!
                                    div#searchContainer.d-none.w-100
                                        .row.w-100.justify-content-start.mx-0.h-100#searchContainer
                                            ul#searchUL.d-none
                                                for file, i in videos
                                                    li
                                                        span(id=file._id,href='#')=(file.videoID==undefined?(file.azureFileName==undefined?file.vimeoID:file.azureFileName):file.videoID) 
                                                    //- for file, i in documents
                                                        li
                                                            span(id=file._id,href='#')=file.name
                                            ul#searchUL2.d-none
                                                for file, i in videos
                                                    li
                                                        span(id=file._id,href='#')=file.title
                                                
                                            .row.site-search-row.position-relative.mx-0.h-100.align-items-center(style="width:100%")
                                                input.w-100.site-search-input.px-2#searchInput(onkeyup='searchFunction()' placeholder="Search")
                                                button.btn.btn-search.cancel.ml-sm-4.ml-1.px-sm-3.px-1.no-border.no-shadow(onClick="hideSearch()")
                                                    svg#searchInputCloseSVG(xmlns='http://www.w3.org/2000/svg', width='23', height='18', viewBox='0 0 24 24', fill='none', stroke='#BFC8D2', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='X')
                                                        line(x1='18', y1='6', x2='6', y2='18')
                                                        line(x1='6', y1='6', x2='18', y2='18')
                                                .position-absolute.message-popup.p-3.d-none#popup-searchInput(style="bottom:-550%;left:0;")
                                                    .row.mx-0.align-content-center.pt-0.pb-2
                                                        img.avatar.d-inline-flex(src="https://ui-avatars.com/api/?name=R&background=2387FF&color=fff", alt='...' style="max-width:35px")
                                                        span.message-popup-title.pt-2.px-2 Roger from Blackbox
                                                    p.mb-0.message-popup-text.py-2 Search the page here
                                                    .row.mx-0.justify-content-end.mb-0.mt-2
                                                        button.btn.btn-message-popup(onClick="dismissPopup('popup-summaryInfo')")
                                                            span Got it!
                                    div
                                        .row.mx-0.align-items-center.flex-nowrap.d-flex
                                            if user
                                                button.btn.topNavBtn.no-shadow.no-border.px-2.mx-2.bg-buttons.py-2.hide-onSearch#searchIcon
                                                    svg(xmlns='http://www.w3.org/2000/svg', width='20', height='20', viewbox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                        circle(cx='11', cy='11', r='8')
                                                        line(x1='21', y1='21', x2='16.65', y2='16.65')
                                                button.btn.topNavBtn.no-shadow.px-2.mx-2.bg-buttons.py-2(onClick="copyLinkTwitter('"+user._id+"')")
                                                    svg(data-toggle="tooltip" data-placement="bottom" title="Tweet it!" xmlns='http://www.w3.org/2000/svg', width='17', height='17', viewbox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                        path(d='M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z')
                                                button.btn.topNavBtn.no-shadow.px-2.mx-2.bg-buttons.py-2(data-toggle='modal', data-target='#inviteModal' onclick="sendInvites()")
                                                    svg(data-toggle="tooltip" data-placement="bottom" title="Send by email" xmlns='http://www.w3.org/2000/svg', width='17', height='17', viewbox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                        path(d='M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z')
                                                        polyline(points='22,6 12,13 2,6')
                                                div.d-inline-flex.dropdown
                                                    button.btn.topNavBtn.no-shadow.px-2.mx-2.bg-buttons.py-2(data-toggle='dropdown', data-pjax-state='external', aria-expanded='false'  )
                                                        svg.mr-2(xmlns='http://www.w3.org/2000/svg', width='16', height='17', viewbox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                            path(d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4')
                                                            polyline(points='17 8 12 3 7 8')
                                                            line(x1='12', y1='3', x2='12', y2='15')
                                                        span Upload Video
                                                    .dropdown-menu.dropdown-menu-right.mt-2.py-0.w-fit.animate.fadeIn.bg-header
                                                        a(onClick="showNewSummary()")
                                                            .row.mx-0.mb-2.px-3.py-2.headerDropdownItem.text-color-header.align-items-center
                                                                svg.mr-2(xmlns='http://www.w3.org/2000/svg', width='16', height='17', viewbox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                                    path(d='M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71')
                                                                    path(d='M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71')
                                                                | Vimeo Link
                                                        a(data-toggle='modal', data-target='#uploadModal')
                                                            .row.mx-0.mb-2.px-3.py-2.headerDropdownItem.text-color-header.align-items-center
                                                                svg.mr-2(xmlns='http://www.w3.org/2000/svg', width='16', height='17', viewbox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                                    polygon(points='23 7 16 12 23 17 23 7')
                                                                    rect(x='1', y='5', width='15', height='14', rx='2', ry='2')
                                                                | MP4 Video
                                                button.btn.btn-shareNav.blue.no-shadow.py-2.mx-2.bg-buttons-contrast(onClick="shareLibrary(this,'"+(user==undefined?(sharedFrom==undefined?"":sharedFrom._id):user._id)+"'),copySuccess(this)")
                                                    svg.mr-2.copyBtn-svg(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Link2')
                                                        path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                                                        line(x1='8' y1='12' x2='16' y2='12')
                                                    svg.mr-2.d-none.copyBtn-svg-success(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Check')
                                                        polyline(points='20 6 9 17 4 12')
                                                    span.copyBtn-text Copy Link
                                                //- if user.isfree
                                                    a.btn.btn-upgrade.no-shadow.d-sm-inline-flex.d-none(href="/payment")
                                                        .row.mx-0.align-items-center.h-100
                                                            span Upgrade
                                                div.d-inline-flex.dropdown
                                                    button.btn.topNavBtn.no-shadow.px-2.mx-2.no-border.position-relative.bg-buttons(data-toggle='dropdown', data-pjax-state='external', aria-expanded='false')
                                                        svg(xmlns='http://www.w3.org/2000/svg', width='20', height='20', viewbox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                            path(d='M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9')
                                                            path(d='M13.73 21a2 2 0 0 1-3.46 0')
                                                        if(nonViewedNotifications.length>0)
                                                            .notificationdot
                                                        else
                                                            .notificationdot.d-none

                                                        // dropdown
                                                        .dropdown-menu.dropdown-menu-right.mt-2.w-md.animate.fadeIn.py-2.bg-header(style="width:400px;")
                                                            .row.mx-0.mb-2.px-2.mx-2
                                                                span.headerDropdownItem Notifications
                                                            .scrollable.hover#notificationsContainer(style='height: 86vh;')
                                                                for nonViewedNotification, i in nonViewedNotifications
                                                                    if nonViewedNotification.type=="video"
                                                                        .row.mx-0.justify-content-center.align-content-center.notificationContainer.py-2(onClick="notificationClick(this,'"+nonViewedNotification._id+"','"+nonViewedNotification.type+"','"+nonViewedNotification.element.videoID+"','"+nonViewedNotification.sendingUser.userID+"')")
                                                                            .m-0.mr-2.circle.d-inline-flex.align-self-center(style="width:30px; height:30px;")
                                                                                img.circle.w-100(src=nonViewedNotification.sendingUser.avatar, alt="" )
                                                                            div.col-10.px-0.notificationTextContainer
                                                                                span.mb-0.align-self-center.notificationText #[strong=nonViewedNotification.sendingUser.name] #[span=nonViewedNotification.text] #[span.notificationLink=nonViewedNotification.element.name]
                                                                    if nonViewedNotification.type=="videoUpload"
                                                                        .row.mx-0.justify-content-center.align-content-center.notificationContainer.py-2(onClick="notificationClick(this,'"+nonViewedNotification._id+"','"+nonViewedNotification.type+"','"+nonViewedNotification.element.videoID+"')")
                                                                            div.col-10.px-0.notificationTextContainer
                                                                                span.mb-0.align-self-center.notificationText #[span=nonViewedNotification.text] #[span.notificationLink=nonViewedNotification.element.name]
                                                                    if nonViewedNotification.type=="vimeoVideo"
                                                                        .row.mx-0.justify-content-center.align-content-center.notificationContainer.py-2(onClick="notificationClick(this,'"+nonViewedNotification._id+"','"+nonViewedNotification.type+"','"+nonViewedNotification.element.videoID+"')")
                                                                            div.col-10.px-0.notificationTextContainer
                                                                                span.mb-0.align-self-center.notificationText #[span=nonViewedNotification.text] #[span.notificationLink=nonViewedNotification.element.name]
                                                                    if nonViewedNotification.type=="invite"
                                                                        .row.mx-0.justify-content-center.align-content-center.notificationContainer.py-2(onClick="notificationClick(this,'"+nonViewedNotification._id+"','"+nonViewedNotification.type+"','"+nonViewedNotification.videoID+"','"+nonViewedNotification.userID+"')")
                                                                            .m-0.mr-2.circle.d-inline-flex.align-self-center(style="width:30px; height:30px;")
                                                                                img.circle.w-100(src=nonViewedNotification.sendingUser.avatar, alt="" )
                                                                            div.col-10.px-0.notificationTextContainer
                                                                                span.mb-0.align-self-center.notificationText #[strong=nonViewedNotification.sendingUser.name] #[span.d-inline-flex=nonViewedNotification.text]
                                                                    if nonViewedNotification.type=="team"
                                                                        .row.mx-0.justify-content-center.align-content-center.notificationContainer.py-2(onClick="notificationClick(this,'"+nonViewedNotification._id+"','"+nonViewedNotification.type+"','"+nonViewedNotification.element.id+"','"+nonViewedNotification.sendingUser.userID+"')")
                                                                            .m-0.mr-2.circle.d-inline-flex.align-self-center(style="width:30px; height:30px;")
                                                                                img.circle.w-100(src=nonViewedNotification.sendingUser.avatar, alt="" )
                                                                            div.col-10.px-0.notificationTextContainer
                                                                                .row.mx-0
                                                                                    span.mb-0.align-self-center.notificationText #[strong=nonViewedNotification.sendingUser.name] #[span=nonViewedNotification.text] #[span.notificationLink=nonViewedNotification.element.name]
                                                                    //- .row.mx-0.justify-content-start
                                                                        div
                                                                            img.avatar.d-inline-flex(src=nonViewedNotification.sendingUser.avatar, alt='...' style="max-width:35px")
                                                                        div
                                                                            span=nonViewedNotification.sendingUser.name+ nonViewedNotification.text
                                                                            a(href="/videos/?videoid="+nonViewedNotification.element.videoID+"&share="+nonViewedNotification.sendingUser.userID)=nonViewedNotification.element.name
                                                div.d-inline-flex.dropdown
                                                    button.btn.no-bg.no-shadow.no-border.px-2(data-toggle='dropdown', data-pjax-state='external', aria-expanded='false')
                                                        //- img.avatar.d-inline-flex(src="https://ui-avatars.com/api/?name="+(user.fistname==undefined? user.username:user.firstName+"&"+user.lastName)+"&background=353535&color=fff", alt='...' style="max-width:35px")
                                                        img.avatar.d-inline-flex(src=user.avatar, alt='...' style="max-width:35px")
                                                    .dropdown-menu.dropdown-menu-right.mt-2.py-0.w-fit.animate.fadeIn.bg-header
                                                        a(href="/workspaceColors")
                                                            .row.mx-0.mb-2.px-3.py-2.headerDropdownItem.text-color-header
                                                                | Customize Theme
                                                            
                                                            //- .scrollable.hover

                                            else
                                                button.btn.topNavBtn.no-shadow.px-2.mx-2.bg-buttons(data-toggle='modal', data-target='#loginModal' onclick="changeModalText('share')" )
                                                    svg(data-toggle="tooltip" data-placement="bottom" title="Tweet it!" xmlns='http://www.w3.org/2000/svg', width='17', height='17', viewbox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                        path(d='M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z')
                                                button.btn.topNavBtn.no-shadow.px-2.mx-2.bg-buttons(data-toggle='modal', data-target='#loginModal' onclick="changeModalText('share')" )
                                                    svg(data-toggle="tooltip" data-placement="bottom" title="Send by email" xmlns='http://www.w3.org/2000/svg', width='17', height='17', viewbox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                        path(d='M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z')
                                                        polyline(points='22,6 12,13 2,6')
                                                button.btn.btn-shareNav.blue.no-shadow.py-2.mx-2.bg-buttons-contrast(data-toggle='modal', data-target='#loginModal' onclick="changeModalText('share')" )
                                                    svg.mr-2.copyBtn-svg(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Link2')
                                                        path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                                                        line(x1='8' y1='12' x2='16' y2='12')
                                                    svg.mr-2.d-none.copyBtn-svg-success(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Check')
                                                        polyline(points='20 6 9 17 4 12')
                                                    span.copyBtn-text Copy Link
                                                button.btn.btn-topNav.no-border.no-bg.no-shadow.py-2.mx-2.bg-buttons( data-toggle='modal', data-target='#loginModal'  onClick="changeLoginView('signup'),changeModalText('signup')")
                                                    | Sign In
                                                button.btn.btn-topNav.signup.no-shadow.py-2.mr-1.ml-2.bg-buttons-contrast( data-toggle='modal', data-target='#loginModal'  onClick="changeLoginView('signin'),changeModalText('signin')")
                                                    | Create Free Account
                    
                    .page.pt-0.px-1.mx-1
                        .padding.mt-0.px-1
                            .row.mt-3.d-sm-none
                            //- if (files)
                            //-     .row.mt-5.mx-0.px-0.mx-xl-5.mx-lg-3.mx-sm-3.px-xl-5.px-lg-3.px-sm-3.justify-content-center
                            //-         .col-12.px-0.mx-0
                            //-             .row
                            //-                 for file, i in files
                            //-                     if(file.type=="video")
                            //-                         .col-lg-3.col-sm-4.col-12.mx-0.px-1.my-1(id="container-"+file.video._id)
                            //-                             .media.media-16x9.shadow-card
                            //-                                 a.media-content.file-link(href='/videos/'+file.video._id+'?videoid='+file.video.videoID,style='background-image:url(https://img.youtube.com/vi/'+file.video.videoID+'/hqdefault.jpg);' )
                            //-                                 a.media-overlay.w-100.h-100.overlay-shadow.file-link(href='/videos/'+file.video._id+'?videoid='+file.video.videoID)
                            //-                                 a.media-overlay.overlay-bottom.p-3.file-link(href='/videos/'+file.video._id+'?videoid='+file.video.videoID)
                            //-                                     span.card-thubnail-Text=file.video.title
                            //-                             //- img.w-100.h-100(src="https://img.youtube.com/vi/"+file.videoID+"/hqdefault.jpg",alt="video image")
                            //-                         //- .card.col-sm-3.p-0.no-shadow.card-video
                            //-                             .media.media-16x9.no-shadow
                            //-                                 a.media-content(href='/videos/'+file._id+'?videoid='+file.videoID,style='background-image:url(https://img.youtube.com/vi/'+file.videoID+'/hqdefault.jpg);' )
                            //-                             .card-body.justify-content-center
                            //-                                 a.align-items-center.card-video-title(href='/videos/'+file._id+'?videoid='+file.videoID)
                            //-                                     img(src="/assets/img/icons/video-gray.png", alt="video image", style="max-width:15px; max-height:15px; left:5px; top:5px").d-inline-flex
                            //-                                     span=" "+file.title
                            //-                     if(file.type=="document")
                            //-                         .col-lg-3.col-sm-4.col-12.mx-0.px-1.my-1(id="container-"+file.document._id)
                            //-                             if(file.document.articleImage==undefined)
                            //-                                 .media.media-16x9.shadow-card
                            //-                                     a.media-content.file-link(href='/documents/summary?documentid='+file.document.documentID+'&document_id='+file.document._id,style='background-image:url(/assets/img/image-placeholder-500x500.jpg);' )
                            //-                                     a.media-overlay.w-100.h-100.overlay-shadow(.file-linkhref='/documents/summary?documentid='+file.document.documentID+'&document_id='+file.document._id)
                            //-                                     a.media-overlay.overlay-bottom.p-3.file-link(href='/documents/summary?documentid='+file.document.documentID+'&document_id='+file.document._id)
                            //-                                         span.card-thubnail-Text=file.document.name
                            //-                             else
                            //-                                 .media.media-16x9
                            //-                                     a.media-content.file-link(href='/documents/summary?documentid='+file.document.documentID+'&document_id='+file.document._id,style='background-image:url('+file.document.articleImage+');' )
                            //-                                     a.media-overlay.w-100.h-100.overlay-shadow.file-link(href='/documents/summary?documentid='+file.document.documentID+'&document_id='+file.document._id)
                            //-                                     a.media-overlay.overlay-bottom.p-3.file-link(href='/documents/summary?documentid='+file.document.documentID+'&document_id='+file.document._id)
                            //-                                         span.card-thubnail-Text=file.document.name
                                                    
                            //- else
                            .row.mt-0.mx-0.px-0.justify-content-center.align-items-center
                                .col-12.my-3.px-0.d-none
                                    .row.justify-content-between.mx-0
                                        div
                                            button.btn.library-selection.no-shadow#videoSelectionBtn(class=""+(videos.length>0?"active":"") onClick="swapView('videos')")
                                                | Videos
                                            button.btn.library-selection.no-shadow#articleSelectionBtn(class=""+(videos.length>0?"":"active") onClick="swapView('articles')")
                                                | Articles
                                    .row.site-search-row.position-relative.mx-0.h-100.align-items-center.d-none(style="width:100%").p-2.mt-1
                                        svg(xmlns='http://www.w3.org/2000/svg', width='20', height='20', viewbox='0 0 24 24', fill='none', stroke='#393856', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                            circle(cx='11', cy='11', r='8')
                                            line(x1='21', y1='21', x2='16.65', y2='16.65')
                                        
                                        //- input.w-100.site-search-input.px-2#searchInput(onkeyup='searchFunction()' placeholder="Search by keyword or questions")
                                        //- button.btn.btn-search.cancel.ml-sm-4.ml-1.px-sm-3.px-1.no-border.no-shadow(onClick="hideSearch()")
                                            svg#searchInputCloseSVG(xmlns='http://www.w3.org/2000/svg', width='23', height='18', viewBox='0 0 24 24', fill='none', stroke='#BFC8D2', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='X')
                                                line(x1='18', y1='6', x2='6', y2='18')
                                                line(x1='6', y1='6', x2='18', y2='18')
                                        .position-absolute.message-popup.p-3.d-none#popup-searchInput(style="bottom:-550%;left:0;")
                                            .row.mx-0.align-content-center.pt-0.pb-2
                                                img.avatar.d-inline-flex(src="https://ui-avatars.com/api/?name=R&background=2387FF&color=fff", alt='...' style="max-width:35px")
                                                span.message-popup-title.pt-2.px-2 Roger from Blackbox
                                            p.mb-0.message-popup-text.py-2 Search the page here
                                            .row.mx-0.justify-content-end.mb-0.mt-2
                                                button.btn.btn-message-popup(onClick="dismissPopup('popup-summaryInfo')")
                                                    span Got it!
                                    if user
                                        .row.position-relative.mx-0.h-100.align-items-center.position-relative.py-2.mt-1#keywordsContainer(class=(user.keywords==undefined?"d-none":(user.keywords.length>0?"":"d-none")))
                                            //- .row.position-absolute(style="width:fit-content; overflow:auto;")
                                            .col-12.px-0
                                                .row.justify-content-start.mx-0.align-items-center.py-2
                                                    span.keywordsTitle.mb-0() Summary Keywords
                                                    span.keywordsNumbers.mx-2.mb-0#keywordsNumbers
                                                    div
                                                        button.btn.btn-keywordsRow-Back.no-shadow.no-border.p-1.m-1(id="owl-carousel-previousControl" onclick="moveleft()" style="opacity:0.3;")
                                                            svg(xmlns='http://www.w3.org/2000/svg', width='17', height='17', viewbox='0 0 24 24', fill='none', stroke='#BFBFC6', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                                polyline(points='15 18 9 12 15 6')
                                                        button.btn.btn-keywordsRow-Next.no-shadow.no-border.p-1.m-1(id="owl-carousel-nextControl" onclick="moveright()" style="opacity:0.3;")
                                                            svg(xmlns='http://www.w3.org/2000/svg', width='17', height='17', viewbox='0 0 24 24', fill='none', stroke='#BFBFC6', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                                polyline(points='9 18 15 12 9 6')
                                            .col-12.px-0
                                                .row.justify-content-center.mx-0
                                                    .owl-carousel(id="owl-carousel" style="height:60px")
                                                        //- for keyword, i in user.keywords
                                                        //-     .col-auto
                                                        //-         span=keyword

                                            //- if user
                                                if(videoWeeklyLimitReached||documentWeeklyLimitReached)
                                                    button.btn.library-newItemBtn(onClick="window.location.href='/payment'")
                                                        span#addbtnText + NEW
                                                else
                                                    button.btn.library-newItemBtn(onClick="showNewSummary()")
                                                        span#addbtnText + NEW
                                        //- .navbar.position-absolute.mx-0.px-0.w-100.pl-3(style="left:0; top:0; max-height: 30px;")
                                        
                                .col-12.mt-0.px-0
                                    .row.px-0.justify-content-center.mx-0
                                        .col-12.px-0.mx-0
                                            .row.mx-0.d-none#videosSearchContainer
                                                .col-12.px-0.py-2
                                                    p.searchKeywordsResults#searchKeywordsResults 
                                                
                                                        

                                            //- .row.mx-0#videosContainer(class=""+(videos.length>0?"":"d-none"))

                                            .row.mx-0#videosContainer
                                                .col-12.px-0.py-2.d-none
                                                    p.searchKeywordsResults.d-none#searchResults
                                                // Any changes done to the video cards need to be done in /main.js at function checkNotifications 
                                                for file, i in videos
                                                    .col-lg-3.col-sm-6.col-12.mx-0.px-1.mb-5(id="container-"+file._id)
                                                        .col-12.p-0.m-0.videoCard-Hover(data-videoID=(file.videoID==undefined?(file.vimeoID==undefined?file.azureFileName:file.vimeoID):file.videoID) data-video_id=file._id data-from=(sharedFrom!=undefined?sharedFrom._id:"none") data-videoThumbnail=(file.videoID==undefined?(file.vimeoID==undefined?(file.thumbnailUrl==undefined?'/assets/img/videoThumbnail.png':file.thumbnailUrl):file.thumbnail):'https://img.youtube.com/vi/'+file.videoID+'/hqdefault.jpg'))
                                                            .media.media-16x9
                                                                if(file.videoID==undefined)
                                                                    if(file.vimeoID==undefined)
                                                                        a.media-content(id="videoURL-"+file._id href='/videos/'+file._id+'?videoid='+file.azureFileName+(sharedFrom!=undefined?"&from="+sharedFrom._id:""),style='background-image:url('+(file.thumbnailUrl==undefined?'/assets/img/videoThumbnail.png':file.thumbnailUrl)+');' )
                                                                    else
                                                                        a.media-content(id="videoURL-"+file._id href='/videos/'+file._id+'?videoid='+file.vimeoID+(sharedFrom!=undefined?"&from="+sharedFrom._id:""),style='background-image:url('+file.thumbnail+');' )
                                                                else
                                                                    a.media-content(id="videoURL-"+file._id href='/videos/'+file._id+'?videoid='+file.videoID+(sharedFrom!=undefined?"&from="+sharedFrom._id:""),style='background-image:url(https://img.youtube.com/vi/'+file.videoID+'/hqdefault.jpg);' )
                                                            .media-overlay.overlay-right.overlay-top.videoCard-overlaySearchResults.p-1.px-2.d-none(id="videoSearchResultsCount-"+file._id)
                                                            .media-overlay.overlay-bottom.videoCard-overlaySearchTimeframes.d-none(id="videotimeFrames-"+file._id)
                                                            .media-overlay.overlay-top.overlay-left.p-1.videoCardCheckboxContainer(style="z-index:10;")
                                                                input.checkbox.videoCard.m-1(type='checkbox' data-video_id=file._id , onClick="selectVideo(this)")
                                                                //- div.videoCard-overlaySearchTimeframe(style="left:10%")
                                                            if(file.videoID==undefined)
                                                                if(file.vimeoID==undefined)
                                                                    a.media-overlay.w-100.h-100.videoCardOpcaity(id="videoURL-"+file._id href='/videos/'+file._id+'?videoid='+file.azureFileName+(sharedFrom!=undefined?"&from="+sharedFrom._id:""),style='z-index:9;' )
                                                                else
                                                                    a.media-overlay.w-100.h-100.videoCardOpcaity(id="videoURL-"+file._id href='/videos/'+file._id+'?videoid='+file.vimeoID+(sharedFrom!=undefined?"&from="+sharedFrom._id:""),style='z-index:9;' )
                                                            else
                                                                a.media-overlay.w-100.h-100.videoCardOpcaity(id="videoURL-"+file._id href='/videos/'+file._id+'?videoid='+file.videoID+(sharedFrom!=undefined?"&from="+sharedFrom._id:""),style='z-index:9;' )
                                                                
                                                        .col-12.p-0.m-0.pt-2.videoCard-Hover(data-videoID=(file.videoID==undefined?(file.vimeoID==undefined?file.azureFileName:file.vimeoID):file.videoID) data-video_id=file._id data-from=(sharedFrom!=undefined?sharedFrom._id:"none") data-videoThumbnail=(file.videoID==undefined?(file.vimeoID==undefined?(file.thumbnailUrl==undefined?'/assets/img/videoThumbnail.png':file.thumbnailUrl):file.thumbnail):'https://img.youtube.com/vi/'+file.videoID+'/hqdefault.jpg'))
                                                            p.card-thubnail-Title.text-color-main=file.title
                                                            p.card-thubnail-description.pt-2.text-color-main.d-none=file.description
                                                        .col-12.p-0.m-0.pt-2
                                                            .row.mx-0.justify-content-start.position-relative.align-items-center
                                                                if(file.videoID==undefined)
                                                                    if(file.vimeoID==undefined)
                                                                        if(file.uploadedByName!=undefined)
                                                                            span.card-thubnail-info.pr-2.text-color-main=file.uploadedByName
                                                                        else
                                                                            span.card-thubnail-info.pr-2.text-color-main Mp4 Upload
                                                                    else
                                                                        span.card-thubnail-info.pr-2.text-color-main Vimeo
                                                                else
                                                                    span.card-thubnail-info.pr-2.text-color-main Youtube
                                                                span.card-thubnail-time.mx-auto.text-color-main=(file.fullDuration==undefined? "":(Math.floor(parseInt(file.fullDuration)/60))+" min")
                                                                div
                                                                    .row.mx-0.align-items-center
                                                                        //- a.btn.no-shadow.no-border.no-bg.p-0.px-2(data-toggle="tooltip" data-placement="top" title="Save for Later" id="saveForLater-"+file._id onClick="saveForLater('video','"+file.videoID+"','"+file._id+"'),dismissPopup('popup-shareVideo')")
                                                                            svg(id="saveForLaterSVG-"+file._id xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' style=""+((file.savedForLater === true ? "fill:#0073B1;" : "fill:none;")) stroke='#0073B1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Bookmark')
                                                                                path(d='M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z')
                                                                        if user
                                                                            a.btn-cardShare.btn.no-shadow.no-border.py-1.px-2.bg-buttons(id="copyLink-"+file._id onClick="copyVideoLink('video','"+(file.videoID==undefined? (file.vimeoID==undefined?file.azureFileName:file.vimeoID) :file.videoID)+"','"+(user === null ? visitorID : user._id)+"'),dismissPopup('popup-shareVideo'),clickSuccess(this)")
                                                                                svg(data-toggle="tooltip" data-placement="top" title="Copy Link" xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#393856' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Link2')
                                                                                    path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                                                                                    line(x1='8' y1='12' x2='16' y2='12')
                                                                                

                                                                            a.btn.no-shadow.btn-cardShare.no-border.py-1.px-2.bg-buttons(onClick="clickSuccess(this),dismissPopup('popup-shareVideo'),shareTwitterLink('video','"+(file.videoID==undefined? (file.vimeoID==undefined?file.azureFileName:file.vimeoID):file.videoID)+"','"+(user === null ? visitorID : user._id)+"')")
                                                                                svg(data-toggle="tooltip" data-placement="top" title="Tweet it!" xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#393856' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Twitter')
                                                                                    path(d='M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z')
                                                                                

                                                                            a.btn.no-shadow.no-border.btn-cardShare.py-1.px-2.bg-buttons(data-toggle='modal', data-target='#inviteModal' onClick="shareVideoEmail(`"+(file.videoID==undefined? (file.vimeoID==undefined?file.azureFileName:file.vimeoID):file.videoID)+"`,`"+file.title+"`,`"+file._id+"`,'"+(user === null ? visitorID : user._id)+"')")
                                                                                svg(data-toggle="tooltip" data-placement="top" title="Send by email" xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#393856' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Mail')
                                                                                    path(d='M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z')
                                                                                    polyline(points='22,6 12,13 2,6')
                                                                                

                                                                        else
                                                                            a.btn.no-shadow.no-border.btn-cardShare.py-1.px-2.bg-buttons( id="copyLink-"+file._id,data-toggle="modal" data-target='#loginModal' onclick="changeModalText('share')")
                                                                                svg(data-toggle="tooltip" data-placement="top" title="Copy Link" xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#393856' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Link2')
                                                                                    path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                                                                                    line(x1='8' y1='12' x2='16' y2='12')
                                                                            a.btn.no-shadow.no-border.btn-cardShare.py-1.px-2.bg-buttons(data-toggle='modal', data-target='#loginModal' onclick="changeModalText('share')")
                                                                                svg(data-toggle="tooltip" data-placement="top" title="Tweet it!" xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#393856' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Twitter')
                                                                                    path(d='M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z')
                                                                            a.btn.no-shadow.no-border.btn-cardShare.py-1.px-2.bg-buttons(data-toggle='modal', data-target='#loginModal' onclick="changeModalText('share')" )
                                                                                svg(data-toggle="tooltip" data-placement="top" title="Send by email" xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#393856' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Mail')
                                                                                    path(d='M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z')
                                                                                    polyline(points='22,6 12,13 2,6')
                                                                            
                                                                        if(i==0)
                                                                            .position-absolute.message-popup.p-3.text-left.d-none#popup-shareVideo(style="bottom:150%;right:0; z-index:30;")
                                                                                .row.mx-0.align-content-center.pt-0.pb-2
                                                                                    img.avatar.d-inline-flex(src="https://ui-avatars.com/api/?name=R&background=2387FF&color=fff", alt='...' style="max-width:35px")
                                                                                    span.message-popup-title.pt-2.px-2 Roger from Blackbox
                                                                                p.mb-0.message-popup-text.pt-2 Share this summary with your
                                                                                p.mb-0.message-popup-text.pb-2 friends
                                                                                .row.mx-0.justify-content-end.mb-0.mt-2.position-relative
                                                                                    svg.position-absolute( transform='rotate(180)' style='bottom:-95%; right:-14; position: absolute; width: 31px; height: 14px; overflow: visible; display: block; transform: translate(16px, 16px) rotate(180); ' width='62' height='37' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' )
                                                                                        path(d='M 0 14 C 0 14 1.532 14 5.407 10.5 C 9.282 7 15.5 0 15.5 0 C 15.5 0 21.718 7 25.593 10.5 C 29.468 14 31 14 31 14 Z' fill='#0073B1' stroke='rgba(0, 115, 177, 0)' stroke-linecap='round' stroke-linejoin='round' name='Path')
                                                                                    button.btn.btn-message-popup(onClick="dismissPopup('popup-shareVideo')")
                                                                                        span Got it!
                                                                        //- .item-action.dropup
                                                                            a.btn.no-shadow.no-border.no-bg.p-0.px-2(id="dropdown-"+file._id data-toggle='dropdown')
                                                                                svg(width='20' height='17' fill='#0073B1' viewBox='0 0 68 22' transform='rotate(90)' xmlns='http://www.w3.org/2000/svg')
                                                                                    ellipse(ry='5' rx='5' cy='10.97676' cx='15.94685' )
                                                                                    ellipse(ry='5' rx='5' cy='10.97676' cx='34.13289' )
                                                                                    ellipse(ry='5' rx='5' cy='10.91031' cx='52.13289' )
                                                                            .dropdown-menu.dropdown-menu-right.bg-white(role='menu')
                                                                                //- a.dropdown-item.px-1(id="saveForLater-"+file._id onClick="saveForLater('video','"+file.videoID+"','"+file._id+"'),dismissPopup('popup-shareVideo')")
                                                                                    svg.mr-2(id="saveForLaterSVG-"+file._id xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' style=""+((file.savedForLater === true ? "fill:#0073B1;" : "fill:none")) stroke='#0073B1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Bookmark')
                                                                                        path(d='M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z')
                                                                                    span Save for later
                                                                                a.dropdown-item.px-1(onClick="copyLink('video','"+file.videoID+"','"+(user === null ? visitorID : user._id)+"'),dismissPopup('popup-shareVideo'),clickSuccess(this)")
                                                                                    svg.mr-2(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#0073B1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Link2')
                                                                                        path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                                                                                        line(x1='8' y1='12' x2='16' y2='12')
                                                                                    span Copy link
                                                                                a.dropdown-item.px-1(onClick="clickSuccess(this),dismissPopup('popup-shareVideo'),shareTwitterLink('video','"+file.videoID+"','"+(user === null ? visitorID : user._id)+"')")
                                                                                    svg.mr-2(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#0073B1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Twitter')
                                                                                        path(d='M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z')
                                                                                    span Twitter
                                                                                a.dropdown-item.px-1(onClick="shareEmailVideoLink('old','"+file.videoID+"','"+file.title+"','"+file._id+"'),dismissPopup('popup-shareVideo'),clickSuccess(this)")
                                                                                    svg.mr-2(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#0073B1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Mail')
                                                                                        path(d='M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z')
                                                                                        polyline(points='22,6 12,13 2,6')
                                                                                    span Email
                                                                                a.dropdown-item.px-1(onClick="deleteVideo('"+file._id+"')")
                                                                                    svg.mr-2(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='rgba(179, 0, 0, 0.51)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Trash')
                                                                                        polyline(points='3 6 5 6 21 6')
                                                                                        path(d='M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2')
                                                                                    span Delete
                                                        //- .dropdown-divider.my-3
                                            //- .row#articlesContainer(class=""+(videos.length>0?"d-none":""))
                                            .row#articlesContainer.d-none
                                                for file, i in documents
                                                    .col-lg-4.col-sm-6.col-12.mx-0.px-1.my-1(id="container-"+file._id)
                                                        if(file.articleImage==undefined)
                                                            .media.media-16x9.shadow-card
                                                                a.media-content(href='/documents/summary?documentid='+file.documentID+'&document_id='+file._id,style='background-image:url(/assets/img/image-placeholder-500x500.jpg);' )
                                                                //- a.media-overlay.w-100.h-100.overlay-shadow(href='/documents/summary?documentid='+file.documentID+'&document_id='+file._id)
                                                                //- a.media-overlay.overlay-bottom.p-3(href='/documents/summary?documentid='+file.documentID+'&document_id='+file._id)
                                                        else
                                                            .media.media-16x9
                                                                a.media-content(href='/documents/summary?documentid='+file.documentID+'&document_id='+file._id,style='background-image:url('+file.articleImage+');' )
                                                                //- a.media-overlay.w-100.h-100(href='/documents/summary?documentid='+file.documentID+'&document_id='+file._id)
                                                                //- a.media-overlay.overlay-bottom.p-3(href='/documents/summary?documentid='+file.documentID+'&document_id='+file._id)
                                                        .col-12.p-0.m-0.pt-2
                                                            p.card-thubnail-Title=file.name
                                                            
                                                            p.card-thubnail-description.pt-2=file.excerpt
                                                        .col-12.p-0.m-0.pt-2
                                                            .row.mx-0.justify-content-start.position-relative.align-items-center
                                                                span.card-thubnail-info.pr-2=file.siteName
                                                                span.card-thubnail-time.mx-auto=(file.timeToRead==undefined? "":file.timeToRead+" min read")
                                                                if(i==0)
                                                                    .position-absolute.message-popup.p-3.text-left.d-none#popup-shareDocument(style="bottom:0%;left:0; z-index:30;")
                                                                        .row.mx-0.align-content-center.pt-0.pb-2
                                                                            img.avatar.d-inline-flex(src="https://ui-avatars.com/api/?name=R&background=2387FF&color=fff", alt='...' style="max-width:35px")
                                                                            span.message-popup-title.pt-2.px-2 Roger from Blackbox
                                                                        p.mb-0.message-popup-text.pt-2 Share this summary with your
                                                                        p.mb-0.message-popup-text.pb-2 friends
                                                                        .row.mx-0.justify-content-end.mb-0.mt-2.position-relative
                                                                            svg.position-absolute( transform='rotate(180)' style='bottom:-95%; right:-14; position: absolute; width: 31px; height: 14px; overflow: visible; display: block; transform: translate(16px, 16px) rotate(180); ' width='62' height='37' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' )
                                                                                path(d='M 0 14 C 0 14 1.532 14 5.407 10.5 C 9.282 7 15.5 0 15.5 0 C 15.5 0 21.718 7 25.593 10.5 C 29.468 14 31 14 31 14 Z' fill='#0073B1' stroke='rgba(0, 115, 177, 0)' stroke-linecap='round' stroke-linejoin='round' name='Path')
                                                                            button.btn.btn-message-popup(onClick="dismissPopup('popup-shareDocument')")
                                                                                span Got it!
                                                                div
                                                                    .row.mx-0.align-items-center
                                                                        //- a.btn.no-shadow.no-border.no-bg.p-0.px-2( id="saveForLater-"+file._id onClick="saveForLater('document','"+file.documentID+"','"+file._id+"'),dismissPopup('popup-shareVideo')")
                                                                            svg(id="saveForLaterSVG-"+file._id xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' style=""+((file.savedForLater === true ? "fill:#0073B1;" : "fill:none")) stroke='#0073B1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Bookmark')
                                                                                path(d='M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z')
                                                                        a.btn.no-shadow.no-border.no-bg.p-0.px-2(id="copyLink-"+file._id onClick="copyVideoLink('document','"+file.documentID+"','"+(user === null ? visitorID : user._id)+"'),dismissPopup('popup-shareDocument'),clickSuccess(this)")
                                                                            svg(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#0073B1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Link2')
                                                                                path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                                                                                line(x1='8' y1='12' x2='16' y2='12')
                                                                        a.btn.no-shadow.no-border.no-bg.p-0.px-2(onClick="clickSuccess(this),dismissPopup('popup-shareDocument'),shareTwitterLink('document','"+file.documentID+"','"+(user === null ? visitorID : user._id)+"')")
                                                                            svg(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#0073B1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Twitter')
                                                                                path(d='M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z')
                                                                                    
                                                                        a.btn.no-shadow.no-border.no-bg.p-0.px-2(onClick="shareEmailDocumentLink(`old`,`"+file.documentID+"`,`"+file.name+"`,`"+file.articleImage+"`),dismissPopup('popup-shareVideo'),clickSuccess(this)")
                                                                            svg(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#0073B1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Mail')
                                                                                path(d='M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z')
                                                                                polyline(points='22,6 12,13 2,6')
                                                                        //- .item-action.dropup
                                                                            a.btn.no-shadow.no-border.no-bg.p-0.px-2(id="dropdown-"+file._id data-toggle='dropdown')
                                                                                svg(width='20' height='17' fill='#0073B1' viewBox='0 0 68 22' transform='rotate(90)' xmlns='http://www.w3.org/2000/svg')
                                                                                    ellipse(ry='5' rx='5' cy='10.97676' cx='15.94685' )
                                                                                    ellipse(ry='5' rx='5' cy='10.97676' cx='34.13289' )
                                                                                    ellipse(ry='5' rx='5' cy='10.91031' cx='52.13289' )
                                                                            .dropdown-menu.dropdown-menu-right.bg-white(role='menu')
                                                                                //- a.dropdown-item.px-1(data-toggle="tooltip" data-placement="top" title="Save for Later" id="saveForLater-"+file._id onClick="saveForLater('document','"+file.documentID+"','"+file._id+"'),dismissPopup('popup-shareVideo')")
                                                                                    svg.mr-2(id="saveForLaterSVG-"+file._id ,style=""+((file.savedForLater === true ? "fill:#0073B1;" : "fill:none")), xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' stroke='#0073B1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Bookmark')
                                                                                        path(d='M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z')
                                                                                    span Save for later
                                                                                a.dropdown-item.px-1(onClick="copyLink('document','"+file.documentID+"','"+(user === null ? visitorID : user._id)+"'),dismissPopup('popup-shareDocument'),clickSuccess(this)")
                                                                                    svg.mr-2(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#0073B1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Link2')
                                                                                        path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                                                                                        line(x1='8' y1='12' x2='16' y2='12')
                                                                                    span Copy link
                                                                                a.dropdown-item.px-1(onClick="clickSuccess(this),dismissPopup('popup-shareDocument'),shareTwitterLink('document','"+file.documentID+"','"+(user === null ? visitorID : user._id)+"')")
                                                                                    svg.mr-2(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#0073B1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Twitter')
                                                                                        path(d='M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z')
                                                                                    span Twitter
                                                                                a.dropdown-item.px-1(onClick="shareEmailDocumentLink('old','"+file.documentID+"','"+file.name+"','"+file.articleImage+"'),dismissPopup('popup-shareVideo'),clickSuccess(this)")
                                                                                    svg.mr-2(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#0073B1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Mail')
                                                                                        path(d='M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z')
                                                                                        polyline(points='22,6 12,13 2,6')
                                                                                    span Email
                                                                                a.dropdown-item.px-1(onClick="deleteDocument('"+file._id+"','"+file.documentID+"')")
                                                                                    svg.mr-2(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='rgba(179, 0, 0, 0.51)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Trash')
                                                                                        polyline(points='3 6 5 6 21 6')
                                                                                        path(d='M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2')
                                                                                    span Delete
                                                        .dropdown-divider.my-3
    if user
        #shareToTeamModal.modal.fade.mx-0.px-0(tabindex='-1', role='dialog', aria-hidden='true')
            .modal-dialog.modal-lg.modal-dialog-centered(role='document',style="min-width:5.253968253968253vw")
                .modal-content.bg-white.px-4
                    .modal-body
                        .row.justify-content-between.mx-0.border-bottom-black.thick.align-items-center
                            div
                                .row.justify-content-start.align-items-center.mx-0
                                    svg.mr-3(xmlns='http://www.w3.org/2000/svg' width='27' height='52' viewBox='0 0 24 24' fill='none' stroke='#0c0c0c' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Upload')
                                        path(d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4')
                                        polyline(points='17 8 12 3 7 8')
                                        line(x1='12' y1='3' x2='12' y2='15')
                                    p.teamInvite-title.mb-0="SHARE"
                            button.btn.no-shadow.no-border.no-bg(data-toggle='modal', data-target='#shareToTeamModal')
                                svg( xmlns='http://www.w3.org/2000/svg' width='37' height='41' viewBox='0 0 24 24' fill='none' stroke='hsl(0, 0%, 37%)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='X')
                                    line(x1='18' y1='6' x2='6' y2='18')
                                    line(x1='6' y1='6' x2='18' y2='18')

                        .row.justify-content-start.mx-0.mb-4.mt-3
                            .col-12.px-0
                                p.teamInvite-subTitle.pt-3.mb-2 SHARE THIS VIDEO WITH YOUR TEAMS
                            .col-12.px-0.teamsShare-Container.my-3#teamsContainer
                                if user
                                    for team, i in teams
                                        if team.permissions.canAddFiles
                                            .row.justify-content-between.align-items-center.mx-0.teamShare-Row.py-2
                                                span.teamShare-name=team.name
                                                button.btn.btn-teamShare.no-shadow(id="shareToTeamBtn-"+team.teamID onClick="shareToTeam(this)") 
                                                    | SHARE

                        .row.justify-content-start.mx-0.mb-4
                            .col-12.px-0
                                p.teamInvite-subTitle.pt-3.mb-2 CREATE A NEW TEAM 
                            .col-12.px-0
                                .input-group(style="height:50px")
                                    input.form-input-referral.teamInvite.borderRadius-full.show.h-100#teamShareCreateInput(placeholder="TEAM NAME")
                                    .input-group-append
                                        button.btn.btn-teamShare-Create.ml-1(onClick="createTeam()" type='button') 
                                            span#teanSgarecopyLinkBtn-Text CREATE
                                .teamInvite-emailError.row.mx-2.justify-content-start.px-3.py-1.align-items-center.d-none#teamShareCreateErrorContainer
                                    svg.mr-3(xmlns='http://www.w3.org/2000/svg' width='22' height='24' viewBox='0 0 24 24' fill='none' stroke='#ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='AlertTriangle')
                                        path(d='M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z')
                                        line(x1='12' y1='9' x2='12' y2='13')
                                        line(x1='12' y1='17' x2='12.01' y2='17')
                                    span#teamShareCreateErrorText A Team with that name already joined
                        .row.justify-content-between.mx-0.mb-4
                            span.teamRemove-cancel(data-toggle='modal', data-target='#shareToTeamModal') Cancel
    #NewSummaryModal.modal.fade.mx-0.px-0(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal-lg.modal-dialog-centered(role='document',style="width:47.22222222222222vw ,min-width:5.253968253968253vw")
            .modal-content.bg-dark-gray.px-4
                .modal-body
                    p.new-Summary-title.pt-3 New Summary
                    .text-center.d-none#spinnerNewSummary
                        .spinner-border(role='status')
                            span.sr-only Loading...
                    .d-inline-flex.col-12.new-Summary-input-container.p-3.my-4.pb-0#inputContainer
                        svg(xmlns='http://www.w3.org/2000/svg', width='20', height='20', viewBox='0 0 24 24', fill='none', stroke='#888', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='Link2')
                            path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                            line(x1='8', y1='12', x2='16', y2='12')
                        input#new-Summary-input.new-Summary-input.no-bg.pl-2(type='text', placeholder='Enter the URL of the video or the article you want to summarize', data-plugin='typeahead')
                    p#new-Summary-alert.text-danger(style="display:none;") Enter a proper url
                    p#new-Summary-success.text-success(style="display:none;") Redirecting you
                    .row.justify-content-end.p-3.pb-0
                        button.btn.btn-newSummary-summarize.px-4(onClick="processNewSummary()")
                            span Summarize
    #uploadModal.modal.fade.mx-0.px-0(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal-dialog-centered(role='document',style="width:47.22222222222222vw ,min-width:5.253968253968253vw")
            .modal-content.no-bg.no-shadow.no-border
                .col-12
                    #drag-drop-area.text-center()

    #loginModal.modal.fade.mx-0.px-0(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal-dialog-centered(role='document',style="width:400px")
            .modal-content.px-0
                .modal-body.position-relative
                    svg.position-absolute.m-3( data-toggle='modal', data-target='#loginModal' , style="top:0;right:0; z-index:1000; cursor:pointer;" stroke='#6C6C7F' width='12' height='12' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg')
                        line(y2='31' x2='31' y1='1' x1='1' stroke-width='1.5')
                        line(y2='31' x2='1' y1='1' x1='31' stroke-width='1.5')
                    .row.mx-0.justify-content-center
                        .logo.d-inline-flex.position-relative.big
                            .logo.white.big
                    .row.mx-0.justify-content-center
                        p.loginModal-Title.pt-3.mb-3#loginModal-title Make your online lectures searchable!
                    .row.mx-0.w-100.mt-3
                        .col-12.px-0.d-none#loginModal-signInContainer
                            .row.mx-0.w-100
                                form.w-100.mx-0.px-0(method='POST',action='/users/login?page=/')
                                    if(wrongLogin)
                                        p.text-danger.my-4.mx-3 Wrong Email or Password
                                    #form-group-email.text-left.col-12.px-0
                                        input.form-input-referral.mb-3.show#emailInput(name='username',type='email', placeholder="Email",required)
                                    #form-group-password.text-left.col-12.px-0
                                        input.form-input-referral.mb-3.show#passwordInput(name='password',type='password', placeholder="Password",required)
                                    if(sharedFrom)
                                        input.form-input(name='redirect_to',type='hidden',value="/shareLibrary/"+sharedFrom._id)
                                    else
                                        if(redirect_to!=null&&redirect_to!=undefined&&redirect_to!="")
                                            input.form-input(name='redirect_to',type='hidden',value=redirect_to)
                                    .row.mx-0.w-100.justify-content-center
                                        span.loginModal-smallText.bold(onClick="changeLoginView('forgotPassword')") Forgot Password? 
                                    button.btn.btn-loginModal-Submit.no-shadow.w-100.mt-3.mb-2.py-2(type="submit")
                                        | Sign In
                                    a.btn.btn-loginModal-changeView.w-100.mb-1.mt-2.no-shadow.py-2(onClick="changeLoginView('signin')")
                                        | Create Free Account
                        .col-12.px-0.d-none#loginModal-forgotPasswordModal
                            .row.mx-0.w-100
                                .w-100.mx-0.px-0
                                    #form-group-email.text-left.col-12.px-0
                                        input.form-input-referral.mb-3.show#changePaswordEmailInput(name='username',type='email', placeholder="Email",required)
                                    .row.mx-0.w-100.justify-content-start.d-none#changePasswordInstructions
                                        p.mb-1.loginModal-smallText We've emailed you instructions for changing your password, if an account exists with the email you entered. You should receive them shortly. 
                                        p.mb-0.loginModal-smallText If you don't receive an email, please make sure you've entered the address you registered with, and check your spam folder. 
                                    button.btn.btn-loginModal-Submit.no-shadow.w-100.mt-3.mb-2.py-2#btn-changePassword(onClick="changePasswordRequest()")
                                        span#btn-changePassword-text Reset Password
                                        .text-center.d-none#spinner-changePassword
                                            .spinner-border(role='status')
                                                span.sr-only Loading...
                                        
                                    .row.mx-0.w-100.justify-content-center.align-items-center.position-relative.my-2
                                        .divider-gray.position-absolute.absolute-center(style="z-index:0;")
                                        span.inviteModal-Or.bg-white.px-2(style="z-index:1;") Or
                                    button.btn.btn-loginModal-changeView.no-shadow.w-100.mt-3.mb-2.py-2(onClick="changeLoginView('signup')")
                                        | Sign In
                                    a.btn.btn-loginModal-changeView.w-100.mb-1.mt-2.no-shadow.py-2(onClick="changeLoginView('signin')")
                                        | Create Free Account
                        .col-12.px-0#loginModal-signUpContainer
                            .row.mx-0.w-100
                                form.mx-0.px-0.w-100(method='POST',action='/users/register')
                                    if(wrongLogin)
                                        p.text-danger Email already registered
                                    .row#form-group-Name
                                        #form-group-firstName.text-left.col-12
                                            input.form-input-referral.mb-3.show#Fname(name='Fname',type='text', placeholder="Full Name",required)
                                            p#Fname-text-alert.text-danger.pt-2.m-0.d-none Name cannot be empty
                                        #form-group-lastName.text-left.col-12.col-sm-6.d-none
                                            input.form-input.signUp-input.w-100#Lname(name='Lname',type='text', placeholder="Smart", value="")
                                            p#Lname-text-alert.text-danger.pt-2.m-0.d-none Last name cannot be empty
                                    #form-group-email.text-left.col-12.px-0
                                        p#emailInput-text-alert.text-danger.d-none Invalid Email
                                        input.form-input-referral.mb-3.show#emailInput(name='username',type='email', placeholder="Email",required,value=email)
                                    #form-group-password.text-left.col-12.px-0
                                        p#passwordInput-text-alert.text-danger.d-none.p-0.m-0 Invalid Password
                                        input.form-input-referral.mb-3.show#passwordInput(name='password',type='password', placeholder="Password",required)
                                    //- p#Fname-text-alert.text-danger.d-none.pt-2.m-0 Name cannot be empty
                                    //- input.form-input.signUp-input.my-3.d-none#Fname(name='Fname',type='text', placeholder="NAME",required)
                                    if(sharedFrom)
                                        input.form-input(name='redirect_to',type='hidden',value="/shareLibrary/"+sharedFrom._id)
                                    else
                                        if(redirect_to!=null&&redirect_to!=undefined&&redirect_to!="")
                                            input.form-input(name='redirect_to',type='hidden',value=redirect_to)
                                    input(type="hidden",name="noconfirm",value="false")
                                    input(name='referredBy',type='hidden',value=referredBy)
                                    .row.mx-0.w-100
                                        span.loginModal-smallText By signing up you agree to Blackbox #[a(href="#") terms & conditions.]
                                    button.btn.btn-loginModal-Submit.no-shadow.w-100.mt-3.mb-2.py-2(type="submit")
                                        | Create Free Account
                                    a.btn.btn-loginModal-changeView.w-100.mb-1.mt-2.no-shadow.py-2(onClick="changeLoginView('signup')")
                                        | Sign In
                    
    #tagsModal.modal.fade.mx-0.px-0(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal-dialog-centered(role='document',style="width:400px; min-height:400px;")
            .modal-content.px-0
                .modal-body
                    .row.mx-0.mb-4
                        span.inviteModal-title.pt-2 Tag your videos
                    .row.mx-0.w-100
                        p#tagsModal-text-success.text-success.d-none  Success 
                        p#tagsModal-text-alert.text-danger.d-none Invalid Email

                        .col-12.px-0#tagsModal-tagInputContainer
                            input.form-input-referral.mb-3.show.w-100#tagsModal-tagInput0(name='referAFriendEmail',type='text', placeholder="tag",autocomplete="new-password")
                        input.form-input-referral.mb-3.show#addedTags(name='',type='hidden')
                    .row.mx-0.w-100.my-2
                        button.btn.no-shadow.no-border.no-bg.px-0(onClick="addAnotherTag()")
                            .row.justify-content-center.mx-0
                                svg.mr-2(xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='#393856' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='PlusCircle')
                                    circle(cx='12' cy='12' r='10')
                                    line(x1='12' y1='8' x2='12' y2='16')
                                    line(x1='8' y1='12' x2='16' y2='12')
                                span.inviteModal-addAnother Add another
                    .divider-gray.my-3
                    .row.mx-0.w-100.justify-content-between.align-items-center.my-2
                        span.inviteModal-membersAddedCount#tagsModal-tagsAddedCount 0 tags added
                        div
                            button.btn.no-shadow.inviteModal-btnCancel.mx-1.py-1#tagsModal-btnCancel(disabled onClick="cancelAddTags()")
                                | Cancel
                            button.btn.no-shadow.inviteModal-shareableLink.mx-1.py-1#tagsModal-btnSubmit(disabled onClick="processTags()")
                                span#tagsModal-btnSubmitText Add Tags
                                .text-center.d-none#spinner-tagsModal
                                    .spinner-border(role='status')
                                        span.sr-only Loading...
    #inviteModal.modal.fade.mx-0.px-0(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal-dialog-centered(role='document',style="width:400px; min-height:400px;")
            .modal-content.px-0
                .modal-body
                    .row.mx-0
                        span.inviteModal-title.pt-2 Invite others to join Personal Library
                    .row.mx-0
                        p.inviteModal-subTitle.pt-3 Grow your Course by inviting others to join
                    .row.mx-0.w-100
                        button.btn.inviteModal-shareableLink.no-shadow.no-border.w-100.py-2#inviteModal-shareableLink(onClick="shareLibrary(this,'"+(user==undefined?(sharedFrom==undefined?"":sharedFrom._id):user._id)+"'),copySuccess(this)")
                            svg.mr-2.copyBtn-svg(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Link2')
                                path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                                line(x1='8' y1='12' x2='16' y2='12')
                            svg.mr-2.d-none.copyBtn-svg-success(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Check')
                                polyline(points='20 6 9 17 4 12')
                            span.copyBtn-text.shareable Get a sharable invite link
                        button.btn.inviteModal-shareableLink.no-shadow.no-border.w-100.py-2.d-none#inviteModal-videoLink(onClick="dismissPopup('popup-share'),copySuccess(this)")
                            svg.mr-2.copyBtn-svg(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Link2')
                                path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                                line(x1='8' y1='12' x2='16' y2='12')
                            svg.mr-2.d-none.copyBtn-svg-success(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Check')
                                polyline(points='20 6 9 17 4 12')
                            span.copyBtn-text Copy Link
                        button.btn.inviteModal-shareableLink.no-shadow.no-border.w-100.py-2.d-none#inviteModal-multipleVideoLinks(onClick="dismissPopup('popup-share'),copySuccess(this)")
                            svg.mr-2.copyBtn-svg(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Link2')
                                path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                                line(x1='8' y1='12' x2='16' y2='12')
                            svg.mr-2.d-none.copyBtn-svg-success(xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 24 24' fill='none' stroke='#ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='Check')
                                polyline(points='20 6 9 17 4 12')
                            span.copyBtn-text.plural Copy Links
                    .row.mx-0.w-100.justify-content-center.align-items-center.position-relative.my-3
                        .divider-gray.position-absolute.absolute-center(style="z-index:0;")
                        span.inviteModal-Or.bg-white.px-2(style="z-index:1;") Or invite by email
                    .row.mx-0.w-100.my-2
                        span.inviteModal-Label Email
                    .row.mx-0.w-100
                        p#inviteModal-text-alert.text-danger.d-none Invalid Email
                        p#inviteModal-text-success.text-success.d-none  Success 
                            .col-12.px-0#inviteModal-emailInputContainer
                                input.form-input-referral.mb-3.show.w-100#inviteModal-emailInput0(name='referAFriendEmail',type='email', placeholder="Email",autocomplete="new-password")
                        input.form-input-referral.mb-3.show#selectedEmails(name='',type='hidden')
                    .row.mx-0.w-100.my-2
                        button.btn.no-shadow.no-border.no-bg.px-0(onClick="addAnother()")
                            .row.justify-content-center.mx-0
                                svg.mr-2(xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='#393856' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='PlusCircle')
                                    circle(cx='12' cy='12' r='10')
                                    line(x1='12' y1='8' x2='12' y2='16')
                                    line(x1='8' y1='12' x2='16' y2='12')
                                span.inviteModal-addAnother Add another
                    .divider-gray.my-3
                    .row.mx-0.w-100.justify-content-between.align-items-center.my-2
                        span.inviteModal-membersAddedCount#inviteModal-membersAddedCount 0 Members added
                        div
                            button.btn.no-shadow.inviteModal-btnCancel.mx-1.py-1#inviteModal-btnCancel(disabled data-toggle='modal', data-target='#inviteModal')
                                | Cancel
                            button.btn.no-shadow.inviteModal-shareableLink.mx-1.py-1#inviteModal-btnSubmit(disabled onClick="processEmails()")
                                span#inviteModal-btnSubmitText Send Invitations
                                .text-center.d-none#spinner-inviteModal
                                    .spinner-border(role='status')
                                        span.sr-only Loading...
    #teamMembersModal.modal.fade.mx-0.px-0(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal-dialog-centered(role='document',style="width:400px; min-height:400px;")
            .modal-content.px-0
                .modal-body
                    .row.mx-0.createTeamModal-hideOnHowTo
                        span.createTeamModal-title.pt-2#teamMembersModal-teamName team 0
                    .row.mx-0.createTeamModal-hideOnHowTo
                        p.createTeamModal-subTitle.pt-3#teamMembersModal-memberCount 0 members
                    .row.mx-0.createTeamModal-hideOnHowTo
                        .col-12.px-0#teamMembersModal-membersContainer
                        
                                
                    .row.mx-0.createTeamModal-hideOnHowTo.my-3.py-2
                        span.createTeamModal-title Grow your team by inviting others to join.
                    .row.mx-0.createTeamModal-showOnHowTo.d-none
                        span.createTeamModal-title.pt-2 Copy/paste from a spreadsheet
                    .row.mx-0.createTeamModal-showOnHowTo.d-none
                        p.createTeamModal-subTitle.pt-3 Choose something that your team will recognize.
                    .row.mx-0.createTeamModal-showOnHowTo.d-none.my-2.py-1
                        svg(xmlns='http://www.w3.org/2000/svg', width='352', height='155')
                            g(transform='translate(84.026 6.739)')
                                path(d='M 0 5.099 C 0 2.283 2.234 0 4.99 0 L 179.689 0 C 182.445 0 184.679 2.283 184.679 5.099 L 184.679 119.512 C 184.679 122.328 182.445 124.611 179.689 124.611 L 4.99 124.611 C 2.234 124.611 0 122.328 0 119.512 L 0 5.098 Z', fill='rgb(255,255,255)')
                            path(d='M 136.532 29.217 L 268.508 29.217 L 268.508 126.397 C 268.508 129.189 266.294 131.452 263.562 131.452 L 136.532 131.452 Z', fill='rgb(49,68,68)', opacity='0.1')
                            path(d='M 95.625 127.236 L 95.625 131.413 L 94.801 131.413 L 94.801 127.236 L 83.664 127.236 L 83.664 126.393 L 94.801 126.393 L 94.801 114.986 L 83.664 114.986 L 83.664 114.144 L 94.801 114.144 L 94.801 102.736 L 83.664 102.736 L 83.664 101.894 L 94.801 101.894 L 94.801 90.486 L 83.664 90.486 L 83.664 89.644 L 94.801 89.644 L 94.801 78.236 L 83.664 78.236 L 83.664 77.394 L 94.801 77.394 L 94.801 65.987 L 83.664 65.987 L 83.664 65.145 L 94.801 65.145 L 94.801 53.736 L 83.664 53.736 L 83.664 52.894 L 94.801 52.894 L 94.801 41.487 L 83.664 41.487 L 83.664 40.645 L 94.801 40.645 L 94.801 29.237 L 83.664 29.237 L 83.664 28.394 L 94.801 28.394 L 94.801 16.005 L 95.625 16.005 L 95.625 28.394 L 136.019 28.394 L 136.019 16.005 L 136.843 16.005 L 136.843 28.394 L 175.588 28.394 L 175.588 16.005 L 176.412 16.005 L 176.412 28.394 L 216.806 28.394 L 216.806 16.005 L 217.63 16.005 L 217.63 28.394 L 256.375 28.394 L 256.375 16.005 L 257.199 16.005 L 257.199 28.394 L 268.564 28.394 L 268.564 29.237 L 257.199 29.237 L 257.199 40.645 L 268.564 40.645 L 268.564 41.488 L 257.199 41.488 L 257.199 52.895 L 268.564 52.895 L 268.564 53.738 L 257.199 53.738 L 257.199 65.145 L 268.564 65.145 L 268.564 65.987 L 257.199 65.987 L 257.199 77.395 L 268.564 77.395 L 268.564 78.237 L 257.199 78.237 L 257.199 89.645 L 268.564 89.645 L 268.564 90.487 L 257.199 90.487 L 257.199 101.895 L 268.564 101.895 L 268.564 102.737 L 257.199 102.737 L 257.199 114.144 L 268.564 114.144 L 268.564 114.986 L 257.199 114.986 L 257.199 126.393 L 268.564 126.393 L 268.564 127.236 L 257.199 127.236 L 257.199 131.413 L 256.375 131.413 L 256.375 127.236 L 217.63 127.236 L 217.63 131.413 L 216.806 131.413 L 216.806 127.236 L 176.412 127.236 L 176.412 131.413 L 175.588 131.413 L 175.588 127.236 L 136.843 127.236 L 136.843 131.413 L 136.019 131.413 L 136.019 127.236 Z M 95.625 126.393 L 136.019 126.393 L 136.019 114.986 L 95.625 114.986 Z M 95.625 114.144 L 136.019 114.144 L 136.019 102.736 L 95.625 102.736 Z M 95.625 101.894 L 136.019 101.894 L 136.019 90.486 L 95.625 90.486 Z M 95.625 89.644 L 136.019 89.644 L 136.019 78.236 L 95.625 78.236 Z M 95.625 77.394 L 136.019 77.394 L 136.019 65.987 L 95.625 65.987 Z M 95.625 65.145 L 136.019 65.145 L 136.019 53.736 L 95.625 53.736 L 95.625 65.143 Z M 95.625 52.895 L 136.019 52.895 L 136.019 41.487 L 95.625 41.487 Z M 95.625 40.645 L 136.019 40.645 L 136.019 29.237 L 95.625 29.237 L 95.625 40.645 Z M 136.843 29.237 L 136.843 40.645 L 175.588 40.645 L 175.588 29.237 Z M 176.412 29.237 L 176.412 40.645 L 216.806 40.645 L 216.806 29.237 Z M 217.63 29.237 L 217.63 40.645 L 256.375 40.645 L 256.375 29.237 Z M 256.375 41.487 L 217.63 41.487 L 217.63 52.895 L 256.375 52.895 Z M 256.375 53.737 L 217.63 53.737 L 217.63 65.144 L 256.375 65.144 Z M 256.375 65.986 L 217.63 65.986 L 217.63 77.394 L 256.375 77.394 L 256.375 65.987 Z M 256.375 78.236 L 217.63 78.236 L 217.63 89.644 L 256.375 89.644 Z M 256.375 90.486 L 217.63 90.486 L 217.63 101.894 L 256.375 101.894 Z M 256.375 102.736 L 217.63 102.736 L 217.63 114.144 L 256.375 114.144 Z M 256.375 114.986 L 217.63 114.986 L 217.63 126.393 L 256.375 126.393 Z M 216.806 126.393 L 216.806 114.986 L 176.412 114.986 L 176.412 126.393 Z M 175.588 126.393 L 175.588 114.986 L 136.843 114.986 L 136.843 126.393 Z M 136.843 114.144 L 175.588 114.144 L 175.588 102.736 L 136.843 102.736 Z M 136.843 101.894 L 175.588 101.894 L 175.588 90.486 L 136.843 90.486 Z M 136.843 89.644 L 175.588 89.644 L 175.588 78.236 L 136.843 78.236 Z M 136.843 77.394 L 175.588 77.394 L 175.588 65.987 L 136.843 65.987 Z M 136.843 65.145 L 175.588 65.145 L 175.588 53.736 L 136.843 53.736 L 136.843 65.143 Z M 136.843 52.895 L 175.588 52.895 L 175.588 41.487 L 136.843 41.487 Z M 176.412 41.487 L 176.412 52.895 L 216.806 52.895 L 216.806 41.487 Z M 216.806 53.737 L 176.412 53.737 L 176.412 65.144 L 216.806 65.144 Z M 216.806 65.986 L 176.412 65.986 L 176.412 77.394 L 216.806 77.394 L 216.806 65.987 Z M 216.806 78.236 L 176.412 78.236 L 176.412 89.644 L 216.806 89.644 Z M 216.806 90.486 L 176.412 90.486 L 176.412 101.894 L 216.806 101.894 Z M 216.806 102.736 L 176.412 102.736 L 176.412 114.144 L 216.806 114.144 Z', fill='rgb(204,204,204)')
                            path(d='M 83.664 17.358 L 268.564 17.358 L 268.564 29.238 L 83.664 29.238 Z', fill='rgba(255,197,92,0.2)')
                            path(d='M 83.664 126.637 C 83.664 129.428 85.878 131.691 88.61 131.691 L 95.652 131.691 L 95.652 29.237 L 83.664 29.237 Z', fill='rgba(255,197,92,0.2)')
                            path(d='M 83.799 12.063 C 83.8 9.247 86.033 6.965 88.789 6.965 L 263.488 6.965 C 266.244 6.965 268.478 9.248 268.478 12.064 L 268.478 17.383 L 83.799 17.383 Z', fill='rgb(255,233,193)')
                            path(d='M 92.034 12.572 C 92.034 13.899 90.98 14.976 89.681 14.976 C 88.382 14.976 87.329 13.899 87.329 12.572 C 87.329 11.244 88.382 10.168 89.681 10.168 C 90.98 10.168 92.034 11.244 92.034 12.572 Z M 99.091 12.572 C 99.091 13.9 98.038 14.976 96.738 14.976 C 95.439 14.976 94.385 13.9 94.385 12.572 C 94.385 11.244 95.439 10.168 96.738 10.168 C 98.038 10.168 99.091 11.244 99.091 12.572 Z M 106.15 12.572 C 106.15 13.9 105.097 14.976 103.797 14.976 C 102.498 14.976 101.444 13.9 101.444 12.572 C 101.444 11.244 102.498 10.168 103.797 10.168 C 105.097 10.168 106.15 11.244 106.15 12.572 Z', fill='rgb(255,197,92)')
                            path(d='M 5.743 91.467 C 5.595 90.628 4.932 89.556 3.181 89.556 C 1.836 89.556 0.669 90.507 0.669 91.861 C 0.669 92.922 1.391 93.731 2.578 93.964 L 3.537 94.146 C 4.002 94.237 4.289 94.499 4.289 94.863 C 4.289 95.308 3.913 95.611 3.3 95.611 C 2.34 95.611 1.905 95.035 1.846 94.378 L 0.411 94.732 C 0.51 95.743 1.341 97.027 3.28 97.027 C 4.952 97.027 5.872 95.884 5.872 94.762 C 5.872 93.741 5.179 92.862 3.844 92.609 L 2.904 92.427 C 2.419 92.336 2.212 92.083 2.212 91.74 C 2.212 91.346 2.588 90.972 3.171 90.972 C 4.022 90.972 4.289 91.538 4.339 91.871 Z M 8.395 96.875 L 8.395 91.851 L 6.892 91.851 L 6.892 96.875 Z M 6.763 90.314 C 6.753 90.642 6.919 90.95 7.195 91.116 C 7.471 91.283 7.815 91.283 8.091 91.116 C 8.367 90.95 8.533 90.642 8.523 90.314 C 8.508 89.829 8.119 89.442 7.643 89.442 C 7.167 89.442 6.778 89.829 6.763 90.314 Z M 11.168 93.994 C 11.168 93.489 11.484 93.115 11.979 93.115 C 12.523 93.115 12.78 93.489 12.78 93.984 L 12.78 96.875 L 14.284 96.875 L 14.284 93.721 C 14.284 92.619 13.73 91.72 12.493 91.72 C 11.989 91.72 11.385 91.952 11.118 92.427 L 11.118 91.851 L 9.664 91.851 L 9.664 96.875 L 11.168 96.875 Z M 15.232 97.158 C 15.37 98.058 16.27 98.947 17.685 98.947 C 19.525 98.947 20.316 97.694 20.316 96.248 L 20.316 91.851 L 18.882 91.851 L 18.882 92.387 C 18.743 92.124 18.318 91.76 17.517 91.76 C 16.171 91.76 15.232 92.892 15.232 94.216 C 15.232 95.611 16.211 96.663 17.517 96.663 C 18.229 96.663 18.654 96.37 18.832 96.097 L 18.832 96.329 C 18.832 97.239 18.367 97.613 17.616 97.613 C 17.052 97.613 16.656 97.259 16.557 96.774 Z M 17.794 95.328 C 17.19 95.328 16.735 94.904 16.735 94.216 C 16.735 93.529 17.23 93.104 17.794 93.104 C 18.358 93.104 18.842 93.529 18.842 94.216 C 18.842 94.904 18.407 95.328 17.794 95.328 Z M 23.089 96.875 L 23.089 89.556 L 21.585 89.556 L 21.585 96.875 Z M 25.574 93.762 C 25.604 93.387 25.92 92.912 26.553 92.912 C 27.266 92.912 27.523 93.377 27.543 93.762 Z M 27.651 95.066 C 27.513 95.46 27.206 95.723 26.662 95.723 C 26.079 95.723 25.574 95.318 25.544 94.752 L 28.967 94.752 C 28.977 94.722 28.997 94.489 28.997 94.277 C 28.997 92.66 28.057 91.699 26.534 91.699 C 25.257 91.699 24.08 92.73 24.08 94.348 C 24.08 96.036 25.287 97.027 26.642 97.027 C 27.889 97.027 28.67 96.299 28.908 95.429 Z M 32.927 94.52 L 32.927 93.135 L 29.96 93.135 L 29.96 94.52 Z M 37.546 97.027 C 39.722 97.027 40.652 95.51 40.88 94.52 L 39.386 94.085 C 39.248 94.601 38.763 95.429 37.546 95.429 C 36.498 95.429 35.528 94.651 35.528 93.307 C 35.528 91.8 36.587 91.113 37.526 91.113 C 38.763 91.113 39.208 91.952 39.317 92.447 L 40.791 91.972 C 40.563 90.941 39.633 89.556 37.526 89.556 C 35.568 89.556 33.906 91.073 33.906 93.307 C 33.906 95.541 35.528 97.027 37.546 97.027 Z M 44.052 95.611 C 43.488 95.611 42.944 95.197 42.944 94.358 C 42.944 93.509 43.488 93.115 44.052 93.115 C 44.626 93.115 45.16 93.509 45.16 94.358 C 45.16 95.207 44.626 95.611 44.052 95.611 Z M 44.052 91.699 C 42.588 91.699 41.44 92.801 41.44 94.358 C 41.44 95.915 42.588 97.027 44.052 97.027 C 45.526 97.027 46.663 95.915 46.663 94.358 C 46.663 92.801 45.526 91.699 44.052 91.699 Z M 49.152 96.875 L 49.152 89.556 L 47.649 89.556 L 47.649 96.875 Z M 53.596 96.875 L 55.041 96.875 C 55.007 96.576 54.991 96.276 54.991 95.975 L 54.991 91.851 L 53.488 91.851 L 53.488 94.712 C 53.488 95.217 53.171 95.571 52.666 95.571 C 52.132 95.571 51.875 95.187 51.875 94.702 L 51.875 91.851 L 50.371 91.851 L 50.371 95.025 C 50.371 96.097 51.044 96.986 52.241 96.986 C 52.736 96.986 53.3 96.804 53.557 96.37 C 53.557 96.501 53.577 96.784 53.596 96.875 Z M 57.769 96.875 L 57.769 93.984 C 57.769 93.529 58.056 93.115 58.58 93.115 C 59.124 93.115 59.372 93.489 59.372 93.964 L 59.372 96.875 L 60.856 96.875 L 60.856 93.974 C 60.856 93.529 61.142 93.115 61.677 93.115 C 62.211 93.115 62.458 93.489 62.458 93.964 L 62.458 96.875 L 63.912 96.875 L 63.912 93.62 C 63.912 92.255 63.022 91.699 62.092 91.699 C 61.429 91.699 60.955 91.922 60.569 92.488 C 60.321 91.993 59.817 91.699 59.115 91.699 C 58.58 91.699 57.947 91.982 57.7 92.427 L 57.7 91.851 L 56.266 91.851 L 56.266 96.875 Z M 66.648 93.994 C 66.648 93.489 66.964 93.115 67.459 93.115 C 68.003 93.115 68.26 93.489 68.26 93.984 L 68.26 96.875 L 69.764 96.875 L 69.764 93.721 C 69.764 92.619 69.21 91.72 67.973 91.72 C 67.469 91.72 66.865 91.952 66.598 92.427 L 66.598 91.851 L 65.144 91.851 L 65.144 96.875 L 66.648 96.875 Z M 70.781 95.985 C 70.781 96.491 71.127 96.895 71.671 96.895 C 71.79 96.895 71.899 96.865 71.948 96.824 C 71.928 97.431 71.384 97.835 70.959 97.916 L 70.959 98.634 C 71.75 98.543 72.838 97.876 72.838 96.309 C 72.838 95.642 72.462 95.045 71.769 95.045 C 71.205 95.045 70.78 95.45 70.78 95.985 Z M 15.514 112.038 L 15.514 110.522 L 12.627 110.522 L 12.627 109.147 L 15.238 109.147 L 15.238 107.742 L 12.627 107.742 L 12.627 106.377 L 15.505 106.377 L 15.505 104.871 L 11.063 104.871 L 11.063 112.038 Z M 18.109 112.038 L 18.109 109.147 C 18.109 108.692 18.396 108.278 18.92 108.278 C 19.464 108.278 19.711 108.652 19.711 109.127 L 19.711 112.038 L 21.195 112.038 L 21.195 109.137 C 21.195 108.692 21.482 108.278 22.016 108.278 C 22.55 108.278 22.798 108.652 22.798 109.127 L 22.798 112.038 L 24.252 112.038 L 24.252 108.783 C 24.252 107.418 23.361 106.862 22.432 106.862 C 21.769 106.862 21.294 107.085 20.908 107.651 C 20.661 107.156 20.156 106.862 19.454 106.862 C 18.92 106.862 18.287 107.145 18.039 107.59 L 18.039 107.014 L 16.605 107.014 L 16.605 112.038 Z M 25.215 110.653 C 25.215 111.452 25.839 112.18 26.917 112.18 C 27.57 112.18 28.045 111.897 28.302 111.472 C 28.302 111.816 28.341 111.998 28.351 112.038 L 29.706 112.038 C 29.667 111.781 29.647 111.52 29.647 111.26 L 29.647 108.803 C 29.647 107.772 29.063 106.862 27.471 106.862 C 26.027 106.862 25.374 107.813 25.314 108.53 L 26.62 108.803 C 26.65 108.429 26.937 108.065 27.461 108.065 C 27.936 108.065 28.183 108.318 28.183 108.611 C 28.183 108.783 28.094 108.914 27.827 108.955 L 26.67 109.137 C 25.858 109.258 25.215 109.764 25.215 110.653 Z M 27.283 111.068 C 26.867 111.068 26.699 110.815 26.699 110.552 C 26.699 110.198 26.937 110.047 27.253 109.996 L 28.183 109.844 L 28.183 110.067 C 28.183 110.845 27.728 111.068 27.283 111.068 Z M 32.377 112.038 L 32.377 107.014 L 30.873 107.014 L 30.873 112.038 Z M 30.744 105.477 C 30.744 105.974 31.139 106.377 31.625 106.377 C 32.111 106.377 32.505 105.974 32.505 105.477 C 32.505 104.981 32.111 104.578 31.625 104.578 C 31.139 104.578 30.744 104.981 30.744 105.477 Z M 35.15 112.038 L 35.15 104.719 L 33.646 104.719 L 33.646 112.038 Z M 36.122 110.613 C 36.161 111.169 36.656 112.19 38.199 112.19 C 39.515 112.19 40.158 111.351 40.158 110.491 C 40.158 109.753 39.663 109.127 38.644 108.914 L 37.991 108.783 C 37.774 108.743 37.605 108.621 37.605 108.409 C 37.605 108.146 37.853 107.974 38.14 107.974 C 38.595 107.974 38.802 108.257 38.842 108.591 L 40.088 108.358 C 40.039 107.772 39.544 106.862 38.12 106.862 C 37.022 106.862 36.23 107.61 36.23 108.53 C 36.23 109.238 36.646 109.844 37.695 110.077 L 38.258 110.208 C 38.624 110.289 38.743 110.441 38.743 110.623 C 38.743 110.845 38.555 111.058 38.169 111.058 C 37.655 111.058 37.418 110.724 37.398 110.38 Z M 45.805 110.774 C 45.241 110.774 44.697 110.36 44.697 109.521 C 44.697 108.672 45.241 108.278 45.805 108.278 C 46.379 108.278 46.913 108.672 46.913 109.521 C 46.913 110.37 46.379 110.774 45.805 110.774 Z M 45.805 106.862 C 44.341 106.862 43.194 107.964 43.194 109.521 C 43.194 111.078 44.341 112.19 45.805 112.19 C 47.279 112.19 48.417 111.078 48.417 109.521 C 48.417 107.964 47.279 106.862 45.805 106.862 Z M 50.906 109.157 C 50.906 108.652 51.222 108.278 51.717 108.278 C 52.261 108.278 52.518 108.652 52.518 109.147 L 52.518 112.038 L 54.022 112.038 L 54.022 108.884 C 54.022 107.782 53.468 106.883 52.231 106.883 C 51.727 106.883 51.123 107.115 50.856 107.59 L 50.856 107.014 L 49.402 107.014 L 49.402 112.038 L 50.906 112.038 Z M 56.75 112.038 L 56.75 104.719 L 55.247 104.719 L 55.247 112.038 Z M 60.007 113.969 L 63.034 107.014 L 61.442 107.014 L 60.354 109.703 L 59.157 107.014 L 57.475 107.014 L 59.542 111.361 L 58.425 113.969 Z M 298.496 58.967 L 298.496 51.8 L 296.933 51.8 L 296.933 56.157 L 294.302 51.8 L 292.402 51.8 L 292.402 58.967 L 293.955 58.967 L 293.955 54.257 L 296.844 58.967 Z M 302.172 57.704 C 301.608 57.704 301.064 57.289 301.064 56.45 C 301.064 55.601 301.608 55.207 302.172 55.207 C 302.746 55.207 303.28 55.601 303.28 56.45 C 303.28 57.299 302.746 57.704 302.172 57.704 Z M 302.172 53.792 C 300.708 53.792 299.56 54.894 299.56 56.45 C 299.56 58.007 300.708 59.119 302.172 59.119 C 303.646 59.119 304.783 58.007 304.783 56.45 C 304.783 54.894 303.646 53.792 302.172 53.792 Z M 310.412 55.207 C 310.996 55.207 311.292 55.571 311.401 55.955 L 312.747 55.541 C 312.529 54.641 311.738 53.792 310.382 53.792 C 308.938 53.792 307.791 54.894 307.791 56.46 C 307.791 58.017 308.968 59.119 310.432 59.119 C 311.748 59.119 312.559 58.25 312.776 57.37 L 311.451 56.956 C 311.342 57.33 311.015 57.704 310.432 57.704 C 309.809 57.704 309.284 57.259 309.284 56.46 C 309.284 55.652 309.789 55.207 310.412 55.207 Z M 316.015 57.704 C 315.451 57.704 314.907 57.289 314.907 56.45 C 314.907 55.601 315.451 55.207 316.015 55.207 C 316.589 55.207 317.123 55.601 317.123 56.45 C 317.123 57.299 316.589 57.704 316.015 57.704 Z M 316.015 53.792 C 314.551 53.792 313.404 54.894 313.404 56.45 C 313.404 58.007 314.551 59.119 316.015 59.119 C 317.489 59.119 318.627 58.007 318.627 56.45 C 318.627 54.894 317.489 53.792 316.015 53.792 Z M 321.116 58.967 L 321.116 51.649 L 319.612 51.649 L 319.612 58.967 Z M 325.56 58.967 L 327.004 58.967 C 326.971 58.669 326.954 58.368 326.954 58.068 L 326.954 53.943 L 325.451 53.943 L 325.451 56.804 C 325.451 57.31 325.134 57.663 324.63 57.663 C 324.096 57.663 323.838 57.279 323.838 56.794 L 323.838 53.943 L 322.335 53.943 L 322.335 57.117 C 322.335 58.189 323.007 59.079 324.204 59.079 C 324.699 59.079 325.263 58.897 325.52 58.462 C 325.52 58.593 325.54 58.876 325.56 58.967 Z M 329.732 58.967 L 329.732 56.076 C 329.732 55.621 330.019 55.207 330.544 55.207 C 331.088 55.207 331.335 55.581 331.335 56.056 L 331.335 58.967 L 332.819 58.967 L 332.819 56.066 C 332.819 55.621 333.106 55.207 333.64 55.207 C 334.174 55.207 334.421 55.581 334.421 56.056 L 334.421 58.967 L 335.876 58.967 L 335.876 55.712 C 335.876 54.348 334.985 53.792 334.055 53.792 C 333.393 53.792 332.918 54.014 332.532 54.58 C 332.285 54.085 331.78 53.792 331.078 53.792 C 330.544 53.792 329.911 54.075 329.663 54.52 L 329.663 53.943 L 328.229 53.943 L 328.229 58.967 Z M 338.611 56.086 C 338.611 55.581 338.927 55.207 339.422 55.207 C 339.966 55.207 340.223 55.581 340.223 56.076 L 340.223 58.967 L 341.727 58.967 L 341.727 55.813 C 341.727 54.712 341.173 53.812 339.936 53.812 C 339.432 53.812 338.828 54.044 338.561 54.52 L 338.561 53.943 L 337.107 53.943 L 337.107 58.967 L 338.611 58.967 Z M 284.131 71.179 C 284.16 70.714 284.467 70.37 284.942 70.37 C 285.486 70.37 285.743 70.744 285.743 71.239 L 285.743 74.13 L 287.247 74.13 L 287.247 70.977 C 287.247 69.875 286.673 68.975 285.387 68.975 C 284.952 68.975 284.437 69.117 284.131 69.43 L 284.131 66.812 L 282.627 66.812 L 282.627 74.13 L 284.131 74.13 Z M 289.679 71.017 C 289.708 70.643 290.025 70.168 290.658 70.168 C 291.37 70.168 291.627 70.633 291.647 71.017 Z M 291.756 72.321 C 291.618 72.715 291.311 72.978 290.767 72.978 C 290.183 72.978 289.679 72.574 289.649 72.008 L 293.072 72.008 C 293.082 71.977 293.101 71.745 293.101 71.532 C 293.101 69.915 292.162 68.955 290.638 68.955 C 289.362 68.955 288.185 69.986 288.185 71.603 C 288.185 73.291 289.392 74.282 290.747 74.282 C 291.993 74.282 292.775 73.554 293.012 72.685 Z M 293.837 72.746 C 293.837 73.544 294.46 74.272 295.538 74.272 C 296.191 74.272 296.666 73.989 296.923 73.564 C 296.923 73.908 296.963 74.09 296.973 74.13 L 298.328 74.13 C 298.288 73.873 298.268 73.613 298.268 73.352 L 298.268 70.896 C 298.268 69.865 297.685 68.955 296.092 68.955 C 294.648 68.955 293.995 69.905 293.936 70.623 L 295.241 70.896 C 295.271 70.522 295.558 70.158 296.082 70.158 C 296.557 70.158 296.804 70.41 296.804 70.704 C 296.804 70.875 296.715 71.007 296.448 71.047 L 295.291 71.229 C 294.48 71.351 293.837 71.856 293.837 72.746 Z M 295.904 73.16 C 295.489 73.16 295.321 72.907 295.321 72.644 C 295.321 72.291 295.558 72.139 295.875 72.088 L 296.804 71.937 L 296.804 72.159 C 296.804 72.938 296.349 73.16 295.904 73.16 Z M 304.411 66.812 L 302.927 66.812 L 302.927 69.501 C 302.808 69.309 302.442 68.985 301.601 68.985 C 300.207 68.985 299.217 70.107 299.217 71.603 C 299.217 73.15 300.266 74.242 301.651 74.242 C 302.244 74.242 302.739 73.989 302.966 73.645 C 302.966 73.847 302.996 74.07 303.006 74.13 L 304.45 74.13 C 304.424 73.831 304.41 73.531 304.411 73.231 Z M 300.731 71.613 C 300.731 70.774 301.255 70.37 301.839 70.37 C 302.422 70.37 302.947 70.774 302.947 71.613 C 302.947 72.442 302.422 72.867 301.839 72.867 C 301.255 72.867 300.731 72.442 300.731 71.613 Z M 306.904 71.017 C 306.933 70.643 307.25 70.168 307.883 70.168 C 308.595 70.168 308.852 70.633 308.872 71.017 Z M 308.981 72.321 C 308.842 72.715 308.536 72.978 307.992 72.978 C 307.408 72.978 306.904 72.574 306.874 72.008 L 310.297 72.008 C 310.307 71.977 310.326 71.745 310.326 71.533 C 310.326 69.915 309.387 68.955 307.863 68.955 C 306.587 68.955 305.41 69.986 305.41 71.603 C 305.41 73.291 306.617 74.282 307.972 74.282 C 309.218 74.282 310 73.554 310.237 72.685 Z M 314.454 69.106 C 314.355 69.076 314.207 69.056 314.058 69.056 C 313.663 69.056 313.039 69.218 312.782 69.784 L 312.782 69.106 L 311.328 69.106 L 311.328 74.13 L 312.832 74.13 L 312.832 71.937 C 312.832 70.936 313.376 70.572 313.979 70.572 C 314.127 70.572 314.286 70.582 314.454 70.623 Z M 318.918 71.249 C 318.918 70.744 319.234 70.37 319.729 70.37 C 320.273 70.37 320.53 70.744 320.53 71.239 L 320.53 74.13 L 322.034 74.13 L 322.034 70.977 C 322.034 69.875 321.48 68.975 320.243 68.975 C 319.739 68.975 319.135 69.207 318.868 69.683 L 318.868 69.106 L 317.414 69.106 L 317.414 74.13 L 318.918 74.13 Z M 324.476 71.017 C 324.505 70.643 324.822 70.168 325.455 70.168 C 326.167 70.168 326.424 70.633 326.444 71.017 Z M 326.553 72.321 C 326.414 72.715 326.108 72.978 325.564 72.978 C 324.98 72.978 324.476 72.574 324.446 72.008 L 327.869 72.008 C 327.879 71.977 327.898 71.745 327.898 71.533 C 327.898 69.915 326.959 68.955 325.435 68.955 C 324.159 68.955 322.982 69.986 322.982 71.603 C 322.982 73.291 324.189 74.282 325.544 74.282 C 326.79 74.282 327.572 73.554 327.809 72.685 Z M 330.117 71.017 C 330.147 70.643 330.464 70.168 331.097 70.168 C 331.809 70.168 332.066 70.633 332.086 71.017 Z M 332.195 72.321 C 332.056 72.715 331.75 72.978 331.206 72.978 C 330.622 72.978 330.117 72.574 330.088 72.008 L 333.511 72.008 C 333.52 71.977 333.54 71.745 333.54 71.533 C 333.54 69.915 332.6 68.955 331.077 68.955 C 329.801 68.955 328.624 69.986 328.624 71.603 C 328.624 73.291 329.831 74.282 331.186 74.282 C 332.432 74.282 333.214 73.554 333.451 72.685 Z M 339.458 66.812 L 337.974 66.812 L 337.974 69.501 C 337.856 69.309 337.49 68.985 336.649 68.985 C 335.254 68.985 334.265 70.107 334.265 71.603 C 334.265 73.15 335.313 74.242 336.698 74.242 C 337.292 74.242 337.786 73.989 338.014 73.645 C 338.014 73.847 338.044 74.07 338.054 74.13 L 339.498 74.13 C 339.471 73.831 339.458 73.531 339.458 73.231 Z M 335.778 71.613 C 335.778 70.774 336.303 70.37 336.886 70.37 C 337.47 70.37 337.994 70.774 337.994 71.613 C 337.994 72.442 337.47 72.867 336.886 72.867 C 336.303 72.867 335.778 72.442 335.778 71.613 Z M 341.951 71.017 C 341.981 70.643 342.297 70.168 342.93 70.168 C 343.643 70.168 343.9 70.633 343.92 71.017 Z M 344.028 72.321 C 343.89 72.715 343.583 72.978 343.039 72.978 C 342.456 72.978 341.951 72.574 341.921 72.008 L 345.344 72.008 C 345.354 71.977 345.374 71.745 345.374 71.533 C 345.374 69.915 344.434 68.955 342.911 68.955 C 341.635 68.955 340.457 69.986 340.457 71.603 C 340.457 73.291 341.664 74.282 343.019 74.282 C 344.266 74.282 345.047 73.554 345.285 72.685 Z M 351.293 66.812 L 349.809 66.812 L 349.809 69.501 C 349.69 69.309 349.324 68.985 348.483 68.985 C 347.088 68.985 346.099 70.107 346.099 71.603 C 346.099 73.15 347.148 74.242 348.533 74.242 C 349.126 74.242 349.621 73.989 349.848 73.645 C 349.848 73.847 349.878 74.07 349.888 74.13 L 351.332 74.13 C 351.306 73.831 351.292 73.531 351.293 73.231 Z M 347.613 71.613 C 347.613 70.774 348.137 70.37 348.721 70.37 C 349.304 70.37 349.829 70.774 349.829 71.613 C 349.829 72.442 349.304 72.867 348.721 72.867 C 348.137 72.867 347.613 72.442 347.613 71.613 Z M 35.048 75.953 C 34.978 76.405 35.275 76.833 35.717 76.914 C 36.158 76.995 36.582 76.7 36.671 76.251 Z M 60.761 62.933 C 61.083 62.604 61.083 62.07 60.761 61.741 L 55.515 56.38 C 55.191 56.061 54.677 56.066 54.359 56.391 C 54.041 56.716 54.037 57.241 54.349 57.572 L 59.012 62.337 L 54.349 67.102 C 54.037 67.433 54.041 67.958 54.359 68.283 C 54.677 68.608 55.191 68.613 55.515 68.294 Z M 311.208 37.501 C 311.254 37.802 311.457 38.054 311.737 38.159 C 312.017 38.264 312.331 38.207 312.558 38.008 C 312.785 37.81 312.889 37.502 312.83 37.203 Z M 287.117 22.991 C 286.796 23.32 286.796 23.854 287.117 24.183 L 292.364 29.544 C 292.571 29.762 292.877 29.85 293.165 29.773 C 293.454 29.696 293.679 29.466 293.754 29.172 C 293.829 28.877 293.744 28.564 293.529 28.352 L 288.866 23.587 L 293.529 18.822 C 293.744 18.61 293.829 18.297 293.754 18.002 C 293.679 17.708 293.454 17.478 293.165 17.401 C 292.877 17.324 292.571 17.411 292.364 17.63 Z M 36.671 76.251 C 37.449 71.822 39.949 68.588 43.922 66.432 C 47.927 64.258 53.442 63.179 60.178 63.179 L 60.178 61.495 C 53.303 61.495 47.485 62.59 43.148 64.943 C 38.778 67.315 35.925 70.963 35.048 75.953 Z M 312.83 37.203 C 311.954 32.213 309.101 28.565 304.731 26.193 C 300.394 23.84 294.576 22.745 287.7 22.745 L 287.7 24.429 C 294.436 24.429 299.951 25.508 303.957 27.681 C 307.929 29.838 310.429 33.072 311.208 37.501 Z', fill='rgb(237,120,94)')
                    
                    .row.mx-0.w-100
                        p#teamMembersModal-email-alert.text-danger.d-none Invalid Email
                        p#teamMembersModal-email-success.text-success.d-none  Success 
                        .col-12.px-0#teamMembersModal-emailInputContainer
                            input.form-input-referral.mb-3.show.w-100#teamMembersModal-emailInput0(name='referAFriendEmail',type='email',onpaste="teamMembers_processEmailPaste(this)", placeholder="Enter email address",autocomplete="new-password")
                        
                    .row.mx-0.w-100.my-2.createTeamModal-hideOnHowTo
                        button.btn.no-shadow.no-border.no-bg.px-0(onClick="teamMembers_addAnother()")
                            .row.justify-content-center.mx-0
                                svg.mr-2(xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='#393856' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='PlusCircle')
                                    circle(cx='12' cy='12' r='10')
                                    line(x1='12' y1='8' x2='12' y2='16')
                                    line(x1='8' y1='12' x2='16' y2='12')
                                span.createTeamModal-addAnother Add another
                    .row.mx-0.w-100.my-3.createTeamModal-hideOnHowTo
                        span.createTeamModal-howToText Want to invite a group of people at once? #[span.createTeamModal-clickHere(onClick="showTeamMembersHowTo();") Click here.] 
                    .divider-gray.my-3.createTeamModal-hideOnHowTo
                    
                    .row.mx-0.w-100.justify-content-between.align-items-center.my-2
                        span.createTeamModal-membersAddedCount.createTeamModal-hideOnHowTo#teamMembersModal-membersAddedCount 0 Members added
                        button.btn.no-shadow.createTeamModal-btnCancel.mx-1.py-1.createTeamModal-showOnHowTo.d-none(onClick="hideTeamMembersHowTo();")
                            | Back
                        div
                            button.btn.no-shadow.createTeamModal-btnCancel.mx-1.py-1#teamMembersModal-btnCancel(disabled data-toggle='modal', data-target='#teamMembersModal')
                                | Cancel
                            button.btn.no-shadow.createTeamModal-shareableLink.mx-1.py-1#teamMembersModal-btnSubmit(disabled onClick="teamMembers_processEmails()")
                                span#teamMembersModal-btnSubmitText Send Invitations
                                .text-center.d-none#spinner-teamMembersModal
                                    .spinner-border(role='status')
                                        span.sr-only Loading...
    #createTeamModal.modal.fade.mx-0.px-0(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal-dialog-centered(role='document',style="width:400px; min-height:400px;")
            .modal-content.px-0
                .modal-body
                    #createTeamModal-step1.col-12.p-0
                        .row.mx-0.createTeamModal-hideOnHowTo
                            span.createTeamModal-steps.pt-2 Step 1 of 2
                        .row.mx-0.createTeamModal-hideOnHowTo
                            span.createTeamModal-title.pt-2 What's the name of your team?
                        .row.mx-0.createTeamModal-hideOnHowTo
                            p.createTeamModal-subTitle.pt-3 Choose something that your team will recognize.
                        .row.mx-0.w-100.createTeamModal-hideOnHowTo
                            p#createTeamModal-teamName-alert.text-danger.d-none Invalid Email
                            .col-12.px-0.createTeamModal-hideOnHowTo
                                input.form-input-referral.show.w-100#createTeamModal-nameInput(name='teamName',type='text', placeholder="Ex: Private Equity",autocomplete="new-password")
                        .row.mx-0.w-100.justify-content-end.align-items-center.my-2
                            button.btn.no-shadow.createTeamModal-btnCancel.mx-1.py-1#createTeamModal-btnCancel1(data-toggle='modal', data-target='#createTeamModal')
                                | Cancel
                            button.btn.no-shadow.createTeamModal-shareableLink.mx-1.py-1#createTeamModal-btnCreate(disabled onClick="createTeam()")
                                span#createTeamModal-btnCreateText Next >
                                .text-center.d-none#spinner-createTeamModal-btnCreate
                                    .spinner-border(role='status')
                                        span.sr-only Loading...
                    #createTeamModal-step2.col-12.p-0.d-none
                        .row.mx-0.createTeamModal-hideOnHowTo.my-3.py-2
                            span.createTeamModal-title Grow your team by inviting others to join.
                        .row.mx-0.createTeamModal-showOnHowTo.d-none
                            span.createTeamModal-title.pt-2 Copy/paste from a spreadsheet
                        .row.mx-0.createTeamModal-showOnHowTo.d-none
                            p.createTeamModal-subTitle.pt-3 Choose something that your team will recognize.
                        .row.mx-0.createTeamModal-showOnHowTo.d-none.my-2.py-1
                            svg(xmlns='http://www.w3.org/2000/svg', width='352', height='155')
                                g(transform='translate(84.026 6.739)')
                                    path(d='M 0 5.099 C 0 2.283 2.234 0 4.99 0 L 179.689 0 C 182.445 0 184.679 2.283 184.679 5.099 L 184.679 119.512 C 184.679 122.328 182.445 124.611 179.689 124.611 L 4.99 124.611 C 2.234 124.611 0 122.328 0 119.512 L 0 5.098 Z', fill='rgb(255,255,255)')
                                path(d='M 136.532 29.217 L 268.508 29.217 L 268.508 126.397 C 268.508 129.189 266.294 131.452 263.562 131.452 L 136.532 131.452 Z', fill='rgb(49,68,68)', opacity='0.1')
                                path(d='M 95.625 127.236 L 95.625 131.413 L 94.801 131.413 L 94.801 127.236 L 83.664 127.236 L 83.664 126.393 L 94.801 126.393 L 94.801 114.986 L 83.664 114.986 L 83.664 114.144 L 94.801 114.144 L 94.801 102.736 L 83.664 102.736 L 83.664 101.894 L 94.801 101.894 L 94.801 90.486 L 83.664 90.486 L 83.664 89.644 L 94.801 89.644 L 94.801 78.236 L 83.664 78.236 L 83.664 77.394 L 94.801 77.394 L 94.801 65.987 L 83.664 65.987 L 83.664 65.145 L 94.801 65.145 L 94.801 53.736 L 83.664 53.736 L 83.664 52.894 L 94.801 52.894 L 94.801 41.487 L 83.664 41.487 L 83.664 40.645 L 94.801 40.645 L 94.801 29.237 L 83.664 29.237 L 83.664 28.394 L 94.801 28.394 L 94.801 16.005 L 95.625 16.005 L 95.625 28.394 L 136.019 28.394 L 136.019 16.005 L 136.843 16.005 L 136.843 28.394 L 175.588 28.394 L 175.588 16.005 L 176.412 16.005 L 176.412 28.394 L 216.806 28.394 L 216.806 16.005 L 217.63 16.005 L 217.63 28.394 L 256.375 28.394 L 256.375 16.005 L 257.199 16.005 L 257.199 28.394 L 268.564 28.394 L 268.564 29.237 L 257.199 29.237 L 257.199 40.645 L 268.564 40.645 L 268.564 41.488 L 257.199 41.488 L 257.199 52.895 L 268.564 52.895 L 268.564 53.738 L 257.199 53.738 L 257.199 65.145 L 268.564 65.145 L 268.564 65.987 L 257.199 65.987 L 257.199 77.395 L 268.564 77.395 L 268.564 78.237 L 257.199 78.237 L 257.199 89.645 L 268.564 89.645 L 268.564 90.487 L 257.199 90.487 L 257.199 101.895 L 268.564 101.895 L 268.564 102.737 L 257.199 102.737 L 257.199 114.144 L 268.564 114.144 L 268.564 114.986 L 257.199 114.986 L 257.199 126.393 L 268.564 126.393 L 268.564 127.236 L 257.199 127.236 L 257.199 131.413 L 256.375 131.413 L 256.375 127.236 L 217.63 127.236 L 217.63 131.413 L 216.806 131.413 L 216.806 127.236 L 176.412 127.236 L 176.412 131.413 L 175.588 131.413 L 175.588 127.236 L 136.843 127.236 L 136.843 131.413 L 136.019 131.413 L 136.019 127.236 Z M 95.625 126.393 L 136.019 126.393 L 136.019 114.986 L 95.625 114.986 Z M 95.625 114.144 L 136.019 114.144 L 136.019 102.736 L 95.625 102.736 Z M 95.625 101.894 L 136.019 101.894 L 136.019 90.486 L 95.625 90.486 Z M 95.625 89.644 L 136.019 89.644 L 136.019 78.236 L 95.625 78.236 Z M 95.625 77.394 L 136.019 77.394 L 136.019 65.987 L 95.625 65.987 Z M 95.625 65.145 L 136.019 65.145 L 136.019 53.736 L 95.625 53.736 L 95.625 65.143 Z M 95.625 52.895 L 136.019 52.895 L 136.019 41.487 L 95.625 41.487 Z M 95.625 40.645 L 136.019 40.645 L 136.019 29.237 L 95.625 29.237 L 95.625 40.645 Z M 136.843 29.237 L 136.843 40.645 L 175.588 40.645 L 175.588 29.237 Z M 176.412 29.237 L 176.412 40.645 L 216.806 40.645 L 216.806 29.237 Z M 217.63 29.237 L 217.63 40.645 L 256.375 40.645 L 256.375 29.237 Z M 256.375 41.487 L 217.63 41.487 L 217.63 52.895 L 256.375 52.895 Z M 256.375 53.737 L 217.63 53.737 L 217.63 65.144 L 256.375 65.144 Z M 256.375 65.986 L 217.63 65.986 L 217.63 77.394 L 256.375 77.394 L 256.375 65.987 Z M 256.375 78.236 L 217.63 78.236 L 217.63 89.644 L 256.375 89.644 Z M 256.375 90.486 L 217.63 90.486 L 217.63 101.894 L 256.375 101.894 Z M 256.375 102.736 L 217.63 102.736 L 217.63 114.144 L 256.375 114.144 Z M 256.375 114.986 L 217.63 114.986 L 217.63 126.393 L 256.375 126.393 Z M 216.806 126.393 L 216.806 114.986 L 176.412 114.986 L 176.412 126.393 Z M 175.588 126.393 L 175.588 114.986 L 136.843 114.986 L 136.843 126.393 Z M 136.843 114.144 L 175.588 114.144 L 175.588 102.736 L 136.843 102.736 Z M 136.843 101.894 L 175.588 101.894 L 175.588 90.486 L 136.843 90.486 Z M 136.843 89.644 L 175.588 89.644 L 175.588 78.236 L 136.843 78.236 Z M 136.843 77.394 L 175.588 77.394 L 175.588 65.987 L 136.843 65.987 Z M 136.843 65.145 L 175.588 65.145 L 175.588 53.736 L 136.843 53.736 L 136.843 65.143 Z M 136.843 52.895 L 175.588 52.895 L 175.588 41.487 L 136.843 41.487 Z M 176.412 41.487 L 176.412 52.895 L 216.806 52.895 L 216.806 41.487 Z M 216.806 53.737 L 176.412 53.737 L 176.412 65.144 L 216.806 65.144 Z M 216.806 65.986 L 176.412 65.986 L 176.412 77.394 L 216.806 77.394 L 216.806 65.987 Z M 216.806 78.236 L 176.412 78.236 L 176.412 89.644 L 216.806 89.644 Z M 216.806 90.486 L 176.412 90.486 L 176.412 101.894 L 216.806 101.894 Z M 216.806 102.736 L 176.412 102.736 L 176.412 114.144 L 216.806 114.144 Z', fill='rgb(204,204,204)')
                                path(d='M 83.664 17.358 L 268.564 17.358 L 268.564 29.238 L 83.664 29.238 Z', fill='rgba(255,197,92,0.2)')
                                path(d='M 83.664 126.637 C 83.664 129.428 85.878 131.691 88.61 131.691 L 95.652 131.691 L 95.652 29.237 L 83.664 29.237 Z', fill='rgba(255,197,92,0.2)')
                                path(d='M 83.799 12.063 C 83.8 9.247 86.033 6.965 88.789 6.965 L 263.488 6.965 C 266.244 6.965 268.478 9.248 268.478 12.064 L 268.478 17.383 L 83.799 17.383 Z', fill='rgb(255,233,193)')
                                path(d='M 92.034 12.572 C 92.034 13.899 90.98 14.976 89.681 14.976 C 88.382 14.976 87.329 13.899 87.329 12.572 C 87.329 11.244 88.382 10.168 89.681 10.168 C 90.98 10.168 92.034 11.244 92.034 12.572 Z M 99.091 12.572 C 99.091 13.9 98.038 14.976 96.738 14.976 C 95.439 14.976 94.385 13.9 94.385 12.572 C 94.385 11.244 95.439 10.168 96.738 10.168 C 98.038 10.168 99.091 11.244 99.091 12.572 Z M 106.15 12.572 C 106.15 13.9 105.097 14.976 103.797 14.976 C 102.498 14.976 101.444 13.9 101.444 12.572 C 101.444 11.244 102.498 10.168 103.797 10.168 C 105.097 10.168 106.15 11.244 106.15 12.572 Z', fill='rgb(255,197,92)')
                                path(d='M 5.743 91.467 C 5.595 90.628 4.932 89.556 3.181 89.556 C 1.836 89.556 0.669 90.507 0.669 91.861 C 0.669 92.922 1.391 93.731 2.578 93.964 L 3.537 94.146 C 4.002 94.237 4.289 94.499 4.289 94.863 C 4.289 95.308 3.913 95.611 3.3 95.611 C 2.34 95.611 1.905 95.035 1.846 94.378 L 0.411 94.732 C 0.51 95.743 1.341 97.027 3.28 97.027 C 4.952 97.027 5.872 95.884 5.872 94.762 C 5.872 93.741 5.179 92.862 3.844 92.609 L 2.904 92.427 C 2.419 92.336 2.212 92.083 2.212 91.74 C 2.212 91.346 2.588 90.972 3.171 90.972 C 4.022 90.972 4.289 91.538 4.339 91.871 Z M 8.395 96.875 L 8.395 91.851 L 6.892 91.851 L 6.892 96.875 Z M 6.763 90.314 C 6.753 90.642 6.919 90.95 7.195 91.116 C 7.471 91.283 7.815 91.283 8.091 91.116 C 8.367 90.95 8.533 90.642 8.523 90.314 C 8.508 89.829 8.119 89.442 7.643 89.442 C 7.167 89.442 6.778 89.829 6.763 90.314 Z M 11.168 93.994 C 11.168 93.489 11.484 93.115 11.979 93.115 C 12.523 93.115 12.78 93.489 12.78 93.984 L 12.78 96.875 L 14.284 96.875 L 14.284 93.721 C 14.284 92.619 13.73 91.72 12.493 91.72 C 11.989 91.72 11.385 91.952 11.118 92.427 L 11.118 91.851 L 9.664 91.851 L 9.664 96.875 L 11.168 96.875 Z M 15.232 97.158 C 15.37 98.058 16.27 98.947 17.685 98.947 C 19.525 98.947 20.316 97.694 20.316 96.248 L 20.316 91.851 L 18.882 91.851 L 18.882 92.387 C 18.743 92.124 18.318 91.76 17.517 91.76 C 16.171 91.76 15.232 92.892 15.232 94.216 C 15.232 95.611 16.211 96.663 17.517 96.663 C 18.229 96.663 18.654 96.37 18.832 96.097 L 18.832 96.329 C 18.832 97.239 18.367 97.613 17.616 97.613 C 17.052 97.613 16.656 97.259 16.557 96.774 Z M 17.794 95.328 C 17.19 95.328 16.735 94.904 16.735 94.216 C 16.735 93.529 17.23 93.104 17.794 93.104 C 18.358 93.104 18.842 93.529 18.842 94.216 C 18.842 94.904 18.407 95.328 17.794 95.328 Z M 23.089 96.875 L 23.089 89.556 L 21.585 89.556 L 21.585 96.875 Z M 25.574 93.762 C 25.604 93.387 25.92 92.912 26.553 92.912 C 27.266 92.912 27.523 93.377 27.543 93.762 Z M 27.651 95.066 C 27.513 95.46 27.206 95.723 26.662 95.723 C 26.079 95.723 25.574 95.318 25.544 94.752 L 28.967 94.752 C 28.977 94.722 28.997 94.489 28.997 94.277 C 28.997 92.66 28.057 91.699 26.534 91.699 C 25.257 91.699 24.08 92.73 24.08 94.348 C 24.08 96.036 25.287 97.027 26.642 97.027 C 27.889 97.027 28.67 96.299 28.908 95.429 Z M 32.927 94.52 L 32.927 93.135 L 29.96 93.135 L 29.96 94.52 Z M 37.546 97.027 C 39.722 97.027 40.652 95.51 40.88 94.52 L 39.386 94.085 C 39.248 94.601 38.763 95.429 37.546 95.429 C 36.498 95.429 35.528 94.651 35.528 93.307 C 35.528 91.8 36.587 91.113 37.526 91.113 C 38.763 91.113 39.208 91.952 39.317 92.447 L 40.791 91.972 C 40.563 90.941 39.633 89.556 37.526 89.556 C 35.568 89.556 33.906 91.073 33.906 93.307 C 33.906 95.541 35.528 97.027 37.546 97.027 Z M 44.052 95.611 C 43.488 95.611 42.944 95.197 42.944 94.358 C 42.944 93.509 43.488 93.115 44.052 93.115 C 44.626 93.115 45.16 93.509 45.16 94.358 C 45.16 95.207 44.626 95.611 44.052 95.611 Z M 44.052 91.699 C 42.588 91.699 41.44 92.801 41.44 94.358 C 41.44 95.915 42.588 97.027 44.052 97.027 C 45.526 97.027 46.663 95.915 46.663 94.358 C 46.663 92.801 45.526 91.699 44.052 91.699 Z M 49.152 96.875 L 49.152 89.556 L 47.649 89.556 L 47.649 96.875 Z M 53.596 96.875 L 55.041 96.875 C 55.007 96.576 54.991 96.276 54.991 95.975 L 54.991 91.851 L 53.488 91.851 L 53.488 94.712 C 53.488 95.217 53.171 95.571 52.666 95.571 C 52.132 95.571 51.875 95.187 51.875 94.702 L 51.875 91.851 L 50.371 91.851 L 50.371 95.025 C 50.371 96.097 51.044 96.986 52.241 96.986 C 52.736 96.986 53.3 96.804 53.557 96.37 C 53.557 96.501 53.577 96.784 53.596 96.875 Z M 57.769 96.875 L 57.769 93.984 C 57.769 93.529 58.056 93.115 58.58 93.115 C 59.124 93.115 59.372 93.489 59.372 93.964 L 59.372 96.875 L 60.856 96.875 L 60.856 93.974 C 60.856 93.529 61.142 93.115 61.677 93.115 C 62.211 93.115 62.458 93.489 62.458 93.964 L 62.458 96.875 L 63.912 96.875 L 63.912 93.62 C 63.912 92.255 63.022 91.699 62.092 91.699 C 61.429 91.699 60.955 91.922 60.569 92.488 C 60.321 91.993 59.817 91.699 59.115 91.699 C 58.58 91.699 57.947 91.982 57.7 92.427 L 57.7 91.851 L 56.266 91.851 L 56.266 96.875 Z M 66.648 93.994 C 66.648 93.489 66.964 93.115 67.459 93.115 C 68.003 93.115 68.26 93.489 68.26 93.984 L 68.26 96.875 L 69.764 96.875 L 69.764 93.721 C 69.764 92.619 69.21 91.72 67.973 91.72 C 67.469 91.72 66.865 91.952 66.598 92.427 L 66.598 91.851 L 65.144 91.851 L 65.144 96.875 L 66.648 96.875 Z M 70.781 95.985 C 70.781 96.491 71.127 96.895 71.671 96.895 C 71.79 96.895 71.899 96.865 71.948 96.824 C 71.928 97.431 71.384 97.835 70.959 97.916 L 70.959 98.634 C 71.75 98.543 72.838 97.876 72.838 96.309 C 72.838 95.642 72.462 95.045 71.769 95.045 C 71.205 95.045 70.78 95.45 70.78 95.985 Z M 15.514 112.038 L 15.514 110.522 L 12.627 110.522 L 12.627 109.147 L 15.238 109.147 L 15.238 107.742 L 12.627 107.742 L 12.627 106.377 L 15.505 106.377 L 15.505 104.871 L 11.063 104.871 L 11.063 112.038 Z M 18.109 112.038 L 18.109 109.147 C 18.109 108.692 18.396 108.278 18.92 108.278 C 19.464 108.278 19.711 108.652 19.711 109.127 L 19.711 112.038 L 21.195 112.038 L 21.195 109.137 C 21.195 108.692 21.482 108.278 22.016 108.278 C 22.55 108.278 22.798 108.652 22.798 109.127 L 22.798 112.038 L 24.252 112.038 L 24.252 108.783 C 24.252 107.418 23.361 106.862 22.432 106.862 C 21.769 106.862 21.294 107.085 20.908 107.651 C 20.661 107.156 20.156 106.862 19.454 106.862 C 18.92 106.862 18.287 107.145 18.039 107.59 L 18.039 107.014 L 16.605 107.014 L 16.605 112.038 Z M 25.215 110.653 C 25.215 111.452 25.839 112.18 26.917 112.18 C 27.57 112.18 28.045 111.897 28.302 111.472 C 28.302 111.816 28.341 111.998 28.351 112.038 L 29.706 112.038 C 29.667 111.781 29.647 111.52 29.647 111.26 L 29.647 108.803 C 29.647 107.772 29.063 106.862 27.471 106.862 C 26.027 106.862 25.374 107.813 25.314 108.53 L 26.62 108.803 C 26.65 108.429 26.937 108.065 27.461 108.065 C 27.936 108.065 28.183 108.318 28.183 108.611 C 28.183 108.783 28.094 108.914 27.827 108.955 L 26.67 109.137 C 25.858 109.258 25.215 109.764 25.215 110.653 Z M 27.283 111.068 C 26.867 111.068 26.699 110.815 26.699 110.552 C 26.699 110.198 26.937 110.047 27.253 109.996 L 28.183 109.844 L 28.183 110.067 C 28.183 110.845 27.728 111.068 27.283 111.068 Z M 32.377 112.038 L 32.377 107.014 L 30.873 107.014 L 30.873 112.038 Z M 30.744 105.477 C 30.744 105.974 31.139 106.377 31.625 106.377 C 32.111 106.377 32.505 105.974 32.505 105.477 C 32.505 104.981 32.111 104.578 31.625 104.578 C 31.139 104.578 30.744 104.981 30.744 105.477 Z M 35.15 112.038 L 35.15 104.719 L 33.646 104.719 L 33.646 112.038 Z M 36.122 110.613 C 36.161 111.169 36.656 112.19 38.199 112.19 C 39.515 112.19 40.158 111.351 40.158 110.491 C 40.158 109.753 39.663 109.127 38.644 108.914 L 37.991 108.783 C 37.774 108.743 37.605 108.621 37.605 108.409 C 37.605 108.146 37.853 107.974 38.14 107.974 C 38.595 107.974 38.802 108.257 38.842 108.591 L 40.088 108.358 C 40.039 107.772 39.544 106.862 38.12 106.862 C 37.022 106.862 36.23 107.61 36.23 108.53 C 36.23 109.238 36.646 109.844 37.695 110.077 L 38.258 110.208 C 38.624 110.289 38.743 110.441 38.743 110.623 C 38.743 110.845 38.555 111.058 38.169 111.058 C 37.655 111.058 37.418 110.724 37.398 110.38 Z M 45.805 110.774 C 45.241 110.774 44.697 110.36 44.697 109.521 C 44.697 108.672 45.241 108.278 45.805 108.278 C 46.379 108.278 46.913 108.672 46.913 109.521 C 46.913 110.37 46.379 110.774 45.805 110.774 Z M 45.805 106.862 C 44.341 106.862 43.194 107.964 43.194 109.521 C 43.194 111.078 44.341 112.19 45.805 112.19 C 47.279 112.19 48.417 111.078 48.417 109.521 C 48.417 107.964 47.279 106.862 45.805 106.862 Z M 50.906 109.157 C 50.906 108.652 51.222 108.278 51.717 108.278 C 52.261 108.278 52.518 108.652 52.518 109.147 L 52.518 112.038 L 54.022 112.038 L 54.022 108.884 C 54.022 107.782 53.468 106.883 52.231 106.883 C 51.727 106.883 51.123 107.115 50.856 107.59 L 50.856 107.014 L 49.402 107.014 L 49.402 112.038 L 50.906 112.038 Z M 56.75 112.038 L 56.75 104.719 L 55.247 104.719 L 55.247 112.038 Z M 60.007 113.969 L 63.034 107.014 L 61.442 107.014 L 60.354 109.703 L 59.157 107.014 L 57.475 107.014 L 59.542 111.361 L 58.425 113.969 Z M 298.496 58.967 L 298.496 51.8 L 296.933 51.8 L 296.933 56.157 L 294.302 51.8 L 292.402 51.8 L 292.402 58.967 L 293.955 58.967 L 293.955 54.257 L 296.844 58.967 Z M 302.172 57.704 C 301.608 57.704 301.064 57.289 301.064 56.45 C 301.064 55.601 301.608 55.207 302.172 55.207 C 302.746 55.207 303.28 55.601 303.28 56.45 C 303.28 57.299 302.746 57.704 302.172 57.704 Z M 302.172 53.792 C 300.708 53.792 299.56 54.894 299.56 56.45 C 299.56 58.007 300.708 59.119 302.172 59.119 C 303.646 59.119 304.783 58.007 304.783 56.45 C 304.783 54.894 303.646 53.792 302.172 53.792 Z M 310.412 55.207 C 310.996 55.207 311.292 55.571 311.401 55.955 L 312.747 55.541 C 312.529 54.641 311.738 53.792 310.382 53.792 C 308.938 53.792 307.791 54.894 307.791 56.46 C 307.791 58.017 308.968 59.119 310.432 59.119 C 311.748 59.119 312.559 58.25 312.776 57.37 L 311.451 56.956 C 311.342 57.33 311.015 57.704 310.432 57.704 C 309.809 57.704 309.284 57.259 309.284 56.46 C 309.284 55.652 309.789 55.207 310.412 55.207 Z M 316.015 57.704 C 315.451 57.704 314.907 57.289 314.907 56.45 C 314.907 55.601 315.451 55.207 316.015 55.207 C 316.589 55.207 317.123 55.601 317.123 56.45 C 317.123 57.299 316.589 57.704 316.015 57.704 Z M 316.015 53.792 C 314.551 53.792 313.404 54.894 313.404 56.45 C 313.404 58.007 314.551 59.119 316.015 59.119 C 317.489 59.119 318.627 58.007 318.627 56.45 C 318.627 54.894 317.489 53.792 316.015 53.792 Z M 321.116 58.967 L 321.116 51.649 L 319.612 51.649 L 319.612 58.967 Z M 325.56 58.967 L 327.004 58.967 C 326.971 58.669 326.954 58.368 326.954 58.068 L 326.954 53.943 L 325.451 53.943 L 325.451 56.804 C 325.451 57.31 325.134 57.663 324.63 57.663 C 324.096 57.663 323.838 57.279 323.838 56.794 L 323.838 53.943 L 322.335 53.943 L 322.335 57.117 C 322.335 58.189 323.007 59.079 324.204 59.079 C 324.699 59.079 325.263 58.897 325.52 58.462 C 325.52 58.593 325.54 58.876 325.56 58.967 Z M 329.732 58.967 L 329.732 56.076 C 329.732 55.621 330.019 55.207 330.544 55.207 C 331.088 55.207 331.335 55.581 331.335 56.056 L 331.335 58.967 L 332.819 58.967 L 332.819 56.066 C 332.819 55.621 333.106 55.207 333.64 55.207 C 334.174 55.207 334.421 55.581 334.421 56.056 L 334.421 58.967 L 335.876 58.967 L 335.876 55.712 C 335.876 54.348 334.985 53.792 334.055 53.792 C 333.393 53.792 332.918 54.014 332.532 54.58 C 332.285 54.085 331.78 53.792 331.078 53.792 C 330.544 53.792 329.911 54.075 329.663 54.52 L 329.663 53.943 L 328.229 53.943 L 328.229 58.967 Z M 338.611 56.086 C 338.611 55.581 338.927 55.207 339.422 55.207 C 339.966 55.207 340.223 55.581 340.223 56.076 L 340.223 58.967 L 341.727 58.967 L 341.727 55.813 C 341.727 54.712 341.173 53.812 339.936 53.812 C 339.432 53.812 338.828 54.044 338.561 54.52 L 338.561 53.943 L 337.107 53.943 L 337.107 58.967 L 338.611 58.967 Z M 284.131 71.179 C 284.16 70.714 284.467 70.37 284.942 70.37 C 285.486 70.37 285.743 70.744 285.743 71.239 L 285.743 74.13 L 287.247 74.13 L 287.247 70.977 C 287.247 69.875 286.673 68.975 285.387 68.975 C 284.952 68.975 284.437 69.117 284.131 69.43 L 284.131 66.812 L 282.627 66.812 L 282.627 74.13 L 284.131 74.13 Z M 289.679 71.017 C 289.708 70.643 290.025 70.168 290.658 70.168 C 291.37 70.168 291.627 70.633 291.647 71.017 Z M 291.756 72.321 C 291.618 72.715 291.311 72.978 290.767 72.978 C 290.183 72.978 289.679 72.574 289.649 72.008 L 293.072 72.008 C 293.082 71.977 293.101 71.745 293.101 71.532 C 293.101 69.915 292.162 68.955 290.638 68.955 C 289.362 68.955 288.185 69.986 288.185 71.603 C 288.185 73.291 289.392 74.282 290.747 74.282 C 291.993 74.282 292.775 73.554 293.012 72.685 Z M 293.837 72.746 C 293.837 73.544 294.46 74.272 295.538 74.272 C 296.191 74.272 296.666 73.989 296.923 73.564 C 296.923 73.908 296.963 74.09 296.973 74.13 L 298.328 74.13 C 298.288 73.873 298.268 73.613 298.268 73.352 L 298.268 70.896 C 298.268 69.865 297.685 68.955 296.092 68.955 C 294.648 68.955 293.995 69.905 293.936 70.623 L 295.241 70.896 C 295.271 70.522 295.558 70.158 296.082 70.158 C 296.557 70.158 296.804 70.41 296.804 70.704 C 296.804 70.875 296.715 71.007 296.448 71.047 L 295.291 71.229 C 294.48 71.351 293.837 71.856 293.837 72.746 Z M 295.904 73.16 C 295.489 73.16 295.321 72.907 295.321 72.644 C 295.321 72.291 295.558 72.139 295.875 72.088 L 296.804 71.937 L 296.804 72.159 C 296.804 72.938 296.349 73.16 295.904 73.16 Z M 304.411 66.812 L 302.927 66.812 L 302.927 69.501 C 302.808 69.309 302.442 68.985 301.601 68.985 C 300.207 68.985 299.217 70.107 299.217 71.603 C 299.217 73.15 300.266 74.242 301.651 74.242 C 302.244 74.242 302.739 73.989 302.966 73.645 C 302.966 73.847 302.996 74.07 303.006 74.13 L 304.45 74.13 C 304.424 73.831 304.41 73.531 304.411 73.231 Z M 300.731 71.613 C 300.731 70.774 301.255 70.37 301.839 70.37 C 302.422 70.37 302.947 70.774 302.947 71.613 C 302.947 72.442 302.422 72.867 301.839 72.867 C 301.255 72.867 300.731 72.442 300.731 71.613 Z M 306.904 71.017 C 306.933 70.643 307.25 70.168 307.883 70.168 C 308.595 70.168 308.852 70.633 308.872 71.017 Z M 308.981 72.321 C 308.842 72.715 308.536 72.978 307.992 72.978 C 307.408 72.978 306.904 72.574 306.874 72.008 L 310.297 72.008 C 310.307 71.977 310.326 71.745 310.326 71.533 C 310.326 69.915 309.387 68.955 307.863 68.955 C 306.587 68.955 305.41 69.986 305.41 71.603 C 305.41 73.291 306.617 74.282 307.972 74.282 C 309.218 74.282 310 73.554 310.237 72.685 Z M 314.454 69.106 C 314.355 69.076 314.207 69.056 314.058 69.056 C 313.663 69.056 313.039 69.218 312.782 69.784 L 312.782 69.106 L 311.328 69.106 L 311.328 74.13 L 312.832 74.13 L 312.832 71.937 C 312.832 70.936 313.376 70.572 313.979 70.572 C 314.127 70.572 314.286 70.582 314.454 70.623 Z M 318.918 71.249 C 318.918 70.744 319.234 70.37 319.729 70.37 C 320.273 70.37 320.53 70.744 320.53 71.239 L 320.53 74.13 L 322.034 74.13 L 322.034 70.977 C 322.034 69.875 321.48 68.975 320.243 68.975 C 319.739 68.975 319.135 69.207 318.868 69.683 L 318.868 69.106 L 317.414 69.106 L 317.414 74.13 L 318.918 74.13 Z M 324.476 71.017 C 324.505 70.643 324.822 70.168 325.455 70.168 C 326.167 70.168 326.424 70.633 326.444 71.017 Z M 326.553 72.321 C 326.414 72.715 326.108 72.978 325.564 72.978 C 324.98 72.978 324.476 72.574 324.446 72.008 L 327.869 72.008 C 327.879 71.977 327.898 71.745 327.898 71.533 C 327.898 69.915 326.959 68.955 325.435 68.955 C 324.159 68.955 322.982 69.986 322.982 71.603 C 322.982 73.291 324.189 74.282 325.544 74.282 C 326.79 74.282 327.572 73.554 327.809 72.685 Z M 330.117 71.017 C 330.147 70.643 330.464 70.168 331.097 70.168 C 331.809 70.168 332.066 70.633 332.086 71.017 Z M 332.195 72.321 C 332.056 72.715 331.75 72.978 331.206 72.978 C 330.622 72.978 330.117 72.574 330.088 72.008 L 333.511 72.008 C 333.52 71.977 333.54 71.745 333.54 71.533 C 333.54 69.915 332.6 68.955 331.077 68.955 C 329.801 68.955 328.624 69.986 328.624 71.603 C 328.624 73.291 329.831 74.282 331.186 74.282 C 332.432 74.282 333.214 73.554 333.451 72.685 Z M 339.458 66.812 L 337.974 66.812 L 337.974 69.501 C 337.856 69.309 337.49 68.985 336.649 68.985 C 335.254 68.985 334.265 70.107 334.265 71.603 C 334.265 73.15 335.313 74.242 336.698 74.242 C 337.292 74.242 337.786 73.989 338.014 73.645 C 338.014 73.847 338.044 74.07 338.054 74.13 L 339.498 74.13 C 339.471 73.831 339.458 73.531 339.458 73.231 Z M 335.778 71.613 C 335.778 70.774 336.303 70.37 336.886 70.37 C 337.47 70.37 337.994 70.774 337.994 71.613 C 337.994 72.442 337.47 72.867 336.886 72.867 C 336.303 72.867 335.778 72.442 335.778 71.613 Z M 341.951 71.017 C 341.981 70.643 342.297 70.168 342.93 70.168 C 343.643 70.168 343.9 70.633 343.92 71.017 Z M 344.028 72.321 C 343.89 72.715 343.583 72.978 343.039 72.978 C 342.456 72.978 341.951 72.574 341.921 72.008 L 345.344 72.008 C 345.354 71.977 345.374 71.745 345.374 71.533 C 345.374 69.915 344.434 68.955 342.911 68.955 C 341.635 68.955 340.457 69.986 340.457 71.603 C 340.457 73.291 341.664 74.282 343.019 74.282 C 344.266 74.282 345.047 73.554 345.285 72.685 Z M 351.293 66.812 L 349.809 66.812 L 349.809 69.501 C 349.69 69.309 349.324 68.985 348.483 68.985 C 347.088 68.985 346.099 70.107 346.099 71.603 C 346.099 73.15 347.148 74.242 348.533 74.242 C 349.126 74.242 349.621 73.989 349.848 73.645 C 349.848 73.847 349.878 74.07 349.888 74.13 L 351.332 74.13 C 351.306 73.831 351.292 73.531 351.293 73.231 Z M 347.613 71.613 C 347.613 70.774 348.137 70.37 348.721 70.37 C 349.304 70.37 349.829 70.774 349.829 71.613 C 349.829 72.442 349.304 72.867 348.721 72.867 C 348.137 72.867 347.613 72.442 347.613 71.613 Z M 35.048 75.953 C 34.978 76.405 35.275 76.833 35.717 76.914 C 36.158 76.995 36.582 76.7 36.671 76.251 Z M 60.761 62.933 C 61.083 62.604 61.083 62.07 60.761 61.741 L 55.515 56.38 C 55.191 56.061 54.677 56.066 54.359 56.391 C 54.041 56.716 54.037 57.241 54.349 57.572 L 59.012 62.337 L 54.349 67.102 C 54.037 67.433 54.041 67.958 54.359 68.283 C 54.677 68.608 55.191 68.613 55.515 68.294 Z M 311.208 37.501 C 311.254 37.802 311.457 38.054 311.737 38.159 C 312.017 38.264 312.331 38.207 312.558 38.008 C 312.785 37.81 312.889 37.502 312.83 37.203 Z M 287.117 22.991 C 286.796 23.32 286.796 23.854 287.117 24.183 L 292.364 29.544 C 292.571 29.762 292.877 29.85 293.165 29.773 C 293.454 29.696 293.679 29.466 293.754 29.172 C 293.829 28.877 293.744 28.564 293.529 28.352 L 288.866 23.587 L 293.529 18.822 C 293.744 18.61 293.829 18.297 293.754 18.002 C 293.679 17.708 293.454 17.478 293.165 17.401 C 292.877 17.324 292.571 17.411 292.364 17.63 Z M 36.671 76.251 C 37.449 71.822 39.949 68.588 43.922 66.432 C 47.927 64.258 53.442 63.179 60.178 63.179 L 60.178 61.495 C 53.303 61.495 47.485 62.59 43.148 64.943 C 38.778 67.315 35.925 70.963 35.048 75.953 Z M 312.83 37.203 C 311.954 32.213 309.101 28.565 304.731 26.193 C 300.394 23.84 294.576 22.745 287.7 22.745 L 287.7 24.429 C 294.436 24.429 299.951 25.508 303.957 27.681 C 307.929 29.838 310.429 33.072 311.208 37.501 Z', fill='rgb(237,120,94)')
                        
                        .row.mx-0.w-100
                            p#createTeamModal-email-alert.text-danger.d-none Invalid Email
                            p#createTeamModal-email-success.text-success.d-none  Success 
                            .col-12.px-0#createTeamModal-emailInputContainer
                                input.form-input-referral.mb-3.show.w-100#createTeamModal-emailInput0(name='referAFriendEmail',type='email',onpaste="teamInvite_processEmailPaste(this)", placeholder="Enter email address",autocomplete="new-password")
                            input.form-input-referral.mb-3.show#selectedEmails(name='',type='hidden')
                        .row.mx-0.w-100.my-2.createTeamModal-hideOnHowTo
                            button.btn.no-shadow.no-border.no-bg.px-0(onClick="teamInvite_addAnother()")
                                .row.justify-content-center.mx-0
                                    svg.mr-2(xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='#393856' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' icon='PlusCircle')
                                        circle(cx='12' cy='12' r='10')
                                        line(x1='12' y1='8' x2='12' y2='16')
                                        line(x1='8' y1='12' x2='16' y2='12')
                                    span.createTeamModal-addAnother Add another
                        .row.mx-0.w-100.my-3.createTeamModal-hideOnHowTo
                            span.createTeamModal-howToText Want to invite a group of people at once? #[span.createTeamModal-clickHere(onClick="showCreateTeamHowTo();") Click here.] 
                        .divider-gray.my-3.createTeamModal-hideOnHowTo
                        
                        .row.mx-0.w-100.justify-content-between.align-items-center.my-2
                            span.createTeamModal-membersAddedCount.createTeamModal-hideOnHowTo#createTeamModal-membersAddedCount 0 Members added
                            button.btn.no-shadow.createTeamModal-btnCancel.mx-1.py-1.createTeamModal-showOnHowTo.d-none(onClick="hideCreateTeamHowTo();")
                                | Back
                            div
                                button.btn.no-shadow.createTeamModal-btnCancel.mx-1.py-1#createTeamModal-btnCancel(disabled data-toggle='modal', data-target='#createTeamModal')
                                    | Cancel
                                button.btn.no-shadow.createTeamModal-shareableLink.mx-1.py-1#createTeamModal-btnSubmit(disabled onClick="teamInvite_processEmails()")
                                    span#createTeamModal-btnSubmitText Send Invitations
                                    .text-center.d-none#spinner-createTeamModal
                                        .spinner-border(role='status')
                                            span.sr-only Loading...
    #m-showMeHowModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal.modal-dialog-centered(role='document',style="width:47.22222222222222vw ,min-width:5.253968253968253vw")
            .modal-content.pb-5.px-3
                .modal-body
                    .row.mx-0
                        img.avatar.d-inline-flex(src="https://ui-avatars.com/api/?name=R&background=2387FF&color=fff", alt='...' style="max-width:35px")
                        span.showMeHow-title.pt-2.px-2 Roger from Blackbox
                    p.showMeHow-text.pt-3 To share a summary :
                    p.showMeHow-text.pt-0 1. Go to the #[strong video] or #[strong article summary] you'd like to share.
                    p.showMeHow-text.pt-0 2. Click the #[strong 3 dot menu] in the upper right-hand corner.
                    p.showMeHow-text.pt-0 3. Select the #[strong 'Share'] option.
                    p.showMeHow-text.pt-0 4. Enter the #[strong email] of your teammate.
                    p.showMeHow-text.pt-0.invisible="filler" 
                    p.showMeHow-text.pt-0.invisible="filler" 
                    p.showMeHow-text.pt-0.invisible="filler" 
                    p.showMeHow-text.pt-0.invisible="filler" 
                    p.showMeHow-text.pt-0.invisible="filler" 
                    
    #NewFolderModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal.modal-dialog-centered(role='document',style="width:47.22222222222222vw ,min-width:5.253968253968253vw")
            .modal-content.px-4
                .modal-body
                    p.new-Summary-title.pt-3 New Folder
                    .text-center.d-none#spinnerNewFolder
                        .spinner-border(role='status')
                            span.sr-only Loading...
                    .d-inline-flex.col-12.new-Summary-input.p-3.my-4.pb-0#inputContainer
                        svg(xmlns='http://www.w3.org/2000/svg', width='20', height='20', viewBox='0 0 24 24', fill='none', stroke='#888', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='Link2')
                            path(d='M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3')
                            line(x1='8', y1='12', x2='16', y2='12')
                        input#new-Folder-input.no-bg.pl-2.text-bluegray(type='text', placeholder='Folder name', data-plugin='typeahead')
                    p#new-Folder-alert.text-danger(style="display:none;") Enter a proper folder name
                    p#new-Folder-success.text-success(style="display:none;") Redirecting you
    #m-moveToFolderModal.modal.fade(data-backdrop='true', style='display: none;', aria-hidden='true')
        .modal-dialog.modal.modal-dialog-centered(role='document',style="width:47.22222222222222vw ;min-width:5.253968253968253vw;max-height:300px; overflow: auto;")
            .modal-content.px-4
                .modal-body.pb-0
                    p.moveFolder-title.pt-3#moveFilesText="Move files"
                .text-center.d-none#spinnerMove
                    .spinner-border(role='status')
                        span.sr-only Loading...
                .w-100.h-100.col-12.p-3.mb-2.py-0
                    div#selectFolder(style="max-height:300px; overflow-y: auto; overflow-x:hidden;")
                        input.text-bluegray.new-Summary-input.col-12.text-left.p-2.d-none#createFolderInput(type='text', placeholder='Untitled Folder', name='createFolder', data-plugin='typeahead')
                        if(allFolders!=null)
                            if(allFolders.length>1)
                                each folder, j in allFolders
                                    if(folder._id!="5ed4e714e0d8a07214c83836")
                                        .row.moveFolder.align-items-center.py-2(id="moveFolder-row-"+folder._id,onClick="selectFolder('"+folder._id+"')")
                                            .col-12.align-items-center
                                                p.moveFolder-name.p-0.m-0.pl-1=folder.name
                    div#createFolder.d-none
                        .d-inline-flex.col-12.create-folder-input.p-3.pb-0#inputContainer
                            input.no-bg.pl-2.text-bluegray(type='text', placeholder='Untitled Folder', name='createFolder',data-plugin='typeahead')
                    .row.w-100.align-items-center.justify-content-center.my-2
                        .row.create-new-folder.align-items-center.justify-content-center(onClick="createNewFolder()")
                            svg.bi.bi-plus.d-inline-flex#createFolderSVG(width='1.5em', height='1.5em', viewBox='0 0 16 16', fill='grey', xmlns='http://www.w3.org/2000/svg')
                                path(fill-rule='evenodd', d='M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z')
                                path(fill-rule='evenodd', d='M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z')
                            span.d-inline-flex.text-white#createFolderText Create new folder
                    .row.w-100.align-items-center.justify-content-center
                        button.btn.btn-fullVideo.mx-2(onClick="event.preventDefault();",data-toggle='modal', data-target='#m-moveToFolderModal') Cancel
                        button.btn.btn-fullVideo.btn-active.mx-2(onClick="moveToFolder()") Move
    .modal.fade(id="m-deleteMultiple-videos",tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal-dialog-centered(style="width:5vw,min-width:5.253968253968253vw")
            .modal-content.px-4
                .modal-body
                    p.new-Summary-title.pt-3.pb-3(id="deleteFilesText-videos")="Delete files"
                    form.d-inline-block(role='form', method='POST',action='/folders/deleteMultiple')
                        input(id="folderIDValue-videos",type='hidden',name='folderID', value="none")
                        input(id="videosToDelete-videos",type='hidden',name='videos', value="")
                        input(id="documentsToDelete-videos",type='hidden',name='documents', value="")
                        button.btn.btn-fullVideo.mx-2(onClick="event.preventDefault();",id="canceldeleteMultipleButton-videos",data-toggle='modal', data-target='#m-deleteMultiple-videos') Cancel
                        button.btn.btn-danger.mx-3(id="deleteMultipleButton-videos",data-toggle='modal', data-target='#m-deleteMultiple-videos') Delete
    .modal.fade(id="m-deleteMultiple-documents",tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal-dialog-centered(style="width:5vw,min-width:5.253968253968253vw")
            .modal-content.px-4
                .modal-body
                    p.new-Summary-title.pt-3.pb-3(id="deleteFilesText-documents")="Delete files"
                    form.d-inline-block(role='form', method='POST',action='/folders/deleteMultiple')
                        input(id="folderIDValue-documents",type='hidden',name='folderID', value="none")
                        input(id="videosToDelete-documents",type='hidden',name='videos', value="")
                        input(id="documentsToDelete-documents",type='hidden',name='documents', value="")
                        button.btn.btn-fullVideo.mx-2(onClick="event.preventDefault();",id="canceldeleteMultipleButton-documents",data-toggle='modal', data-target='#m-deleteMultiple-documents') Cancel
                        button.btn.btn-danger.mx-3(id="deleteMultipleButton-documents",data-toggle='modal', data-target='#m-deleteMultiple-documents') Delete
    #pocketAppModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='false')
        .modal-dialog.modal-dialog-centered(role='document',style="width:47.22222222222222vw ,min-width:5.253968253968253vw")
            .modal-content.px-1.px-sm-3.py-2
                .modal-body
                    p.new-Summary-title.pt-3.pb-3="Fetching Pocket App content"
                    .text-center#spinnerpocketApp
                        .spinner-border(role='status')
                            span.sr-only Loading...
    #DropboxModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='false')
        .modal-dialog.modal-dialog-centered(role='document',style="width:47.22222222222222vw ,min-width:5.253968253968253vw")
            .modal-content.px-1.px-sm-3.py-2
                .modal-body
                    p.new-Summary-title.pt-3.pb-3="Fetching Dropbox content"
                    .text-center#spinnerDropbox
                        .spinner-border(role='status')
                            span.sr-only Loading...
    #summaryLimitReached.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal.modal-dialog-centered(role='document',style="width:47.22222222222222vw ,min-width:5.253968253968253vw")
            .modal-content.px-4
                .modal-body
                    p.new-Summary-title.pt-3 You've reached your limit of free member-only summaries
                    a.btn.btn-refer.my-2(href="/referAFriend") Refer a friend to increase limit
                    a.btn.btn-upgrade(href="/payment") Upgrade to pro for unlimited access
    #referralSignupDiscountModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal.modal-dialog-centered(role='document',style="")
            .modal-content.px-4
                .row.justify-content-center.modal-body
                    p.new-Summary-title.pt-3.col-auto You have a referral discount!
                    a.btn.btn-refer.my-2.col-auto(href="/payment") Claim it now!
    #referredUserSignedUpModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal.modal-dialog-centered(role='document',style="")
            .modal-content.px-4
                .row.justify-content-center.modal-body
                    p.new-Summary-title.pt-3.col-auto#refferedUsersText
                    a.btn.btn-refer.my-2.col-auto(href="/payment")#refferedUsersbtnText Claim it now!
    #videoTourModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='false' style="background-color:rgb(255,255,255,0.5)")
        .modal-dialog.modal-dialog-centered(role='document',)
            .modal-content.px-1.px-sm-5.py-2#tourModal1
                .row.justify-content-center.py-3.mt-5.pl-3
                    span.hidden-folded.d-inline.tour-brand B L A C K B O X
                .row.justify-content-center.py-3.pl-3
                    span.hidden-folded.d-inline.tour-title Your Blackbox journey starts now!
                .row.justify-content-center.py-3.pl-3
                    span.hidden-folded.d-inline.tour-text Blackbox helps you instantly summarize videos and articles
                .row.justify-content-start.pt-2.py-3.mb-2.align-items-center
                .row.justify-content-center.pt-2.py-3
                    button.btn.btn-tourStart.mx-3.py-3.px-4(onClick="tourNext(1)") START A QUICK TOUR 
                .row.justify-content-center.pt-2.py-3
                    .col-12.text-center
                        span.tour-skip(onClick="skipTour()",data-toggle='modal', data-target='#videoTourModal') Skip this tour
            .modal-content.px-1.px-sm-5.py-2.d-none#tourModal2
                .row.justify-content-center.py-3.mt-5.pl-3
                    span.hidden-folded.d-inline.tour-brand B L A C K B O X
                .row.justify-content-center.py-3.pl-3
                    span.hidden-folded.d-inline.tour-title STEP 1
                .row.justify-content-center.py-3.pl-3
                    span.hidden-folded.d-inline.tour-text Select a video from the list
                .row.justify-content-start.pt-2.py-3.mb-2.align-items-center

                .row.justify-content-center.pt-2.py-3
                    button.btn.btn-tourStart.mx-3.py-3.px-4(data-toggle='modal', data-target='#videoTourModal') Continue 
                .row.justify-content-center.pt-2.py-3
                    .col-12.text-center
                        span.tour-skip(onClick="skipTour()",data-toggle='modal', data-target='#videoTourModal') Skip this tour
    #articlesTourModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='false' style="background-color:rgb(255,255,255,0.5)")
        .modal-dialog.modal-dialog-centered(role='document',)
            .modal-content.px-1.px-sm-5.py-2#articlesTourModal1
                .row.justify-content-center.py-3.mt-5.pl-3
                    span.hidden-folded.d-inline.tour-brand B L A C K B O X
                .row.justify-content-center.py-3.pl-3
                    span.hidden-folded.d-inline.tour-title#articlesTourModal1-text STEP 3
                .row.justify-content-center.py-3.pl-3
                    span.hidden-folded.d-inline.tour-text Select an article from the list
                .row.justify-content-start.pt-2.py-3.mb-2.align-items-center

                .row.justify-content-center.pt-2.py-3
                    button.btn.btn-tourStart.mx-3.py-3.px-4(data-toggle='modal', data-target='#articlesTourModal') Continue 
                .row.justify-content-center.pt-2.py-3
                    .col-12.text-center
                        span.tour-skip(onClick="skipTour()",data-toggle='modal', data-target='#articlesTourModal') Skip this tour
    #videoPopupModal.modal.fade.mx-0.px-0(tabindex='-1', role='dialog', aria-labelledby='exampleModalCenterTitle', aria-hidden='true')
        .modal-dialog.modal-lg.modal-dialog-centered(role='document',style="width:60vw ; max-width:60vw;min-width:20.253968253968253vw")
            .modal-content.no-bg.no-shadow.no-border
                .modal-body
                    .col-12.px-0
                        .media.media-16x9
                            a#videoPopupMedia.videoPopupMedia.media-content()
                            a.videoPopupMedia.media-overlay.w-100.h-100.videoPopupOpcaity(style="z-index:100;")
                            a.videoPopupMedia.media-overlay.overlay-top.overlay-left.p-0(style="z-index:101;")
                                .row.mx-0.px-1.h-100.align-items-center.justify-content-sm-center.video-questionResult-Container(style='width:300px; max-height: 100%; min-height: 41px;')
                                    .row.w-100.mx-0.px-2.justify-content-center.tooltips.my-1.video-question-input-container.no-bg
                                        .d-inline-flex.video-question-input.position-relative.mx-0(style='min-width:230px; ')
                                            button.btn.no-shadow.no-bg.px-0.py-0.align-items-start.tooltip-video-search(data-tooltip='tooltip', data-placement='bottom', title='Search for information inside this video', data-container='.tooltip-video-search', type='button')
                                                svg(xmlns='http://www.w3.org/2000/svg', width='20', height='30', viewbox='0 0 24 24', fill='none', stroke='#ffffff', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='Search')
                                                    circle(cx='11', cy='11', r='8')
                                                    line(x1='21', y1='21', x2='16.65', y2='16.65')
                                            input.no-bg.pl-2.search-input( disabled name='search-input', autocomplete='off', type='text', placeholder='Search by question or concept')
                            a.videoPopupMedia.media-overlay.overlay-top.overlay-right.p-0#topicsContainer(style="z-index:101; max-height: 100%;height: fit-content;")
                                .m-0.p-0(style='max-height: inherit;height: inherit;')
                                    .row.mx-0.px-0.h-100.justify-content-sm-center(style='width:175px; max-height: 100%;height: 100%;')
                                        .d-inline-flex.row.video-topics.justify-content-end.h-100.position-relative.mx-0.pt-2.px-2.pb-0(style='min-width:175px; height: 100%;max-height: 100%; ')
                                            .d-inline-flex.justify-content-end.pr-2(style='height:fit-content;')
                                                span.video-topics-title.pr-1 Topics
                                                svg(xmlns='http://www.w3.org/2000/svg', width='20', height='20', viewbox='0 0 24 24', fill='none', stroke='#F7F7F8', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                                    line(x1='18', y1='20', x2='18', y2='10')
                                                    line(x1='12', y1='20', x2='12', y2='4')
                                                    line(x1='6', y1='20', x2='6', y2='14')
                                            #suggestedTermsRow.row.justify-content-end.mx-0.pb-3.suggestedTermsRow.overflow-auto(style='height: inherit; max-height: inherit;')
                            a.videoPopupMedia.media-overlay.overlay-center.p-0(style="z-index:100;")
                                .row.mx-0.justify-content-center.align-items-center.h-100.w-100
                                    button.no-shadow.no-border.btn-startPlay(type='button', style='z-index:50;', onclick='startVideo()')
                                        svg.icon--not-pressed.pause-svg(xmlns='http://www.w3.org/2000/svg', width='30', height='30', viewbox='0 0 24 24', fill='none', stroke='#212121', stroke-width='2', stroke-linecap='round', stroke-linejoin='round', icon='')
                                            polygon(points='5 3 19 12 5 21 5 3')
                            //- a.media-content#videoPopupMedia(href='/videos/5fce788704bdd1cc2cac5cac?videoid=rxCkesAPRVk', style='background-image:url(https://img.youtube.com/vi/rxCkesAPRVk/hqdefault.jpg);')
    script(src='/libs/popper.js/dist/umd/popper.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/flickity/2.2.1/flickity.pkgd.js')
    script(src='https://js.stripe.com/v3/')
    // build:js ../assets/js/site.min.js
    // jQuery
    script(src='/libs/jquery/dist/jquery.min.js')
    // Bootstrap
    script(src='/libs/popper.js/dist/umd/popper.min.js')
    script(src='/libs/bootstrap/dist/js/bootstrap.min.js')
    // ajax page
    script(src='/libs/pace-progress/pace.min.js')
    script(src='/libs/pjax/pjax.js')
    script(src='/assets/js/ajax.js')
    // lazyload plugin
    script(src='/assets/js/lazyload.config.js')
    script(src='/assets/js/lazyload.js')
    script(src='/assets/js/plugin.js')
    // theme
    script(src='/assets/js/theme.js')
    script(src='/assets/js/shortcut.js')
    script.
        var userVideos=!{JSON.stringify(videos)};
    script(src='/assets/js/main.js')
    //- script(src='../assets/js/plugins/dropzone/dropzone.js')

    script(src='https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js')

    script(src='https://cdn.onesignal.com/sdks/OneSignalSDK.js', async='')

    script(src='../assets/js/plugins/uppy.min.js')
    script(src='../assets/js/plugins/owlcarousel/dist/owl.carousel.js')
    script.
        videoTopicsMap=new Map();
        for (let index=0; index < userVideos.length; index++ ) {
            const userVideo = userVideos[index]
            if(videoTopicsMap.get(userVideo.videoID)==undefined){
                if(userVideo.topics!=undefined)
                    videoTopicsMap.set(userVideo.videoID,userVideo.topics)
            }
            videosMap.set(userVideo._id,userVideo)
        }
        var myVar;
        suggestedTermsRow = document.getElementById("suggestedTermsRow");
            $( ".videoCard-Hover" )
            .mouseover(function() {
                const container=this;
                myVar = setTimeout(function(){ 
                    showVideoOverlayPreview(container);
                    $('#videoPopupModal').modal('show');
                }, 3000);

            })
            .mouseout(function() {
                clearTimeout(myVar);
            });
        
            $("#videoPopupModal").on("hidden.bs.modal", function () {
                // put your default event here
                suggestedTermsRow.innerHTML="";
                document.getElementById("topicsContainer").style.height="fit-content";
            });
        //- $('#videoPopupModal').modal('show');
        videosSelected=[];
        
        function selectAllVideos(){
            checkboxes=document.querySelectorAll(".checkbox.videoCard");
            for (let index=0; index < checkboxes.length; index++ ) {
                const element = checkboxes[index] 
                if(!element.checked){
                    element.click();
                }
            }
        }
        function cancelSelectAllVideos(){
            checkboxes=document.querySelectorAll(".checkbox.videoCard");
            for (let index=0; index < checkboxes.length; index++ ) {
                const element = checkboxes[index] 
                if(element.checked){
                    element.click();
                }
            }
        }
        var inviteModal=document.getElementById("inviteModal");
        
        $("#inviteModal").on("hidden.bs.modal", function () {
            // put your default event here
            //- suggestedTermsRow.innerHTML="";
            //- document.getElementById("topicsContainer").style.height="fit-content";
            copyFromInviteModal=false
        });
        $( "#inviteModal" ).on('shown.bs.modal', function(){
            copyFromInviteModal=true
        });
        var copyFromInviteModal=false;
        function copyMultipleVideos(userID){
            if (userID == "null" || userID == "undefined") {
                shareText = "";
            } else {
                shareText = "&share=" + userID;
            }
            var dummy = document.createElement("textarea");
            if(copyFromInviteModal){
                inviteModal.appendChild(dummy);
            }else{
                document.body.appendChild(dummy);
            }
            value=""
            for (let index=0; index < videosSelected.length; index++ ) {
                const video = videosSelected[index] 
                value+=
                    "https://webeta.onrender.com/videos/?videoid=" + (video.videoID==undefined?(video.vimeoID==undefined?video.azureFileName:video.vimeoID):video.videoID)+shareText+"\n";
            }
            dummy.value=value
            //- dummy.value+=
                //- "https://webeta.onrender.com/videos/?videoid=" + id + shareText;
            dummy.select();
            document.execCommand("copy");
            if(copyFromInviteModal){
                inviteModal.removeChild(dummy);
            }else{
                document.body.removeChild(dummy);
                
            }
            if(!copyFromInviteModal){
                cancelSelectAllVideos()
                $('#inviteModal').modal('hide');
            }
        }
        var inviteModalShareableLink=document.getElementById("inviteModal-shareableLink")
        var inviteModalVideoLink=document.getElementById("inviteModal-videoLink")
        var inviteModalmMltipleVideoLinks=document.getElementById("inviteModal-multipleVideoLinks")
        var sendMultipleVideos=false;
        var shareText;
        function sendByEmailMultipleVideos(userID){
            sendMultipleVideos=true;
            sendVideo=false;
            inviteModalShareableLink.classList.add("d-none")
            inviteModalVideoLink.classList.add("d-none")
            inviteModalmMltipleVideoLinks.classList.remove("d-none")
            inviteModalmMltipleVideoLinks.setAttribute("onClick", "dismissPopup('popup-share'),copySuccess(this),copyMultipleVideos('"+userID+"')");
            if (userID == "null" || userID == "undefined") {
                shareText = "";
            } else {
                shareText = "&share=" + userID;
            }
            $('#inviteModal').modal('show');
        }
        function shareToTeam(element){
                var teamID=element.id.split("-")[1];
                element.classList.add("shared")
                element.innerHTML=" Shared"

                $.post(
                    "/teams/addMultipleVideos",
                    {videos:videosSelected,teamID:teamID},
                    function (data, status, jqXHR) {
                        console.log(data)
                    }
                )
            }
        function openShareToTeam(){
            $('#shareToTeamModal').modal('show');
        }
        function openTagsModal(){
            $('#tagsModal').modal('show');
        }
    

    if sharedFrom
        script.
            $('#loginModal').modal({
                    backdrop: 'static',
                    keyboard: false
                })
            $('#loginModal').modal('show');
    if user
        script.
            var carousel = $('#owl-carousel');

            keywordsNumbers=document.getElementById("keywordsNumbers")
            firstKeywordIndex=0;
            keywordPageStep=14
            keywords=!{JSON.stringify(user.keywords)};
            var keywordsMap=new Map();
            
            $(document).ready(async function() { 
                
                var keywordsRow = document.createElement("div");
                keywordsRow.setAttribute("class", "row mx-0 ");
                keywordsNumbers.innerHTML=1+"-"+(keywords.length>keywordPageStep?keywordPageStep:keywords.length)+" of "+ keywords.length
                for (let index=0; index < keywords.length; index++ ) {
                    const keyword = keywords[index] 
                    //- console.log(keyword);
                    var keywordContainer = document.createElement("button");
                    keywordContainer.setAttribute("class", "btn btn-suggestedTerm no-shadow p-1 ml-0 mr-2 mb-2 ");
                    keywordContainer.innerHTML=keyword.keyword
                    //- var keywordText = document.createElement("span");
                    //- keywordText.innerHTML=keyword.keyword;
                    keywordsMap.set(keyword.keyword,keyword)

                    if(index%keywordPageStep==0){
                        var keywordsRow = document.createElement("div");
                        keywordsRow.setAttribute("class", "row mx-0 ");
                        //- keywordContainer.appendChild(keywordText)
                        keywordsRow.appendChild(keywordContainer)
                        carousel.append(keywordsRow)
                    }else{
                        //- keywordContainer.appendChild(keywordText)
                        keywordsRow.appendChild(keywordContainer)
                    }
                    
                }
                $(".btn-suggestedTerm").on("click", function () {
                    if(this.classList.contains("activeSuggestion")){
                        hideSuggestedKeyword();
                    }else{
                        pickSuggestedKeyword(this.innerHTML);
                        $(".activeSuggestion").removeClass("activeSuggestion");
                        this.classList.add("activeSuggestion");
                    }
                });
                carousel.owlCarousel({
                    items:1,
                    mouseDrag:false,
                });
            })
            function moveright(){
            $('#owl-carousel').trigger('next.owl.carousel');
                
                if(firstKeywordIndex+keywordPageStep<=keywords.length){
                    firstKeywordIndex+=keywordPageStep;
                    keywordsNumbers.innerHTML=(firstKeywordIndex==0?1:firstKeywordIndex)+"-"+(keywords.length>firstKeywordIndex+keywordPageStep?firstKeywordIndex+keywordPageStep:keywords.length)+" of "+ keywords.length
                }
            
            }
            function moveleft(){
                $('#owl-carousel').trigger('prev.owl.carousel', [300]);
                if(firstKeywordIndex-keywordPageStep<=keywords.length&&firstKeywordIndex-keywordPageStep>=0){
                    firstKeywordIndex-=keywordPageStep;
                    keywordsNumbers.innerHTML=(firstKeywordIndex==0?1:firstKeywordIndex)+"-"+(keywords.length>firstKeywordIndex+keywordPageStep?firstKeywordIndex+keywordPageStep:keywords.length)+" of "+ keywords.length
                }
            }
            //- function pickSuggestedKeyword(text){
            //-     keyword=keywordsMap.get(text);
            //-     videosToShow=[]
            //-     for (let index=0; index < keyword.results.length; index++ ) {
            //-         const result = keyword.results[index] 
            //-         videosToShow.push({id:result[0] ,vid:[[result[1],result[2]]]})
            //-     }

            //-     document.getElementById('videosSearchContainer').innerHTML='<div class="col-12 px-0 py-2"><p id="searchKeywordsResults" class="searchKeywordsResults"></p></div>'
            //-     resultsCount=0;
            //-     for (let index=0; index < videosToShow.length; index++ ) {
            //-         const video = videosToShow[index] 
            //-         segmentStarts=[];
            //-         segmentNames=[];
                    
            //-         var segments=video.vid[1]
            //-         for (let index = 0; index < segments[0].length; index++) {
            //-             const sum = segments[0][index];
            //-             addSegment = true;
            //-             for (let index1 = 0; index1 < segmentStarts.length; index1++) {
            //-                 const segmentStart = segmentStarts[index1];
            //-                 if (segmentStart == sum) {
            //-                     addSegment = false;
            //-                 }
            //-             }
            //-             if (addSegment) {
            //-                 segmentStarts.push(sum);
            //-                 segmentNames.push(segments[1][index]);
            //-             }
            //-         }
                    
            //-         if(segmentStarts.length>0){
            //-             videoObject=videosMap.get(video.id);
            //-             videoDuration=videoObject.fullDuration;

            //-             videoContainer=document.createElement("div")
            //-             videoContainer.setAttribute("class", "col-lg-4 col-sm-6 col-12 mx-0 px-1 my-1 ");
            //-             thumbnailContainer=document.createElement("div")
            //-             thumbnailContainer.setAttribute("class", "col-12 p-0 m-0 ");
                        
            //-             thumbnailMediaContainer=document.createElement("div")
            //-             thumbnailMediaContainer.setAttribute("class", "media media-16x9 ");
            //-             thumbnail=document.createElement("a")
            //-             thumbnail.setAttribute("class", "media-content ");
            //-             linkextras=""
            //-             linkextras+="&s=1&sl="+segmentStarts.length;
            //-             for (let index=0; index < segmentStarts.length; index++ ) {
            //-                 linkextras+="&segment"+index+"="+segmentStarts[index]
            //-                 linkextras+="&segmentText"+index+"="+segmentNames[index]
            //-             }
                            
            //-             linkextras+="&search="+input.value;
            //-             if(videoObject.videoID==undefined){
            //-                 thumbnail.setAttribute("href", '/videos/'+videoObject._id+'?videoid='+videoObject.azureFileName+linkextras);
            //-                 thumbnail.setAttribute("style", 'background-image:url('+(videoObject.thumbnailUrl==undefined?'/assets/img/videoThumbnail.png':videoObject.thumbnailUrl)+');');
            //-             }else{
            //-                 thumbnail.setAttribute("href", '/videos/'+videoObject._id+'?videoid='+videoObject.videoID+linkextras);
            //-                 thumbnail.setAttribute("style", 'background-image:url(https://img.youtube.com/vi/'+videoObject.videoID+'/hqdefault.jpg);');
            //-             }
            //-             //- document.getElementById("videoURL-"+video.id).href+="&s=1&sl="+segmentStarts.length;
                        
            //-             thumbnailMediaContainer.appendChild(thumbnail)
            //-             thumbnailContainer.appendChild(thumbnailMediaContainer)
            //-             overlaySearchResults=document.createElement("div")
            //-             overlaySearchResults.setAttribute("class", "media-overlay overlay-right overlay-top videoCard-overlaySearchResults p-1 px-2 ");
            //-             overlaySearchResults.innerHTML=segmentStarts.length+" results";
            //-             thumbnailContainer.appendChild(overlaySearchResults)
            //-             overlaySearchTimeframes=document.createElement("div")
            //-             overlaySearchTimeframes.setAttribute("class", "media-overlay overlay-bottom videoCard-overlaySearchTimeframes");
            //-             for (let index=0; index < segmentStarts.length; index++ ) {
            //-                 if(videoDuration!=undefined){
            //-                     percentage =
            //-                         100 * (segmentStarts[index] / videoDuration);
            //-                     timeframe=document.createElement("div")
            //-                     timeframe.setAttribute("class", "videoCard-overlaySearchTimeframe ");
            //-                     timeframe.setAttribute("style", "left: "+percentage+"%;");
            //-                     overlaySearchTimeframes.appendChild(timeframe)
            //-                 }
            //-             }
            //-             thumbnailContainer.appendChild(overlaySearchTimeframes)
            //-             videoContainer.appendChild(thumbnailContainer)
                        
            //-             videoInfoContainer=document.createElement("div")
            //-             videoInfoContainer.setAttribute("class", "col-12 p-0 m-0 pt-2");
                        
            //-             videoTitle=document.createElement("p")
            //-             videoTitle.setAttribute("class", "card-thubnail-Title");
            //-             videoTitle.innerHTML=videoObject.title;

            //-             videoDescription=document.createElement("p")
            //-             videoDescription.setAttribute("class", "card-thubnail-description");
            //-             videoDescription.innerHTML=videoObject.description;

            //-             videoInfoContainer.appendChild(videoTitle)
            //-             videoInfoContainer.appendChild(videoDescription)
            //-             videoContainer.appendChild(videoInfoContainer)

            //-             videoFooterContainer=document.createElement("div")
            //-             videoFooterContainer.setAttribute("class", "col-12 p-0 m-0 pt-2");
            //-             videoContainer.appendChild(videoFooterContainer)
            //-             videoFooterRow=document.createElement("div")
            //-             videoFooterRow.setAttribute("class", "row mx-0 justify-content-start position-relative align-items-center");
            //-             videoFooterContainer.appendChild(videoFooterRow)
            //-             videoSource=document.createElement("span")
            //-             videoSource.setAttribute("class", "card-thubnail-info pr-2");

            //-             if(videoObject.videoID==undefined){
            //-                 videoSource.innerHTML="Your Upload";
            //-             }else{
            //-                 videoSource.innerHTML="Youtube";
            //-             }
            //-             videoFooterRow.appendChild(videoSource)

            //-             videoDurationText=document.createElement("span")
            //-             videoDurationText.setAttribute("class", " card-thubnail-time mx-auto");
            //-             if(videoObject.fullDuration==undefined){
            //-                 videoDurationText.innerHTML="";
            //-             }else{
            //-                 videoDurationText.innerHTML=(Math.floor(parseInt(videoObject.fullDuration)/60))+" min";
            //-             }
            //-             videoFooterRow.appendChild(videoDurationText)

            //-             videoActionsContainer=document.createElement("div")
            //-             videoFooterRow.appendChild(videoActionsContainer)
                        
            //-             videoActionsRow=document.createElement("div")
            //-             videoActionsRow.setAttribute("class", "row mx-0 align-items-center");

            //-             videoActionsContainer.appendChild(videoActionsRow)

            //-             videoCopyLink=document.createElement("a")
            //-             videoCopyLink.setAttribute("class", "btn no-shadow no-border no-bg p-0 px-2");
            //-             videoCopyLink.setAttribute("onClick", "copyVideoLink('video','"+(videoObject.videoID==undefined? videoObject.azureFileName:videoObject.videoID)+"','"+uID+"'),clickSuccess(this)");
            //-             videoCopyLink.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 24 24" fill="none" stroke="#0073B1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon="Link2"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg>'
            //-             videoActionsRow.appendChild(videoCopyLink)
                        
            //-             videoTwitter=document.createElement("a")
            //-             videoTwitter.setAttribute("class", "btn no-shadow no-border no-bg p-0 px-2");
            //-             videoTwitter.setAttribute("onClick", "clickSuccess(this),dismissPopup('popup-shareVideo'),shareTwitterLink('video','"+(videoObject.videoID==undefined? videoObject.azureFileName:videoObject.videoID)+"','"+uID+"')");
            //-             videoTwitter.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 24 24" fill="none" stroke="#0073B1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon="Twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>'
            //-             videoActionsRow.appendChild(videoTwitter)

            //-             videoEmail=document.createElement("a")
            //-             videoEmail.setAttribute("class", "btn no-shadow no-border no-bg p-0 px-2");
            //-             videoEmail.setAttribute("onClick", "shareEmailVideoLink(`old`,`"+(videoObject.videoID==undefined? videoObject.azureFileName:videoObject.videoID)+"`,`"+videoObject.title+"`,`"+videoObject._id+"`),dismissPopup('popup-shareVideo'),clickSuccess(this)");
            //-             videoEmail.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 24 24" fill="none" stroke="#0073B1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon="Mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>'
            //-             videoActionsRow.appendChild(videoEmail)

            //-             videoDivider=document.createElement("a")
            //-             videoDivider.setAttribute("class", "dropdown-divider my-3");
            //-             videoContainer.appendChild(videoDivider)
            //-             document.getElementById("videosSearchContainer").classList.remove("d-none")
                        
            //-             document.getElementById("videosSearchContainer").appendChild(videoContainer)
            //-             //- document.getElementById("videoSearchResultsCount-"+video.id).innerHTML=segmentStarts.length+" results";
            //-             //- document.getElementById("videoSearchResultsCount-"+video.id).classList.remove("d-none");
            //-             //- if(videoDuration!=undefined)
            //-             //-     document.getElementById("videotimeFrames-"+video.id).classList.remove("d-none");
            //-         }
                    
            //-         resultsCount+=segmentStarts.length;
            //-         //- document.getElementById("container-"+video.id).classList.remove("d-none");
            //-     }
            //-     document.getElementById("searchKeywordsResults").innerHTML=videosToShow.length+ " Results"
            //- }
        
    script.
        function shareLibrary(element,userID){
            var dummy = document.createElement("textarea");
            
            if(copyFromInviteModal){
                inviteModal.appendChild(dummy);
            }else{
                document.body.appendChild(dummy);
            }
            dummy.value =
                " https://webeta.onrender.com/shareLibrary/" +
                userID 
            dummy.select();
            document.execCommand("copy");
            if(copyFromInviteModal){
                inviteModal.removeChild(dummy);
            }else{
                document.body.removeChild(dummy);
            }
            element.classList.add("bg-lightBlue");
            setTimeout(function () {
                element.classList.remove("bg-lightBlue");
            }, 300);
        }
        
        function copyVideoLink(type, id, userID){
            if (userID == "null" || userID == "undefined") {
                shareText = "";
            } else {
                shareText = "&share=" + userID;
            }

            var dummy = document.createElement("textarea");
            if(copyFromInviteModal){
                inviteModal.appendChild(dummy);
            }else{
                document.body.appendChild(dummy);
            }
            dummy.value =
                "https://webeta.onrender.com/videos/?videoid=" + id + shareText;
            dummy.select();
            document.execCommand("copy");
            if(copyFromInviteModal){
                inviteModal.removeChild(dummy);
            }else{
                document.body.removeChild(dummy);
            }
        }

    script.
        var uppy = Uppy.Core()
        //- uppy.use(Uppy.DragDrop, { target: '#drag-drop-area' })
        uppy.use(Uppy.Dashboard, {
            inline: true,
            target: '#drag-drop-area',
            replaceTargetContent: true,
            showProgressDetails: true,
            note: 'we support .mp4 files less than 1 GB',
            height: 466,
            locale:{
                strings:{
                    closeModal: 'Close Modal',
                    addMoreFiles: 'Add more files',
                    addingMoreFiles: 'Adding more files',
                    importFrom: 'Import from %{name}',
                    dashboardWindowTitle: 'Uppy Dashboard Window (Press escape to close)',
                    dashboardTitle: 'Uppy Dashboard',
                    copyLinkToClipboardSuccess: 'Link copied to clipboard.',
                    copyLinkToClipboardFallback: 'Copy the URL below',
                    copyLink: 'Copy link',
                    fileSource: 'File source: %{name}',
                    done: 'We will notify you when your files are ready',
                    back: 'Back',
                    removeFile: 'Remove file',
                    editFile: 'Edit file',
                    editing: 'Editing %{file}',
                    edit: 'Edit',
                    // file list view.
                    finishEditingFile: 'Finish editing file',
                    // TODO
                    saveChanges: 'Save changes',
                    myDevice: 'My Device',
                    dropHereOr:"Drag and drop videos here or %{browse}",
                    dropPasteFiles:"Drag and drop videos here or %{browse}",
                    dropPasteFiles: 'Drag and drop videos here or %{browse}',
                    dropPasteImport: 'Drag and drop videos here or %{browse}',
                    dropPaste: 'Drag and drop videos here or %{browse}',
                    dropHint: 'Drop your files here',
                    browse: 'browse',
                    uploadComplete: 'Upload complete',
                    uploadPaused: 'Upload paused',
                    resumeUpload: 'Resume upload',
                    pauseUpload: 'Pause upload',
                    retryUpload: 'Retry upload',
                    cancelUpload: 'Cancel upload',
                    xFilesSelected: {
                        0: '%{smart_count} file selected',
                        1: '%{smart_count} files selected'
                    },
                    uploadingXFiles: {
                        0: 'Uploading %{smart_count} file',
                        1: 'Uploading %{smart_count} files'
                    },
                    processingXFiles: {
                        0: 'Processing %{smart_count} file',
                        1: 'Processing %{smart_count} files'
                    },
                    poweredBy2: '',
                    uploading: 'Uploading',
                    complete: 'Complete'
                    }
                },
                doneButtonHandler: () => {
                    this.uppy.reset()
                    $('#uploadModal').modal('toggle');
                    //- window.location.href = "/personalLibrary";
                },
            browserBackButtonClose: false
            })
        uppy.use(Uppy.XHRUpload, { endpoint: '/uploadMP4',fieldName:"file" })

    if user
        script.
            function startOnboaringTour(){
                if("#{folderid}"=="5f67ad198d0140cdf05087ca"){
                    if("#{user.skipArticleFolderTour}"=="false"){
                        $('#articlesTourModal').modal('show');
                    }
                    if("#{user.skipArticleTour}"){
                        $('.file-link').each(function(i, obj) {
                            obj.href+="&onboarding=1"
                        });            
                    }

                }else{
                    if("#{user.skipVideoFolderTour}"=="false"){
                        $('#videoTourModal').modal('show');
                    }
                    if("#{user.skipVideoTour}"){
                        $('.file-link').each(function(i, obj) {
                            obj.href+="&onboarding=1"
                        });            
                    }

                }
            }
            function skipTour(){
                $('.file-link').each(function(i, obj) {
                    obj.href=obj.href.split("&onboarding=1")[0]
                });  
                if("#{folderid}"=="5f67ad198d0140cdf05087ca"){
                    $.post(
                        "/users/removeTour", // url
                        {type:"skipArticleFolderTour"}, // data to be submit
                        function (data, status, jqXHR) {}
                    );
                }else{
                    $.post(
                        "/users/removeTour", // url
                        {type:"skipVideoFolderTour"}, // data to be submit
                        function (data, status, jqXHR) {}
                    );
                }
            }
            function tourNext(step){
                document.getElementById("tourModal"+step).classList.add("d-none")
                nextstep=step+1
                document.getElementById("tourModal"+nextstep).classList.remove("d-none")
            }
    script.
        window.OneSignal = window.OneSignal || [];
        OneSignal.push(async function() {
            OneSignal.init({
                appId: "a58897a8-b5ab-42e8-a07b-fd7ad84dc53a",
                allowLocalhostAsSecureOrigin: true,
                promptOptions: {
                    customlink: {
                        enabled: true, /* Required to use the Custom Link */
                        style: "link", /* Has value of 'button' or 'link' */
                        size: "small", /* One of 'small', 'medium', or 'large' */
                        color: {
                        text: '#a8afbb', /* Color of the prompt's text */
                        },
                        text: {
                        subscribe: "Subscribe to push notifications", /* Prompt's text when not subscribed */
                        unsubscribe: "Unsubscribe from push notifications", /* Prompt's text when subscribed */
                        },
                        unsubscribeEnabled: true, /* Controls whether the prompt is visible after subscription */
                    }
                }
        });
        id=await OneSignal.getUserId();
        $.post("/notifications/oneSignal",{id:id}, function(data, status){});
        });  

    script.
        $( "#aside" ).mouseover(function() {
            $( "#sidenav" ).mouseleave(function() {
                $("#aside").click();
            });
        });

        $("body").on("mousemove",function(event) {
            if (event.pageX < 10) {
                $("#aside").modal("show")
            }
        });
    if user
        script.
            var uID= !{JSON.stringify(user._id)};
    else
        script.
            var uID= "";
    script.
        videos=!{JSON.stringify(videos)};
        videosMap= new Map();
        var videoIDs=[];
        for (let index=0; index < videos.length; index++ ) {
            const vid = videos[index] 
            videoIDs.push((vid.videoID==undefined?(vid.azureFileName==undefined?vid.vimeoID:vid.azureFileName):vid.videoID) );
            videosMap.set(vid._id,vid)
        }
        
        videoIDs=videoIDs.toString();
        console.log(videoIDs);
        if(videoIDs.length>0){
            $.post(
                "/videos/processMultiple",
                {videoIDs:videoIDs},
                function (data, status, jqXHR) {
                    }
            )
        }
        function searchFunction() {
            if (event.keyCode === 27) {
                // Cancel the default action, if needed
                event.preventDefault();
                hideSearch();
                // Trigger the button element with a click
            }else{
                if (event.keyCode === 13) {
                    var input, filter, ul, li, a, i, txtValue;
                    input = document.getElementById('searchInput');
                    if(input.value!=""){

                        $.post(
                            "/getSearchResult",
                            {videoIDs:videoIDs.toString(),search:input.value},
                            function (data, status, jqXHR) {
                                if(data.success){
                                    console.log(data.videos)
                                    ul = document.getElementById("searchUL");
                                    li = ul.getElementsByTagName('li');
                                    videosToShow=[];
                                    // Loop through all list items, and hide those who don't match the search query
                                    for (i = 0; i < li.length; i++) {
                                        span = li[i].getElementsByTagName("span")[0];
                                        txtValue = span.textContent || span.innerText;
                                        id=span.id;
                                        for (let index=0; index < data.videos.length; index++ ) {
                                        const vid = data.videos[index]
                                            filter=vid[0]
                                            if (txtValue.indexOf(filter) > -1) {
                                                li[i].style.display = "";
                                                console.log(filter)
                                                videosToShow.push({id:id,vid:vid})
                                                //- document.getElementById("container-"+id).classList.remove("d-none")
                                            } else {
                                                li[i].style.display = "none";
                                            }
                                            document.getElementById("container-"+id).classList.add("d-none")
                                            //- document.getElementById("videoSearchResultsCount-"+id).classList.add("d-none")
                                            //- document.getElementById("videotimeFrames-"+id).classList.remove("d-none");

                                        }
                                    }
                                    document.getElementById('videosSearchContainer').innerHTML='<div class="col-12 px-0 py-2"><p id="searchKeywordsResults" class="searchKeywordsResults"></p></div>'
                                    resultsCount=0;
                                    for (let index=0; index < videosToShow.length; index++ ) {
                                        const video = videosToShow[index] 
                                        segmentStarts=[];
                                        segmentNames=[];
                                        
                                        var segments=video.vid[1]
                                        for (let index = 0; index < segments[0].length; index++) {
                                            const sum = segments[0][index];
                                            addSegment = true;
                                            for (let index1 = 0; index1 < segmentStarts.length; index1++) {
                                                const segmentStart = segmentStarts[index1];
                                                if (segmentStart == sum) {
                                                    addSegment = false;
                                                }
                                            }
                                            if (addSegment) {
                                                segmentStarts.push(sum);
                                                segmentNames.push(segments[1][index]);
                                            }
                                        }
                                        
                                        if(segmentStarts.length>0){
                                            videoObject=videosMap.get(video.id);
                                            videoDuration=videoObject.fullDuration;

                                            videoContainer=document.createElement("div")
                                            videoContainer.setAttribute("class", "col-lg-3 col-sm-6 col-12 mx-0 px-1 mb-5 ");
                                            thumbnailContainer=document.createElement("div")
                                            thumbnailContainer.setAttribute("class", "col-12 p-0 m-0 ");
                                            
                                            thumbnailMediaContainer=document.createElement("div")
                                            thumbnailMediaContainer.setAttribute("class", "media media-16x9 ");
                                            thumbnail=document.createElement("a")
                                            thumbnail.setAttribute("class", "media-content ");
                                            linkextras=""
                                            linkextras+="&s=1&sl="+segmentStarts.length;
                                            for (let index=0; index < segmentStarts.length; index++ ) {
                                                linkextras+="&segment"+index+"="+segmentStarts[index]
                                                linkextras+="&segmentText"+index+"="+segmentNames[index]
                                            }
                                                
                                            linkextras+="&search="+input.value;
                                            if(videoObject.videoID==undefined){
                                                if(videoObject.vimeoID==undefined){
                                                    thumbnail.setAttribute("href", '/videos/'+videoObject._id+'?videoid='+videoObject.azureFileName+linkextras);
                                                    thumbnail.setAttribute("style", 'background-image:url('+(videoObject.thumbnailUrl==undefined?'/assets/img/videoThumbnail.png':videoObject.thumbnailUrl)+');');
                                                }else{
                                                    thumbnail.setAttribute("href", '/videos/'+videoObject._id+'?videoid='+videoObject.vimeoID+linkextras);
                                                    thumbnail.setAttribute("style", 'background-image:url('+(videoObject.thumbnail==undefined?'/assets/img/videoThumbnail.png':videoObject.thumbnail)+');');
                                                }
                                            }else{
                                                thumbnail.setAttribute("href", '/videos/'+videoObject._id+'?videoid='+videoObject.videoID+linkextras);
                                                thumbnail.setAttribute("style", 'background-image:url(https://img.youtube.com/vi/'+videoObject.videoID+'/hqdefault.jpg);');
                                            }
                                            //- document.getElementById("videoURL-"+video.id).href+="&s=1&sl="+segmentStarts.length;
                                            
                                            thumbnailMediaContainer.appendChild(thumbnail)
                                            thumbnailContainer.appendChild(thumbnailMediaContainer)
                                            overlaySearchResults=document.createElement("div")
                                            overlaySearchResults.setAttribute("class", "media-overlay overlay-right overlay-top videoCard-overlaySearchResults p-1 px-2 bg-buttons-contrast");
                                            overlaySearchResults.innerHTML=segmentStarts.length+" results";
                                            thumbnailContainer.appendChild(overlaySearchResults)
                                            overlaySearchTimeframes=document.createElement("div")
                                            overlaySearchTimeframes.setAttribute("class", "media-overlay overlay-bottom videoCard-overlaySearchTimeframes bg-buttons-contrast");
                                            var thumbnailOverlay = createDOMElement(
                                                "a",
                                                "media-overlay w-100 h-100",
                                                "z-index:10;"
                                            );
                                            thumbnailOverlay.setAttribute(
                                                "id",
                                                "videoURL-" + videoObject._id
                                            );
                                            if(videoObject.videoID==undefined){
                                                if(videoObject.vimeoID==undefined){
                                                    thumbnailOverlay.setAttribute("href", '/videos/'+videoObject._id+'?videoid='+videoObject.azureFileName+linkextras);
                                                }else{
                                                    thumbnailOverlay.setAttribute("href", '/videos/'+videoObject._id+'?videoid='+videoObject.vimeoID+linkextras);
                                                }
                                            }else{
                                                thumbnailOverlay.setAttribute("href", '/videos/'+videoObject._id+'?videoid='+videoObject.videoID+linkextras);
                                            }
                                            for (let index=0; index < segmentStarts.length; index++ ) {
                                                if(videoDuration!=undefined){
                                                    percentage =
                                                        100 * (segmentStarts[index] / videoDuration);
                                                    timeframe=document.createElement("div")
                                                    timeframe.setAttribute("class", "videoCard-overlaySearchTimeframe ");
                                                    timeframe.setAttribute("style", "left: "+percentage+"%;");
                                                    overlaySearchTimeframes.appendChild(timeframe)
                                                }
                                            }
                                            thumbnailContainer.appendChild(overlaySearchTimeframes)
                                            thumbnailContainer.appendChild(thumbnailOverlay)
                                            videoContainer.appendChild(thumbnailContainer)
                                            
                                            videoInfoContainer=document.createElement("div")
                                            videoInfoContainer.setAttribute("class", "col-12 p-0 m-0 pt-2");
                                            
                                            videoTitle=document.createElement("p")
                                            videoTitle.setAttribute("class", "card-thubnail-Title text-color-main");
                                            videoTitle.innerHTML=videoObject.title;

                                            videoDescription=document.createElement("p")
                                            videoDescription.setAttribute("class", "card-thubnail-description text-color-main d-none");
                                            videoDescription.innerHTML=videoObject.description;

                                            videoInfoContainer.appendChild(videoTitle)
                                            videoInfoContainer.appendChild(videoDescription)
                                            videoContainer.appendChild(videoInfoContainer)

                                            videoFooterContainer=document.createElement("div")
                                            videoFooterContainer.setAttribute("class", "col-12 p-0 m-0 pt-2");
                                            videoContainer.appendChild(videoFooterContainer)
                                            videoFooterRow=document.createElement("div")
                                            videoFooterRow.setAttribute("class", "row mx-0 justify-content-start position-relative align-items-center");
                                            videoFooterContainer.appendChild(videoFooterRow)
                                            videoSource=document.createElement("span")
                                            videoSource.setAttribute("class", "card-thubnail-info text-color-main pr-2");

                                            if(videoObject.videoID==undefined){
                                                if(videoObject.vimeoID==undefined){
                                                    videoSource.innerHTML="MP4 Upload";

                                                }else{
                                                    videoSource.innerHTML="Vimeo";
                                                }
                                            }else{
                                                videoSource.innerHTML="Youtube";
                                            }
                                            videoFooterRow.appendChild(videoSource)

                                            videoDurationText=document.createElement("span")
                                            videoDurationText.setAttribute("class", " card-thubnail-time text-color-main mx-auto");
                                            if(videoObject.fullDuration==undefined){
                                                videoDurationText.innerHTML="";
                                            }else{
                                                videoDurationText.innerHTML=(Math.floor(parseInt(videoObject.fullDuration)/60))+" min";
                                            }
                                            videoFooterRow.appendChild(videoDurationText)

                                            videoActionsContainer=document.createElement("div")
                                            videoFooterRow.appendChild(videoActionsContainer)
                                            
                                            videoActionsRow=document.createElement("div")
                                            videoActionsRow.setAttribute("class", "row mx-0 align-items-center");

                                            videoActionsContainer.appendChild(videoActionsRow)

                                            videoCopyLink=document.createElement("a")
                                            videoCopyLink.setAttribute("class", "btn-cardShare btn no-shadow no-border py-1 px-2 bg-buttons");
                                            videoCopyLink.setAttribute("onClick", "copyVideoLink('video','"+(videoObject.videoID==undefined?(videoObject.vimeoID==undefined?videoObject.azureFileName:videoObject.vimeoID) :videoObject.videoID)+"','"+uID+"'),clickSuccess(this)");
                                            videoCopyLink.innerHTML='<svg data-toggle="tooltip" data-placement="top" title="Copy Link" xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 24 24" fill="none" stroke="#393856" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon="Link2"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg>'
                                            videoActionsRow.appendChild(videoCopyLink)
                                            
                                            videoTwitter=document.createElement("a")
                                            videoTwitter.setAttribute("class", "btn-cardShare btn no-shadow no-border py-1 px-2 bg-buttons");
                                            videoTwitter.setAttribute("onClick", "clickSuccess(this),dismissPopup('popup-shareVideo'),shareTwitterLink('video','"+(videoObject.videoID==undefined? (videoObject.vimeoID==undefined?videoObject.azureFileName:videoObject.vimeoID):videoObject.videoID)+"','"+uID+"')");
                                            videoTwitter.innerHTML='<svg data-toggle="tooltip" data-placement="top" title="Tweet it!" xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 24 24" fill="none" stroke="#393856" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon="Twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>'
                                            videoActionsRow.appendChild(videoTwitter)

                                            videoEmail=document.createElement("a")
                                            videoEmail.setAttribute("class", "btn-cardShare btn no-shadow no-border py-1 px-2 bg-buttons");
                                            videoEmail.setAttribute("onClick", "shareEmailVideoLink(`old`,`"+(videoObject.videoID==undefined? (videoObject.vimeoID==undefined?videoObject.azureFileName:videoObject.vimeoID):videoObject.videoID)+"`,`"+videoObject.title+"`,`"+videoObject._id+"`),dismissPopup('popup-shareVideo'),clickSuccess(this)");
                                            videoEmail.innerHTML='<svg data-toggle="tooltip" data-placement="top" title="Send by email" xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 24 24" fill="none" stroke="#393856" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon="Mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>'
                                            videoActionsRow.appendChild(videoEmail)

                                            videoDivider=document.createElement("a")
                                            videoDivider.setAttribute("class", "dropdown-divider my-3");
                                            videoContainer.appendChild(videoDivider)
                                            document.getElementById("videosSearchContainer").classList.remove("d-none")
                                            
                                            document.getElementById("videosSearchContainer").appendChild(videoContainer)
                                            //- document.getElementById("videoSearchResultsCount-"+video.id).innerHTML=segmentStarts.length+" results";
                                            //- document.getElementById("videoSearchResultsCount-"+video.id).classList.remove("d-none");
                                            //- if(videoDuration!=undefined)
                                            //-     document.getElementById("videotimeFrames-"+video.id).classList.remove("d-none");
                                        }
                                        
                                        resultsCount+=segmentStarts.length;
                                        //- document.getElementById("container-"+video.id).classList.remove("d-none");
                                    }
                                        document.getElementById("searchKeywordsResults").innerHTML=videosToShow.length+ " Results"

                                    //- input = document.getElementById('searchInput');
                                    //- filter = input.value.toUpperCase();
                                    //- ul = document.getElementById("searchUL2");
                                    //- li = ul.getElementsByTagName('li');

                                    //- // Loop through all list items, and hide those who don't match the search query
                                    //- var filteredCounter=0;
                                    //- for (i = 0; i < li.length; i++) {
                                    //-     span = li[i].getElementsByTagName("span")[0];
                                    //-     txtValue = span.textContent || span.innerText;
                                    //-     id=span.id;
                                    //-     var toFilter=true;
                                    //-     for (let index=0; index < videosToShow.length; index++ ) {
                                    //-         const element = videosToShow[index] 
                                    //-         if(element.id==id){
                                    //-             toFilter=false;
                                    //-             break;

                                    //-         }
                                    //-     }
                                    //-     if(toFilter){
                                    //-         if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                    //-             li[i].style.display = "";
                                    //-             document.getElementById("container-"+id).classList.remove("d-none")
                                    //-             document.getElementById("searchResults").classList.remove("d-none");
                                    //-             filteredCounter++;
                                    //-         } else {
                                    //-             li[i].style.display = "none";
                                    //-             document.getElementById("container-"+id).classList.add("d-none")
                                    //-         }
                                    //-     }
                                    //- }
                                    //- if(filteredCounter>0)
                                    //-     document.getElementById("searchResults").innerHTML=filteredCounter+" Files";
                                    //- else
                                    //-     document.getElementById("searchResults").innerHTML="";


                                }

                            }
                        )
                    }else{
                        var input, filter, ul, li, a, i, txtValue;
                        input = document.getElementById('searchInput');
                        filter = input.value.toUpperCase();
                        ul = document.getElementById("searchUL2");
                        li = ul.getElementsByTagName('li');

                        // Loop through all list items, and hide those who don't match the search query
                        for (i = 0; i < li.length; i++) {
                            span = li[i].getElementsByTagName("span")[0];
                            txtValue = span.textContent || span.innerText;
                            id=span.id;
                            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            li[i].style.display = "";
                            document.getElementById("container-"+id).classList.remove("d-none")
                            } else {
                            li[i].style.display = "none";
                            document.getElementById("container-"+id).classList.add("d-none")
                            }
                        }
                    }
                }
            }
        }
        let showSearch=true;
        $( "#searchIcon" ).click(function() {
            if(showSearch){
                //- $( "#searchInputContainer" ).show( "fast");
                $( "#searchContainer" ).removeClass("d-none")
                $( ".hide-onSearch" ).addClass( "d-none");
                showSearch=false
                document.getElementById('searchInput').focus()
            }else{
                //- $( "#searchInputContainer" ).hide( "fast" );
                hideSearch()
            }
        });
        function hideSearch(){
                $( "#searchContainer" ).addClass("d-none")
                $( ".hide-onSearch" ).removeClass( "d-none");
                showSearch=true
                document.getElementById('searchInput').value="";
                var ev = document.createEvent("Event");
                ev.initEvent("keyup");
                ev.which = ev.keyCode = 13;
                document.getElementById('searchInput').dispatchEvent(ev);
                document.getElementById('videosSearchContainer').classList.add("d-none");
                document.getElementById('searchResults').classList.add("d-none");

            
        }
        let showInvite=true;
        $( "#inviteInputContainer" ).hide( 1 );
        $( ".btn-invite" ).click(function() {
            if(showInvite){
                $( "#inviteInputContainer" ).show( "fast");
                showInvite=false
                document.getElementById('inviteBtn-text').innerHTML="Cancel";
                document.getElementById('inviteInput').focus()
            }else{
                $( "#inviteInputContainer" ).hide( "fast" );
                document.getElementById('inviteBtn-text').innerHTML="Invite";
                showInvite=true
                document.getElementById('inviteInput').value="";
                var ev = document.createEvent("Event");
                ev.initEvent("keyup");
                ev.which = ev.keyCode = 13;
                document.getElementById('inviteInput').dispatchEvent(ev);
            }
        });
        var inviteInput = document.getElementById("inviteInput");
        if (inviteInput!=null){

            inviteInput.addEventListener("keyup", function (event) {
                // Number 13 is the "Enter" key on the keyboard
                if (event.keyCode === 13) {
                    // Cancel the default action, if needed
                    event.preventDefault();
                    // Trigger the button element with a click
                    email=inviteInput.value;
                    inviteInput.value="";
                    inviteInput.placeholder="Inviting...";
                    if(email==""){
                        inviteInput.placeholder="Email cannot be empty";
                    }else{
                        if(validEmail(email)){
                        $.post("/referAFriend",{ emails:[email]}, function(data, status){
                            if(data.success){
                                inviteInput.placeholder="Invited!";
                            }else{
                                switch (data.code) {
                                    case 50:
                                        window.location.href = "/";
                                        break;
                                    case 54:
                                        inviteInput.placeholder="Error 54";
                                        break;
                                    case 61:
                                        inviteInput.placeholder="Email is not correct";
                                        break;
                                    case 62:
                                        inviteInput.placeholder="Already registered";
                                        break;
                                    case 63:
                                        inviteInput.placeholder="Already invited";
                                    break;
                                    default:
                                        break;
                                }
                            }
                        });
                        }else{
                            inviteInput.placeholder="Email is not correct";
                        }
                    }
                }
            });
        }
        
    script.
        function linkPocketApp(){
            $.post("/pocketApp/link", function(data, status){
                window.location.href=data.redirect;
            });
        }
        function linkDropBox(){
            $.post("/dropbox/link", function(data, status){
                window.location.href=data.redirect;
            });
        }
        
        queryString = window.location.search;
        urlParams = new URLSearchParams(queryString);
        let getdata=null;
        if(urlParams.get('get')!=null){
            getdata=urlParams.get('get');
            console.log(getdata)
            if(getdata=="pocketApp"){
                $('#pocketAppModal').modal({
                    backdrop: 'static',
                    keyboard: false
                })
                $('#pocketAppModal').modal('show');
                checkMigrationComplete();
            }
            if(getdata=="Dropbox"){
                $('#DropboxModal').modal({
                    backdrop: 'static',
                    keyboard: false
                })
                $('#DropboxModal').modal('show');
                checkDropboxMigrationComplete();
            }
        }
        if(urlParams.get('onboarding')!=null){
            startOnboaringTour();
            if(urlParams.get('onboarding')=="2"){
            document.getElementById("articlesTourModal1-text").classList.add("invisible");

            
            }
        }
        function checkMigrationComplete () {
            $.post("/pocketApp/migrationComplete", function(data, status){
                
                if(data.success){
                    window.location.href="/";
                }else{
                    setTimeout(checkMigrationComplete, 1000);
                }
            });
            
            }
        function checkDropboxMigrationComplete () {
            $.post("/dropbox/migrationComplete", function(data, status){
                if(data.success){
                    window.location.href="/";
                }else{
                    setTimeout(checkDropboxMigrationComplete, 1000);
                }
            });
            
        }
    if user
        script.
            
            //- let userPlans=JSON.parse("")
            let userPlans=!{JSON.stringify(userPlans)}
            
            for (let index = 0; index < userPlans.length; index++) {
                const plan = userPlans[index];
                if(plan.subscribed)
                {
                    let planName=plan.planName
                    let trimmedName=planName.replace(/\s/g,'')
                    let sideNavItemID=trimmedName+"-liItem"
                    let sideNavItem=document.getElementById(sideNavItemID)
                    let sidenavPlans=document.getElementById("sideNav-SubscribedPlans")
                    if(!sideNavItem){
                    sidenavPlans.innerHTML+='<li class="ml-2 overflow-hidden pl-2" id="'+sideNavItemID+'"><a class="align-items-center display-none" id="sideNav-documents" href="/plans/'+planName+'"><span class="sidenav-Text" style="text-overflow: ellipsis; overflow: hidden; white-space: nowrap;">'+planName+'</span></a></li>'
                    }
                }
            }

            function renameFolder(folderID){
                newName=document.getElementById("folderNewName-"+folderID).value;
                $.post("/folders/rename",{folderName: newName, folderid:folderID}, function(data, status){
                });
                document.getElementById("folderName-"+folderID).innerHTML=newName;
            }
            function addOnClick(folderID){
                var renameFolderInput = document.getElementById("folderNewName-"+folderID);
                renameFolderInput.focus();
                renameFolderInput.addEventListener("keyup", function(event) {
                    if (event.keyCode === 13) {
                        // Cancel the default action, if needed
                        document.getElementById("renameButton-"+folderID).click();
                        }
                });
            }

            function deleteFolder(folderID){
                $.post("/folders/deleteFolder",{ folderID:folderID}, function(data, status){
            });
                        document.getElementById("folder-card-"+folderID).classList.toggle("d-none");
            }

            let newFolder=false;
            function createNewFolder(){
                if(selectedFolderRow!=null){
                    selectedFolderRow.classList.remove("moveFolder-selected");
                    selectedFolderRow=null;
                }
                document.getElementById("createFolderInput").classList.remove("d-none");
                document.getElementById("createFolderInput").focus();
                newFolder=true;
            }
            let selectedVideos=[];
            let selectedDocuments=[];
            let folderid="none";
            let currentFilesActions=null

            function selectFile(id,type,fileID){
                switch (id) {
                    case "videos":
                        folderid="none";
                        if(currentFilesActions!=null){
                            if(currentFilesActions!=document.getElementById("filesActions-videos")){
                            currentFilesActions.classList.add("d-none");
                            currentFilesActions.classList.remove("d-inline-flex");
                            if(selectedVideos.length>0){
                                    for (let index = 0; index < selectedVideos.length; index++) {
                                        const elementID = selectedVideos[index];
                                        document.getElementById("checkbox-"+elementID).checked=false;
                                    }
                                    selectedVideos=[];
                                }
                                if(selectedDocuments.length>0){
                                    for (let index = 0; index < selectedDocuments.length; index++) {
                                        const elementID = selectedDocuments[index];
                                        document.getElementById("checkbox-"+elementID).checked=false;
                                    }
                                    selectedDocuments=[];
                                }
                            }
                        }
                        currentFilesActions=document.getElementById("filesActions-videos")
                        currentFilesActions.classList.remove("d-none");
                        currentFilesActions.classList.add("d-inline-flex");
                        break;
                    case "documents":
                        folderid="none";
                        if(currentFilesActions!=null){
                            if(currentFilesActions!=document.getElementById("filesActions-documents")){
                            currentFilesActions.classList.add("d-none");
                            currentFilesActions.classList.remove("d-inline-flex");
                                if(selectedVideos.length>0){
                                    for (let index = 0; index < selectedVideos.length; index++) {
                                        const elementID = selectedVideos[index];
                                        document.getElementById("checkbox-"+elementID).checked=false;
                                    }
                                    selectedVideos=[];
                                }
                                if(selectedDocuments.length>0){
                                    for (let index = 0; index < selectedDocuments.length; index++) {
                                        const elementID = selectedDocuments[index];
                                        document.getElementById("checkbox-"+elementID).checked=false;
                                    }
                                    selectedDocuments=[];
                                }
                            }
                        }
                        currentFilesActions=document.getElementById("filesActions-documents")
                        currentFilesActions.classList.remove("d-none");
                        currentFilesActions.classList.add("d-inline-flex");
                        break;
                    default:
                        folderid=id;
                        if(currentFilesActions!=null){
                            if(currentFilesActions!=document.getElementById("filesActions-"+id)){
                            currentFilesActions.classList.add("d-none");
                            currentFilesActions.classList.remove("d-inline-flex");
                            if(selectedVideos.length>0){
                                    for (let index = 0; index < selectedVideos.length; index++) {
                                        const elementID = selectedVideos[index];
                                        document.getElementById("checkbox-"+elementID).checked=false;
                                    }
                                    
                                    selectedVideos=[];
                                }
                                if(selectedDocuments.length>0){
                                    for (let index = 0; index < selectedDocuments.length; index++) {
                                        const elementID = selectedDocuments[index];
                                        document.getElementById("checkbox-"+elementID).checked=false;
                                    }
                                    selectedDocuments=[];
                                }
                            }
                        }
                        currentFilesActions=document.getElementById("filesActions-"+id)
                        currentFilesActions.classList.remove("d-none");
                        currentFilesActions.classList.add("d-inline-flex");
                        break;
                }
                switch (type) {
                    case "video":
                        if (selectedVideos.length>0){
                        const index = selectedVideos.indexOf(fileID);
                            if (index > -1) {
                                selectedVideos.splice(index, 1);
                            }else{
                                selectedVideos.push(fileID);
                            }
                        }else{
                            selectedVideos.push(fileID);
                        }
                        break;
                    case "document":
                        if (selectedDocuments.length>0){
                        const index = selectedDocuments.indexOf(fileID);
                            if (index > -1) {
                                selectedDocuments.splice(index, 1);
                            }else{
                                selectedDocuments.push(fileID);
                            }
                        }else{
                            selectedDocuments.push(fileID);
                        }
                        break;
                    default:
                        break;
                }
                if(selectedVideos.length==0&&selectedDocuments.length==0){
                    currentFilesActions.classList.add("d-none")
                    currentFilesActions.classList.remove("d-inline-flex")
                }else{
                    currentFilesActions.classList.add("d-inline-flex")
                    currentFilesActions.classList.remove("d-none")
                }
                    filesNumberText=""
                    if(selectedVideos.length>0){
                        filesNumberText+= selectedVideos.length
                        if(selectedVideos.length>1){
                            filesNumberText+=" videos"
                        }else{
                            filesNumberText+=" video"
                        }
                    }
                    if(selectedDocuments.length>0){
                        if(selectedVideos.length>0){
                            filesNumberText+=" and "
                        }
                        filesNumberText+= selectedDocuments.length
                        if(selectedDocuments.length>1){
                            filesNumberText+=" documents"
                        }else{
                            filesNumberText+=" document"
                        }

                    }
                    
                    switch (id) {
                    case "videos":
                        document.getElementById("deleteFilesText-videos").innerHTML="Delete "+filesNumberText;
                        document.getElementById("videosToDelete-videos").value=selectedVideos;
                        document.getElementById("documentsToDelete-videos").value=selectedDocuments;
                        break;
                    case "documents":
                        document.getElementById("deleteFilesText-documents").innerHTML="Delete "+filesNumberText;
                        document.getElementById("videosToDelete-documents").value=selectedVideos;
                        document.getElementById("documentsToDelete-documents").value=selectedDocuments;
                        break;
                    default:
                        document.getElementById("deleteFilesText-"+id).innerHTML="Delete "+filesNumberText;
                        document.getElementById("videosToDelete-"+id).value=selectedVideos;
                        document.getElementById("documentsToDelete-"+id).value=selectedDocuments;
                        break;
                }
                filesNumberText+=" to ...";
                document.getElementById("moveFilesText").innerHTML="Move "+filesNumberText;
            }

            function moveToFolder(){
                document.getElementById("selectFolderLayout").classList.add("d-none")
                document.getElementById("spinnerMove").classList.remove("d-none")
                document.getElementById("spinnerMove").classList.add("d-block")
                document.getElementById("moveFilesText").innerHTML="Moving "+filesNumberText
                let tofolderid="none";
                if(selectedFolder!=null){
                    tofolderid=selectedFolder;
                }
                if (newFolder){
                    createFolder=createFolderInput.value;
                }
                $.post(
                    "/folders/moveMultiple", // url
                    { documents: selectedDocuments,videos:selectedVideos,createFolder:createFolder,folderID:folderid,toFolderID:tofolderid }, // data to be submit
                    function (data, status, jqXHR) {
                        if (data.success){
                            window.location.href=data.redirect
                        }else{
                            window.location.href=data.redirect
                        }
                    })
            }
            let selectedFolder=null;
            let selectedFolderRow=null;
            function selectFolder(folderid){
                if(selectedFolderRow!=null){
                    selectedFolderRow.classList.remove("moveFolder-selected");
                }
                selectedFolder=folderid;
                selectedFolderRow=document.getElementById("moveFolder-row-"+folderid);
                selectedFolderRow.classList.add("moveFolder-selected");
            }

            let createFolder=null;
            
            if (document.getElementById("createFolderInput") != null) {
                var createFolderInput = document.getElementById("createFolderInput");
                createFolderInput.addEventListener("keyup", function (event) {
                    // Number 13 is the "Enter" key on the keyboard
                    if (event.keyCode === 13) {
                        event.preventDefault();
                        createFolder=createFolderInput.value;
                        moveToFolder();
                    }
                })
            }
        script.
            $.post("/users/checkReferredEmails", function(data, status){
                console.log(data)
                if(data.success){
                    $('#referredUserSignedUpModal').modal('show');
                    if(data.amount==1){
                        document.getElementById("refferedUsersText").innerHTML="1 of your referred emails signed up"
                        document.getElementById("refferedUsersbtnText").innerHTML="Claim your free month"
                    }else{
                        document.getElementById("refferedUsersText").innerHTML= data.amount+" of your referred emails signed up"
                        document.getElementById("refferedUsersbtnText").innerHTML="Claim your free months"
                    }
                }
            });
        if user.referralSignupDiscount
            script.
                $('#referralSignupDiscountModal').modal('show');
    script.
        shortcut.add(
            "/",
            function () {
                document.getElementById('searchInput').focus();
                document.getElementById('searchIcon').click();
            },
            { disable_in_input: true,'keycode':191 }
        );
    script.
        function processSummaryOnPaste(){
            setTimeout(function () {
            //- processSummary()
            }, 100);
        }
        var inputSummary = document.getElementById("newSummaryInput");
        inputSummary.addEventListener("keyup", function (event) {
            // Number 13 is the "Enter" key on the keyboard
            if (event.keyCode === 13) {
                // Cancel the default action, if needed
                event.preventDefault();
                // Trigger the button element with a click
                processSummary();
            }
            if (event.keyCode === 27) {
                // Cancel the default action, if needed
                event.preventDefault();
                hideNewSummary();
                // Trigger the button element with a click
            }
        });
        // https://vimeo.com/496894990,https://vimeo.com/498135942,https://vimeo.com/452973828,123456789,http://github.com/,http://youtube.com/
        var processedLinks=0;
        var validVimeoLinks=[];
        var totalLinks=0;
        function processLink(link,valid){
            processedLinks++;
            if(valid){
                if(!validVimeoLinks.includes(link))
                    validVimeoLinks.push(link);
            }
            console.log(processedLinks)
            console.log(totalLinks)

            if(processedLinks>=totalLinks){
                if(validVimeoLinks.length>0){
                    $.post(
                        "/addVimeoVideos", // url
                        { vimeoLinks: validVimeoLinks }, // data to be submit
                        function (data, status, jqXHR) {
                            // success callback
                            if (data.success) {
                                inputSummary.placeholder="Your videos will be ready shortly";
                                setTimeout(function () {
                                    inputSummary.placeholder="Paste a vimeo URL https://...";
                                }, 30000);
                            } else {
                                document.getElementById("newSummaryCloseSVG").classList.remove("d-none");
                                document.getElementById("spinnerNewSummary").classList.add("d-none");
                                switch (data.code) {
                                    case 50:
                                        inputSummary.placeholder="You need to be logged in";
                                        break;
                                    case 53:
                                        inputSummary.placeholder="No valid vimeo links found";
                                        break;
                                    case 55:
                                        inputSummary.placeholder="You have reached your weekly limit";
                                        break;
                                    default:
                                        break;
                                }
                            }
                        }
                    );
                }else{
                    inputSummary.placeholder="No valid vimeo links found";
                }
            }
        }
        async function processSummary() {
            document.getElementById("newSummaryCloseSVG").classList.add("d-none");
            document.getElementById("spinnerNewSummary").classList.remove("d-none");
            var links=inputSummary.value;
            inputSummary.value="";
            inputSummary.placeholder="Processing...";
            links=links.split(",");
            console.log(links)
            var validLinks=[];
            for (let index=0; index < links.length; index++ ) {
                const link = links[index] 
                if(validURL(link))
                validLinks.push(link);
            }
            if(validLinks.length>0){
                totalLinks=validLinks.length
                validLinks.forEach(async (link) => {
                    console.log(link)
                    if(await getVimeoId(link)!=undefined){
                        processLink(link,true)
                    }else{
                        processLink(link,false)
                    }
                });
                
            }else{
                inputSummary.placeholder="No valid vimeo links found";
            }
            //- if (validURL(link)) {
            //-     //- if(await getVimeoId(link)!=undefined){
            //-     //-         $.post(
            //-     //-             "/addVimeoVideo", // url
            //-     //-             { URL: link }, // data to be submit
            //-     //-             function (data, status, jqXHR) {
            //-     //-                 // success callback
            //-     //-                 if (data.success) {
            //-     //-                     window.location.href = data.redirect;
            //-     //-                     inputSummary.placeholder="Redirecting you";
            //-     //-                 } else {
            //-     //-                     document.getElementById("newSummaryCloseSVG").classList.remove("d-none");
            //-     //-                     document.getElementById("spinnerNewSummary").classList.add("d-none");
            //-     //-                     switch (data.code) {
            //-     //-                         case 50:
            //-     //-                             inputSummary.placeholder="You need to be logged in";
            //-     //-                             break;
            //-     //-                         case 53:
            //-     //-                             inputSummary.placeholder="This is not a valid Vimeo Link";
            //-     //-                             break;
            //-     //-                         case 55:
            //-     //-                             inputSummary.placeholder="You have reached your weekly limit";
            //-     //-                             break;
            //-     //-                         default:
            //-     //-                             break;
            //-     //-                     }
            //-     //-                 }
            //-     //-             }
            //-     //-         );
            //-     //-     }else{
            //-     //-         document.getElementById("newSummaryCloseSVG").classList.remove("d-none");
            //-     //-         document.getElementById("spinnerNewSummary").classList.add("d-none");
            //-     //-         inputSummary.placeholder="Enter a proper Vimeo url";
            //-     //-     }
            //-     //- if (getYoutubeId(link) != undefined) {
            //-     //-     $.post(
            //-     //-         "/videos/add", // url
            //-     //-         { URL: link, folder: folder_id }, // data to be submit
            //-     //-         function (data, status, jqXHR) {
            //-     //-             // success callback
            //-     //-             if (data.success) {
            //-     //-                 window.location.href = data.redirect;
            //-     //-                 inputSummary.placeholder="Redirecting you";
            //-     //-             } else {
            //-     //-                 document.getElementById("newSummaryCloseSVG").classList.remove("d-none");
            //-     //-                 document.getElementById("spinnerNewSummary").classList.add("d-none");
            //-     //-                 switch (data.code) {
            //-     //-                     case 50:
            //-     //-                         inputSummary.placeholder="You need to be logged in";
            //-     //-                         break;
            //-     //-                     case 53:
            //-     //-                         inputSummary.placeholder="This is not a valid Youtube Video";
            //-     //-                         break;
            //-     //-                     case 55:
            //-     //-                         inputSummary.placeholder="You have reached your weekly limit";
            //-     //-                         break;
            //-     //-                     default:
            //-     //-                         break;
            //-     //-                 }
            //-     //-             }
            //-     //-         }
            //-     //-     );
            //-     //- } else {
            //-     //-     if(getVimeoId(link)!=undefined){
            //-     //-         $.post(
            //-     //-             "/addVimeoVideo", // url
            //-     //-             { URL: link }, // data to be submit
            //-     //-             function (data, status, jqXHR) {
            //-     //-                 // success callback
            //-     //-                 if (data.success) {
            //-     //-                     window.location.href = data.redirect;
            //-     //-                     inputSummary.placeholder="Redirecting you";
            //-     //-                 } else {
            //-     //-                     document.getElementById("newSummaryCloseSVG").classList.remove("d-none");
            //-     //-                     document.getElementById("spinnerNewSummary").classList.add("d-none");
            //-     //-                     switch (data.code) {
            //-     //-                         case 50:
            //-     //-                             inputSummary.placeholder="You need to be logged in";
            //-     //-                             break;
            //-     //-                         case 53:
            //-     //-                             inputSummary.placeholder="This is not a valid Vimeo Link";
            //-     //-                             break;
            //-     //-                         case 55:
            //-     //-                             inputSummary.placeholder="You have reached your weekly limit";
            //-     //-                             break;
            //-     //-                         default:
            //-     //-                             break;
            //-     //-                     }
            //-     //-                 }
            //-     //-             }
            //-     //-         );
            //-     //-     }else{
            //-     //-         $.post(
            //-     //-             "/documents/add", // url
            //-     //-             { article: link, folder: folder_id }, // data to be submit
            //-     //-             function (data, status, jqXHR) {
            //-     //-                 // success callback
            //-     //-                 if (data.success) {
            //-     //-                     window.location.href = data.redirect;
            //-     //-                     inputSummary.placeholder="Redirecting you";
            //-     //-                 } else {
            //-     //-                     document.getElementById("newSummaryCloseSVG").classList.remove("d-none");
            //-     //-                     document.getElementById("spinnerNewSummary").classList.add("d-none");
            //-     //-                     switch (data.code) {
            //-     //-                         case 50:
            //-     //-                             inputSummary.placeholder="You need to be logged in";
            //-     //-                             break;
            //-     //-                         case 51:
            //-     //-                             inputSummary.placeholder="Link does not have a valid article";
            //-     //-                             break;
            //-     //-                         case 52:
            //-     //-                             inputSummary.placeholder="Could not contact API. Try again at a different time";
            //-     //-                             break;
            //-     //-                         default:
            //-     //-                             break;
            //-     //-                     }
            //-     //-                 }
            //-     //-             }
            //-     //-         );

            //-     //-     }
            //-     //- }
            //- } else {
            //-     document.getElementById("newSummaryCloseSVG").classList.remove("d-none");
            //-     document.getElementById("spinnerNewSummary").classList.add("d-none");
            //-     inputSummary.placeholder="Enter a proper url";
            //- }
        }
        function getfolderID(){
            return "#{folderid}"
        }
    script.
        function swapView(view){
            if(view=="videos"){
                document.getElementById("videosContainer").classList.remove("d-none");
                document.getElementById("articlesContainer").classList.add("d-none");
                document.getElementById("videoSelectionBtn").classList.add("active");
                document.getElementById("articleSelectionBtn").classList.remove("active");
                //- document.getElementById("addbtnText").innerHTML="New Video"
            }else{
                document.getElementById("videosContainer").classList.add("d-none");
                document.getElementById("articlesContainer").classList.remove("d-none");
                document.getElementById("videoSelectionBtn").classList.remove("active");
                document.getElementById("articleSelectionBtn").classList.add("active");
                //- document.getElementById("addbtnText").innerHTML="New Article"
            }
        }
    if user
        script.
            var popupConfig=!{JSON.stringify(user.popupConfig)}
            var popup_newSummaryActive=false;
            var popup_summaryInfo=false;
            var popup_invite=false;
            var popup_shareVideo=false;
            var popup_shareDocument=false;
            if(popupConfig.newSummary.dismisses<popupConfig.newSummary.limit){
                if(document.getElementById("popup-newSummary")!=null)
                document.getElementById("popup-newSummary").classList.remove("d-none");
                popup_newSummaryActive=true
            }else{
                if(popupConfig.summaryInput.dismisses<popupConfig.summaryInput.limit){
                if(document.getElementById("popup-summaryInfo")!=null)
                document.getElementById("popup-summaryInfo").classList.remove("d-none");
                popup_summaryInfo=true;
                }else{
                    if(popupConfig.invite.dismisses<popupConfig.invite.limit){
                if(document.getElementById("popup-invite")!=null)
                        document.getElementById("popup-invite").classList.remove("d-none");
                        popup_invite=true;
                        
                    }else{
                        if(popupConfig.share.dismisses<popupConfig.share.limit){
                            popup_shareVideo=true;
                            popup_shareDocument=true;
                            if(document.getElementById("popup-shareVideo")!=null)
                            document.getElementById("popup-shareVideo").classList.remove("d-none");
                            if(document.getElementById("popup-shareDocument")!=null)
                            document.getElementById("popup-shareDocument").classList.remove("d-none");
                        }
                    }
                }
            }
            function dismissPopup(popup){
                switch (popup) {
                    case "popup-newSummary":
                        if(popup_newSummaryActive){
                            if(document.getElementById("popup-newSummary")!=null)
                            document.getElementById("popup-newSummary").classList.add("d-none");
                            if(document.getElementById("popup-summaryInfo")!=null)
                            document.getElementById("popup-summaryInfo").classList.remove("d-none");
                            popup_newSummaryActive=false;
                            popup_summaryInfo=true;
                        }
                        break;
                    case "popup-summaryInfo":
                        if(popup_summaryInfo){
                            if(document.getElementById("popup-summaryInfo")!=null)
                            document.getElementById("popup-summaryInfo").classList.add("d-none");
                            if(document.getElementById("popup-invite")!=null)
                            document.getElementById("popup-invite").classList.remove("d-none");
                            popup_summaryInfo=false;
                            popup_invite=true;
                        }
                        break;
                    case "popup-invite":
                        console.log(popup_invite)
                        if(popup_invite){
                            if(document.getElementById("popup-invite")!=null)
                            document.getElementById("popup-invite").classList.add("d-none");
                            if(document.getElementById("popup-shareVideo")!=null)
                            document.getElementById("popup-shareVideo").classList.remove("d-none");
                            if(document.getElementById("popup-shareDocument")!=null)
                            document.getElementById("popup-shareDocument").classList.remove("d-none");
                            popup_invite=false;
                            popup_shareVideo=true;
                            popup_shareDocument=true;
                        }
                        break;
                    case "popup-shareVideo":
                        if(popup_shareVideo){
                            if(document.getElementById("popup-shareVideo")!=null)
                            document.getElementById("popup-shareVideo").classList.add("d-none");
                            if(document.getElementById("popup-shareDocument")!=null)
                            document.getElementById("popup-shareDocument").classList.add("d-none");
                            popup_shareVideo=false;
                        }
                        break;
                    case "popup-shareDocument":
                        if(popup_shareDocument){
                            if(document.getElementById("popup-shareVideo")!=null)
                            document.getElementById("popup-shareVideo").classList.add("d-none");
                            if(document.getElementById("popup-shareDocument")!=null)
                            document.getElementById("popup-shareDocument").classList.add("d-none");
                            popup_shareDocument=false;
                        }
                        break;
                    
                    default:
                        break;
                }
                $.post(
                    "/users/addPopupDismiss", // url
                    { popup: popup }, // data to be submit
                    function (data, status, jqXHR) {
                })
            }
    script.
        function saveForLater(type,ID,_id){
            if(document.getElementById("saveForLaterSVG-"+_id).style.fill=="none"||document.getElementById("saveForLaterSVG-"+_id).style.fill==""){
                document.getElementById("saveForLaterSVG-"+_id).style.fill="#0073B1"
            }else{
                document.getElementById("saveForLaterSVG-"+_id).style.fill="none"
            }
            if(type=="video"){
                $.post(
                    "/videos/saveForLater", // url
                    { videoID: ID, _id:_id ,shared:false }, // data to be submit
                    function (data, status, jqXHR) {
                })
            }
            if(type=="document"){
                $.post(
                    "/documents/saveForLater", // url
                    { documentID: ID, _id:_id ,shared:false }, // data to be submit
                    function (data, status, jqXHR) {
                })
            }
        }
        function deleteVideo(videoID){
            $.post(
                "/videos/deleteVideo", // url
                { video_ID: videoID,folderID:"none" }, // data to be submit
                function (data, status, jqXHR) {
                    
            })
            document.getElementById("container-"+videoID).remove();

        }
        function deleteDocument(document_ID,documentID){
            document.getElementById("container-"+document_ID).remove();
            $.post(
                "/documents/deleteDocument", // url
                { documentID: documentID,document_ID:document_ID,folderID:"none" }, // data to be submit
                function (data, status, jqXHR) {
                })
        }
        function copySuccess(el){
            copyBtnSvg=document.querySelectorAll(".copyBtn-svg")
            copyBtnSvgSuccess=document.querySelectorAll(".copyBtn-svg-success")
            copyBtnText=document.querySelectorAll(".copyBtn-text")
            for (let index=0; index < copyBtnSvgSuccess.length; index++ ) {
                const element = copyBtnSvgSuccess[index] 
                element.classList.remove("d-none");
            }
            for (let index=0; index < copyBtnSvg.length; index++ ) {
                const element = copyBtnSvg[index] 
                element.classList.add("d-none");
            }
            for (let index=0; index < copyBtnText.length; index++ ) {
                const element = copyBtnText[index] 
                    if(element.classList.contains("plural")){
                        element.innerHTML="Links copied ! "
                    }else{
                        element.innerHTML="Link copied ! "
                    }
                }
            //- document.getElementById("copyBtn-svg").classList.add("d-none")
            //- document.getElementById("copyBtn-svg-success").classList.remove("d-none")
            //- document.getElementById("copyBtn-text").innerHTML="Link copied ! "
            if(el!=undefined){
                el.classList.add("copySuccess")
            }
            setTimeout(function () {
                el.classList.remove("copySuccess")
            }, 500);
            setTimeout(function () {
                for (let index=0; index < copyBtnSvgSuccess.length; index++ ) {
                const element = copyBtnSvgSuccess[index] 
                element.classList.add("d-none");
            }
            for (let index=0; index < copyBtnSvg.length; index++ ) {
                const element = copyBtnSvg[index] 
                element.classList.remove("d-none");
            }
            for (let index=0; index < copyBtnText.length; index++ ) {
                const element = copyBtnText[index]
                if(element.classList.contains("shareable")){
                    element.innerHTML="Get a sharable invite link "
                }else{
                    if(element.classList.contains("plural")){
                        element.innerHTML="Copy Links "
                    }else{
                        element.innerHTML="Copy Link "
                    }
                }
            }
            //- document.getElementById("copyBtn-svg").classList.remove("d-none")
            //- document.getElementById("copyBtn-svg-success").classList.add("d-none")
            //- document.getElementById("copyBtn-text").innerHTML="Copy Link "
            }, 1500);
        }
    script.
        var tagsInputSuccess=document.getElementById("tagsModal-text-success");
        var tagsInputAlert=document.getElementById("tagsModal-text-alert");

        var tagsInputs=[0];
        var tagsInputsContainer=document.getElementById("tagsModal-tagInputContainer");
        var TagsModalBtnCancel=document.getElementById("tagsModal-btnCancel");
        var TagsModalBtnSubmit=document.getElementById("tagsModal-btnSubmit");
        var TagsModalTagsAddedCount=document.getElementById("tagsModal-tagsAddedCount");
        function addAnotherTag(){
            var input = document.createElement("input");
            input.setAttribute("class", "form-input-referral mb-3 show w-100");
            input.setAttribute("id", "tagsModal-tagInput"+tagsInputs.length );
            input.setAttribute("placeholder", "tag "+(tagsInputs.length+1) );
            input.setAttribute("autocomplete", "new-password" );
            input.setAttribute("name", "" );
            input.addEventListener("keyup", function (event) {
            if (event.keyCode === 27) {
                // Cancel the default action, if needed
                event.preventDefault();
                // Trigger the button element with a click
            }else{
                checkTagVaild(event.target.value)
            }
        })
            tagsInputs.push(tagsInputs.length)
            tagsInputsContainer.appendChild(input)
        }
        function checkTagVaild(tag){
            console.log(tag)
            if(tagsInputs.length>1){
                if(tag!=""){
                    TagsModalTagsAddedCount.innerHTML= tagsInputs.length +" tags added"
                    TagsModalBtnCancel.disabled=false
                    TagsModalBtnSubmit.disabled=false
                }else{
                    TagsModalTagsAddedCount.innerHTML= tagsInputs.length +" tags added"
                    TagsModalBtnCancel.disabled=false
                    TagsModalBtnSubmit.disabled=false
                }
            }else{
                if(tag!=""){
                    TagsModalTagsAddedCount.innerHTML="1 tag added"
                    TagsModalBtnCancel.disabled=false
                    TagsModalBtnSubmit.disabled=false
                }else{
                    TagsModalTagsAddedCount.innerHTML="0 tags added"
                    TagsModalBtnCancel.disabled=true
                    TagsModalBtnSubmit.disabled=true
                }
            }
        }
        document.getElementById("tagsModal-tagInput0").addEventListener("keyup", function (event) {
            if (event.keyCode === 27) {
                // Cancel the default action, if needed
                event.preventDefault();
                // Trigger the button element with a click
            }else{
                checkTagVaild(event.target.value)
            }
        })
        var tagsPass=true;
        var allTagsEmpty=true;
        var checkedTags=0;
        var validTags=true;
        var tags=[];

        
        function processTags(){
            document.getElementById("tagsModal-btnSubmitText").classList.add("d-none")
            document.getElementById("spinner-tagsModal").classList.remove("d-none")
            tagsInputSuccess.classList.add("d-none")
            tagsPass=true;
            allTagsEmpty=true;
            checkedTags=0;
            validTags=true;
            tags=[];
            for (let index = 0; index < tagsInputs.length; index++) {
                const tagsInput = document.getElementById("tagsModal-tagInput"+tagsInputs[index]).value;
                if(tagsInput!=""){
                    allTagsEmpty=false;
                    tags.push(tagsInput);
                }
            }
            if(!allTagsEmpty){
                    console.log(tags)
                    console.log(videosSelected)
                    if(videosSelected.length>0){
                        selectedVideosIds=[];
                        for (let index=0; index < videosSelected.length; index++ ) {
                            const videoSelected = videosSelected[index] 
                            selectedVideosIds.push(videoSelected._id);
                        }
                        $.post(
                            "/videos/addVideosTags",
                            {videoIDs:selectedVideosIds, tags:tags},
                            function (data, status, jqXHR) {
                                if(data.success){
                                    tagsInputSuccess.classList.remove("d-none");
                                    
                                    setTimeout(function () {
                                        cancelSelectAllVideos();
                                        $('#tagsModal').modal('hide');
                                        tagsInputSuccess.classList.remove("add");

                                        document.getElementById("tagsModal-btnSubmitText").classList.remove("d-none")
                                        document.getElementById("spinner-tagsModal").classList.add("d-none")
                                    }, 1000);
                                }
                            }
                        )
                    }else{
                        tagsPass=false;
                    tagsInputAlert.innerHTML="No selected videos";
                    tagsInputAlert.classList.remove("d-none");
                    document.getElementById("tagsModal-btnSubmitText").classList.remove("d-none")
                    document.getElementById("spinner-tagsModal").classList.add("d-none")
                    }
            }else{
                tagsPass=false;
                tagsInputAlert.innerHTML="Add at least one tag";
                tagsInputAlert.classList.remove("d-none");
                document.getElementById("tagsModal-btnSubmitText").classList.remove("d-none")
                document.getElementById("spinner-tagsModal").classList.add("d-none")
            }
        }
        function cancelAddTags(){
            for (let index = 1; index < tagsInputs.length; index++) {
                const tagsInput = document.getElementById("tagsModal-tagInput"+tagsInputs[index]);
                if(tagsInput!=null){
                    tagsInput.remove();
                }
            }
            document.getElementById("tagsModal-tagInput0").value="";
            tagsInputs=[0];
            checkTagVaild("");
            $('#tagsModal').modal('hide');
        }
    script.
        

        var emailInputAlert=document.getElementById("inviteModal-text-alert");
        var emailInputSuccess=document.getElementById("inviteModal-text-success");
        var emailInputs=[0];
        var inputsContainer=document.getElementById("inviteModal-emailInputContainer");
        function addAnother(){
            var input = document.createElement("input");
            input.setAttribute("class", "form-input-referral mb-3 show w-100");
            input.setAttribute("id", "inviteModal-emailInput"+emailInputs.length );
            input.setAttribute("placeholder", "Email "+(emailInputs.length+1) );
            input.setAttribute("autocomplete", "new-password" );
            input.setAttribute("name", "referAFriendEmail"+emailInputs.length );
            input.addEventListener("keyup", function (event) {
            if (event.keyCode === 27) {
                // Cancel the default action, if needed
                event.preventDefault();
                // Trigger the button element with a click
            }else{
                checkEmailVaild(event.target.value)
            }
        })
            emailInputs.push(emailInputs.length)
            inputsContainer.appendChild(input)
        }
        var emailsPass=true;
        var wrongEmails=[];
        var allEmailsEmpty=true;
        var checkedEmails=0;
        var validEmails=true;
        var emails=[]

        document.getElementById("inviteModal-emailInput0").addEventListener("keyup", function (event) {
            if (event.keyCode === 27) {
                // Cancel the default action, if needed
                event.preventDefault();
                // Trigger the button element with a click
            }else{
                checkEmailVaild(event.target.value)
            }
        })
        var inviteModalBtnCancel=document.getElementById("inviteModal-btnCancel");
        var inviteModalBtnSubmit=document.getElementById("inviteModal-btnSubmit");
        var inviteModalMembersAddedCount=document.getElementById("inviteModal-membersAddedCount");
        function checkEmailVaild(email){
            if(emailInputs.length>1){
                if(!validEmail(email)&&email!=""){
                    inviteModalMembersAddedCount.innerHTML= emailInputs.length-1 +" Member added"
                    inviteModalBtnCancel.disabled=true
                    inviteModalBtnSubmit.disabled=true
                }else{
                    inviteModalMembersAddedCount.innerHTML= emailInputs.length +" Member added"
                    inviteModalBtnCancel.disabled=false
                    inviteModalBtnSubmit.disabled=false
                }
            }else{
                if(!validEmail(email)){
                    inviteModalMembersAddedCount.innerHTML="0 Members added"
                    inviteModalBtnCancel.disabled=true
                    inviteModalBtnSubmit.disabled=true
                }else{
                    inviteModalMembersAddedCount.innerHTML="1 Member added"
                    inviteModalBtnCancel.disabled=false
                    inviteModalBtnSubmit.disabled=false
                    
                }
            }
        }
        function processEmails(){
            document.getElementById("inviteModal-btnSubmitText").classList.add("d-none")
            document.getElementById("spinner-inviteModal").classList.remove("d-none")
            emailInputAlert.classList.add("d-none")
            emailInputSuccess.classList.add("d-none")
            emailsPass=true;
            wrongEmails=[];
            allEmailsEmpty=true;
            checkedEmails=0;
            validEmails=true;
            emails=[];
            for (let index = 0; index < emailInputs.length; index++) {
                const emailInput = document.getElementById("inviteModal-emailInput"+emailInputs[index]).value;
                if(emailInput!=""){
                    allEmailsEmpty=false;
                    break;
                }
            }
            for (let index = 0; index < emailInputs.length; index++) {
                const emailInput = document.getElementById("inviteModal-emailInput"+emailInputs[index]).value;
                if(emailInput!=""){
                    if(!validEmail(emailInput)){
                        validEmails=false;
                        wrongEmails.push(emailInput.value)
                    }

                }
            }
            if(!allEmailsEmpty){
                if(validEmails){
                    for (let index = 0; index < emailInputs.length; index++) {
                    const emailInput = emailInputs[index];
                    const email=document.getElementById("inviteModal-emailInput"+emailInput).value;
                    
                    if(email!=""){
                        emailChecked(true,email);
                        //- $.post("/checkEmailValid", { email: email }, function (data, status) {
                        //-         if (data.success) {
                        //-             if (data.data.smtpCheck === "true") {
                        //-                 emailChecked(true,email);
                        //-             } else {
                        //-                 emailChecked(false,email);
                        //-             }
                        //-         }else{
                        //-             document.getElementById("emailInput-text-alert").innerHTML =
                        //-                 "Something went wrong Refresh the page and try again";
                        //-             document
                        //-                 .getElementById("emailInput-text-alert")
                        //-                 .classList.remove("d-none");
                        //-                 document.getElementById("inviteModal-btnSubmitText").classList.remove("d-none")
                        //-                 document.getElementById("spinner-inviteModal").classList.add("d-none")
                        //-         }
                        //-     });
                        }else{
                            checkedEmails++;
                        }
                    }
                }else{
                    emailsPass=false;
                    emailInputAlert.innerHTML="Emails: ";
                    for (let index = 0; index < wrongEmails.length; index++) {
                        const wrongEmail = wrongEmails[index];
                        emailInputAlert.innerHTML+=wrongEmail+", "
                    }
                    emailInputAlert.innerHTML+="are not valid";
                    emailInputAlert.classList.remove("d-none");
                    document.getElementById("inviteModal-btnSubmitText").classList.remove("d-none")
                    document.getElementById("spinner-inviteModal").classList.add("d-none")

                }
            }else{
                emailsPass=false;
                emailInputAlert.innerHTML="Add at least one Email";
                emailInputAlert.classList.remove("d-none");
                document.getElementById("inviteModal-btnSubmitText").classList.remove("d-none")
                document.getElementById("spinner-inviteModal").classList.add("d-none")
            }
        }
        function emailChecked(valid,email){
            console.log(email)
            if(valid){
                emails.push(email)
                checkedEmails++;
            }else{
                emailsPass=false;
                wrongEmails.push(email)
                checkedEmails++;
            }
            if(checkedEmails>=emailInputs.length){
                if(emailsPass){
                    console.log(emails)
                    document.getElementById("inviteModal-btnSubmitText").classList.remove("d-none")
                    document.getElementById("spinner-inviteModal").classList.add("d-none")
                    if(sendVideo||sendMultipleVideos){
                        if(sendVideo){
                            $.post("/share/video",{emails:emails, videoid:popupVideoID,video_id:popupVideoTitle,videotitle:popupVideo_id}, function(data, status){
                                if(data.success){
                                    emailInputSuccess.classList.remove("d-none");
                                    setTimeout(function () {
                                        $('#inviteModal').modal('hide');
                                    }, 500);
                                    //- window.location.href = "/videos/"+video_ID+"?videoid="+videoID;
                                }else{
                                    switch (data.code) {
                                        case 50:
                                            window.location.href = "/";
                                            break;
                                        case 54:
                                            window.location.href = "back";
                                            break;
                                        default:
                                            break;
                                    }
                                }
                            })
                        
                        }
                        else{
                            var videoLinks=[];
                            var videoObjects=[];
                            for (let index=0; index < videosSelected.length; index++ ) {
                                const video = videosSelected[index]
                                videoLinks.push({
                                    link:"https://webeta.onrender.com/videos/?videoid=" + video.videoID+shareText,
                                    title:video.title,
                                    
                                }) 
                                videoObjects.push({
                                    videoID:video.videoID,
                                    title:video.videoTitle,
                                    _id:video._id,
                                })

                            }
                            $.post("/share/videoMultiple",{emails:emails, videoLinks:videoLinks,videoObjects:videoObjects}, function(data, status){
                                if(data.success){
                                    emailInputSuccess.classList.remove("d-none");
                                    setTimeout(function () {
                                        cancelSelectAllVideos()
                                        $('#inviteModal').modal('hide');
                                    }, 500);

                                }else{
                                    switch (data.code) {
                                        case 50:
                                            window.location.href = "/";
                                            break;
                                        case 54:
                                            window.location.href = "back";
                                            break;
                                        default:
                                            break;
                                    }
                                }
                            })
                        }
                    }else{

                    $.post("/referAFriend",{ emails:emails}, function(data, status){
                            if(data.success){
                                emailInputSuccess.classList.remove("d-none");
                                setTimeout(function () {
                                    $('#inviteModal').modal('hide');
                                }, 500);
                            }else{
                                switch (data.code) {
                                    case 50:
                                        //- window.location.href = "/";
                                        break;
                                    case 54:
                                        //- window.location.href = "/referAFriend";
                                        break;
                                    case 61:
                                        document.getElementById("inviteModal-btnSubmitText").classList.remove("d-none")
                                        document.getElementById("spinner-inviteModal").classList.add("d-none")
                                        emailInputSuccess.classList.add("d-none");
                                        emailInputAlert.innerHTML="One of the emails is not correct";
                                        emailInputAlert.classList.remove("d-none");

                                        break;
                                    case 62:
                                        text=""
                                        if(data.emails.length>1){
                                            text="Emails: "
                                            for (let index = 0; index < data.emails.length; index++) {
                                                const email = data.emails[index];
                                                text+=email+", "
                                            }
                                            text+="are already registered"
                                        }else{
                                            text="Email: "+data.emails[0]+" is already registered"
                                        }
                                        document.getElementById("inviteModal-btnSubmitText").classList.remove("d-none")
                                        document.getElementById("spinner-inviteModal").classList.add("d-none")
                                        emailInputSuccess.classList.add("d-none");
                                        emailInputAlert.innerHTML=text;
                                        emailInputAlert.classList.remove("d-none");
                                        break;
                                    case 63:
                                    text=""
                                        if(data.emails.length>1){
                                            text="You have already referred these emails: "
                                            for (let index = 0; index < data.emails.length; index++) {
                                                const email = data.emails[index];
                                                text+=email
                                                if(index!=data.emails.length-1)
                                                    text+=", "
                                                
                                            }
                                        }else{
                                            text="You have already referred this email: "+data.emails[0]
                                        }
                                        document.getElementById("inviteModal-btnSubmitText").classList.remove("d-none")
                                        document.getElementById("spinner-inviteModal").classList.add("d-none")
                                        emailInputSuccess.classList.add("d-none");
                                        emailInputAlert.innerHTML=text;
                                        emailInputAlert.classList.remove("d-none");
                                    break;
                                    default:
                                        break;
                                }
                            }
                        })
                    }
                }else{
                    emailInputAlert.innerHTML="Emails: ";
                    for (let index = 0; index < wrongEmails.length; index++) {
                        const wrongEmail = wrongEmails[index];
                        emailInputAlert.innerHTML+=wrongEmail+", "
                    }
                    emailInputAlert.innerHTML+="are not real emails";
                    emailInputAlert.classList.remove("d-none");
                    document.getElementById("inviteModal-btnSubmitText").classList.remove("d-none")
                    document.getElementById("spinner-inviteModal").classList.add("d-none")
                }
            }
        }
        function copyLinkTwitter(userID){
            linkText =
                "https://webeta.onrender.com/shareLibrary/" +
                userID
            var win = window.open(
                "https://twitter.com/intent/tweet?text=" + linkText,
                "_blank"
            );
        }
        var popupVideoID;
        var popupVideoTitle;
        var popupVideo_id;
        var sendVideo=false;
        var inviteModalShareableLink=document.getElementById("inviteModal-shareableLink")
        var inviteModalVideoLink=document.getElementById("inviteModal-videoLink")
        var inviteModalmMltipleVideoLinks=document.getElementById("inviteModal-multipleVideoLinks")
        function shareVideoEmail(videoID,title, video_id,userID){
            popupVideoID=videoID;
            popupVideoTitle=title;
            popupVideo_id=video_id;
            console.log(popupVideoID)
            console.log(popupVideoTitle)
            console.log(popupVideo_id)
            sendVideo=true;
            sendMultipleVideos=false;
            console.log("here")
            inviteModalShareableLink.classList.add("d-none")
            inviteModalVideoLink.classList.remove("d-none")
            inviteModalmMltipleVideoLinks.classList.add("d-none")
            inviteModalVideoLink.setAttribute("onClick", "dismissPopup('popup-share'),copySuccess(this),copyVideoLink('video','"+videoID+"','"+userID+"')");
        }
        function sendInvites(){
            sendVideo=false;
            sendMultipleVideos=false;
            inviteModalShareableLink.classList.remove("d-none")
            inviteModalVideoLink.classList.add("d-none")
            inviteModalmMltipleVideoLinks.classList.add("d-none")
        }
    if user
        script.
            teams=!{JSON.stringify(teams)};
            function getTeams(){
                return teams;
            }
        script(src='/assets/js/teamPopups.js')
        